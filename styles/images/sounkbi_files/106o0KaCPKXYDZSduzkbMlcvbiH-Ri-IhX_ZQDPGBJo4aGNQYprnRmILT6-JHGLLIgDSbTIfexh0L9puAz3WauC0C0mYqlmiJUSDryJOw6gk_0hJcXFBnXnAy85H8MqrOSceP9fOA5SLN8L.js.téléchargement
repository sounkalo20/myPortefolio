;/*FB_PKG_DELIM*/

__d("usePolarisSponsoredStoryMediaImpressionLogger",["InstagramAdImpressionFalcoEvent","InstagramAdSubImpressionFalcoEvent","PolarisMonitorErrors","PolarisNavChain","PolarisODS","PolarisReactRedux","PolarisSponsoredStoryLoggingConstants","cometGHLContentDisplayCheck","err","polarisStorySelectors","setTimeout","usePartialViewImpression","usePolarisSponsoredStoryLoggingParams"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=new Set();function a(a,b,e){var f=d("PolarisReactRedux").useSelector(function(b){return d("polarisStorySelectors").getReel(b,a)});f=c("usePolarisSponsoredStoryLoggingParams")(f,b);var g=f.adId,j=f.adInsertedPosition,k=f.containerModule,l=f.followStatus,m=f.mediaType,n=f.mpk,o=f.postedAt,p=f.reelSize,q=f.reelType,r=f.reelViewerPosition,s=f.sessionReelCounter,t=f.trackingToken,u=f.traySession,v=f.viewerId,w=f.viewerSession;return c("usePartialViewImpression")({onImpressionStart:function(f){var x=f.entry;if(g==null||t==null||v==null){if(b.isSponsored===!0){f=c("err")("Missing critical logging field for InstagramAdImpressionFalcoEvent for story media.");d("PolarisMonitorErrors").logError(f)}return}var y=h.get(b.id),z=Date.now(),A={a_pk:b.ownerId,ad_id:g,ad_inserted_position:j,follow_status:l,m_pk:n,m_t:m,m_ts:o,nav_chain:(f=c("PolarisNavChain").getInstance())==null?void 0:f.getNavChainForSend(),pigeon_reserved_keyword_module:k,pk:v,post_id:b.id,reel_id:a,reel_position:e.toString(),reel_size:p,reel_type:q,reel_viewer_position:r,session_reel_counter:s,source_of_action:k,tracking_token:t,tray_session_id:u,viewer_session_id:w};if(i.has(b.id))return;i.add(b.id);c("setTimeout")(function(){var a=c("cometGHLContentDisplayCheck")(x.target);y==null?a?(c("PolarisODS").incr("web.ads.story.media.impression"),c("InstagramAdImpressionFalcoEvent").log(function(){return A}),h.set(b.id,z)):c("PolarisODS").incr("web.ads.story.media.impression.hidden"):z-y>=d("PolarisSponsoredStoryLoggingConstants").SUB_IMPRESSION_GAP&&(a?(c("PolarisODS").incr("web.ads.story.media.sub_impression"),c("InstagramAdSubImpressionFalcoEvent").log(function(){return A}),h.set(b.id,z)):c("PolarisODS").incr("web.ads.story.media.sub_impression.hidden"));i["delete"](b.id)},d("PolarisSponsoredStoryLoggingConstants").ADBLOCK_CHECK_DELAY)}})}g["default"]=a}),98);
__d("InstagramAdTimeSpentFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3553");b=d("FalcoLoggerInternal").create("instagram_ad_time_spent",a);e=b;g["default"]=e}),98);
__d("usePolarisSponsoredStoryMediaTimeSpentLogger",["InstagramAdTimeSpentFalcoEvent","PolarisContainerModuleUtils","PolarisMonitorErrors","PolarisODS","PolarisReactRedux","PolarisStoriesLoggingUtils","PolarisViewpointActionUtils","err","nullthrows","polarisRelationshipSelectors","polarisStorySelectors","usePartialViewImpression","usePolarisAnalyticsContext","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function a(a,b,e,f){var g=c("usePolarisViewer")(),i=d("PolarisReactRedux").useSelector(function(b){return d("polarisStorySelectors").getReel(b,a)}),j=d("PolarisReactRedux").useSelector(d("polarisStorySelectors").getStoriesContent),k=j.traySession,l=d("PolarisReactRedux").useSelector(function(a){return a.stories.viewerSession}),m=d("PolarisReactRedux").useSelector(function(b){return b.stories.currentTrayOrder.indexOf(a)});j=d("polarisRelationshipSelectors").useRelationship((j=b.ownerId)!=null?j:"");var n=j!=null?d("PolarisViewpointActionUtils").getFollowStatus(j):null,o=c("usePolarisAnalyticsContext")(),p=d("PolarisViewpointActionUtils").getMPKForStoryMedia(b.id,b.owner);return c("usePartialViewImpression")({onImpressionEnd:function(){var j;if((f==null?void 0:f.ad_id)==null||(f==null?void 0:f.tracking_token)==null||n==null||p==null){if(b.isSponsored===!0){var q=c("err")("Missing critical logging field for InstagramAdTimeSpentFalcoEvent.");d("PolarisMonitorErrors").logError(q)}return}q=d("PolarisStoriesLoggingUtils").StoriesLoggingSession.getData();var r=h.get(b.id),s=Date.now();if(r==null){var t=c("err")("Missing logs for story media impression on start");d("PolarisMonitorErrors").logError(t);return}t=d("PolarisContainerModuleUtils").getContainerModule(o);var u={a_pk:b.ownerId,ad_id:f==null?void 0:f.ad_id,ad_inserted_position:m.toString(),follow_status:c("nullthrows")(n),m_pk:c("nullthrows")(d("PolarisViewpointActionUtils").getMPKForStoryMedia(b.id,b.owner)),m_t:Number(d("PolarisStoriesLoggingUtils").getMediaTypeFromPost(b)).toString(),m_ts:(j=b.postedAt)==null?void 0:j.toString(),pigeon_reserved_keyword_module:t,pk:g==null?void 0:g.id,post_id:b.id,reel_id:a,reel_position:e.toString(),reel_size:i==null?void 0:(j=i.itemIds)==null?void 0:j.length.toString(),reel_type:d("PolarisStoriesLoggingUtils").getTypeForLogging(i==null?void 0:i.type),reel_viewer_position:q.reelPositionInTray.toString(),session_reel_counter:q.reelCounter.toString(),source_of_action:t,timespent:(s-r)/1e3,tracking_token:c("nullthrows")(f==null?void 0:f.tracking_token),tray_session_id:k,viewer_session_id:l};c("PolarisODS").incr("web.ads.story.media.time_spent.end");c("InstagramAdTimeSpentFalcoEvent").log(function(){return u})},onImpressionStart:function(){if((f==null?void 0:f.ad_id)==null||(f==null?void 0:f.tracking_token)==null||n==null||p==null||(g==null?void 0:g.id)==null){if(b.isSponsored===!0){var a=c("err")("Missing critical logging field for InstagramAdTimeSpentFalcoEvent.");d("PolarisMonitorErrors").logError(a)}return}a=Date.now();c("PolarisODS").incr("web.ads.story.media.time_spent.start");h.set(b.id,a)}})}g["default"]=a}),98);
__d("InstagramAdViewabilityFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3668");b=d("FalcoLoggerInternal").create("instagram_ad_viewability",a);e=b;g["default"]=e}),98);
__d("usePolarisSponsoredStoryMediaViewabilityLogger",["InstagramAdViewabilityFalcoEvent","PolarisContainerModuleUtils","PolarisMonitorErrors","PolarisODS","PolarisReactRedux","PolarisStoriesLoggingUtils","PolarisViewpointActionUtils","err","polarisRelationshipSelectors","polarisStorySelectors","usePartialViewImpression","usePolarisAnalyticsContext","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function a(a,b,e,f){var g=c("usePolarisViewer")(),i=d("PolarisReactRedux").useSelector(function(b){return d("polarisStorySelectors").getReel(b,a)}),j=d("PolarisReactRedux").useSelector(function(a){return a.stories.viewerSession}),k=d("PolarisReactRedux").useSelector(function(b){return b.stories.currentTrayOrder.indexOf(a)}),l=d("PolarisReactRedux").useSelector(d("polarisStorySelectors").getStoriesContent),m=l.traySession;l=d("polarisRelationshipSelectors").useRelationship((l=b.ownerId)!=null?l:"");var n=l!=null?d("PolarisViewpointActionUtils").getFollowStatus(l):null,o=c("usePolarisAnalyticsContext")();return c("usePartialViewImpression")({onImpressionEnd:function(){if((f==null?void 0:f.ad_id)==null||(f==null?void 0:f.tracking_token)==null||(g==null?void 0:g.id)==null){if(b.isSponsored===!0){var l=c("err")("Missing critical logging field for InstagramAdViewabilityFalcoEvent.");d("PolarisMonitorErrors").logError(l)}return}l=d("PolarisStoriesLoggingUtils").StoriesLoggingSession.getData();var p=h.get(b.id),q=Date.now();if(p==null){var r=c("err")("Missing logs for story media viewability on start");d("PolarisMonitorErrors").logError(r);return}r=d("PolarisContainerModuleUtils").getContainerModule(o);var s={a_pk:b.ownerId,ad_id:f==null?void 0:f.ad_id,ad_inserted_position:k.toString(),duration:(q-p)/1e3,follow_status:n,m_pk:d("PolarisViewpointActionUtils").getMPKForStoryMedia(b.id,b.owner),m_t:Number(d("PolarisStoriesLoggingUtils").getMediaTypeFromPost(b)).toString(),m_ts:(q=b.postedAt)==null?void 0:q.toString(),pigeon_reserved_keyword_module:r,pk:g==null?void 0:g.id,post_id:b.id,reel_id:a,reel_position:e.toString(),reel_size:i==null?void 0:(p=i.itemIds)==null?void 0:p.length.toString(),reel_type:d("PolarisStoriesLoggingUtils").getTypeForLogging(i==null?void 0:i.type),reel_viewer_position:l.reelPositionInTray.toString(),session_reel_counter:l.reelCounter.toString(),source_of_action:r,tracking_token:(q=f==null?void 0:f.tracking_token)!=null?q:"",tray_session_id:m,viewer_session_id:j,visibility_unit:"feed_unit"};c("PolarisODS").incr("web.ads.story.media.viewability.end");c("InstagramAdViewabilityFalcoEvent").log(function(){return s})},onImpressionStart:function(){var a=Date.now();c("PolarisODS").incr("web.ads.story.media.viewability.start");h.set(b.id,a)}})}g["default"]=a}),98);
__d("InstagramAdVpvdImpFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3691");b=d("FalcoLoggerInternal").create("instagram_ad_vpvd_imp",a);e=b;g["default"]=e}),98);
__d("usePolarisSponsoredStoryMediaVpvdImpressionLogger",["InstagramAdVpvdImpFalcoEvent","PolarisContainerModuleUtils","PolarisMonitorErrors","PolarisODS","PolarisReactRedux","PolarisStoriesLoggingUtils","PolarisViewpointActionUtils","err","polarisRelationshipSelectors","polarisStorySelectors","usePartialViewImpression","usePolarisAnalyticsContext","usePolarisSelector","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=new Map(),j=new Map(),k=250;function a(a,b,e,f){var g=c("usePolarisViewer")(),l=d("PolarisReactRedux").useSelector(function(b){return d("polarisStorySelectors").getReel(b,a)}),m=c("usePolarisSelector")(d("polarisStorySelectors").getStoriesContent),n=m.traySession,o=d("PolarisReactRedux").useSelector(function(a){return a.stories.viewerSession}),p=d("PolarisReactRedux").useSelector(function(b){return b.stories.currentTrayOrder.indexOf(a)});m=d("polarisRelationshipSelectors").useRelationship((m=b.ownerId)!=null?m:"");var q=m!=null?d("PolarisViewpointActionUtils").getFollowStatus(m):null,r=c("usePolarisAnalyticsContext")(),s=d("PolarisViewpointActionUtils").getMPKForStoryMedia(b.id,b.owner);return c("usePartialViewImpression")({onImpressionEnd:function(){var m;if((f==null?void 0:f.ad_id)==null||(f==null?void 0:f.tracking_token)==null||q==null||s==null){if(b.isSponsored===!0){var t=c("err")("Missing critical logging field for InstagramAdVpvdImpFalcoEvent.");d("PolarisMonitorErrors").logError(t)}return}t=d("PolarisStoriesLoggingUtils").StoriesLoggingSession.getData();var u=h.get(b.id),v=Date.now();if(u==null){var w=c("err")("Missing logs for story media vpvd on start");d("PolarisMonitorErrors").logError(w);return}w=v-u;if(w<k)return;u=Math.max(w,(v=i.get(b.id))!=null?v:0);i.set(b.id,u);v=(v=j.get(b.id))!=null?v:0+w;j.set(b.id,v);var x=d("PolarisContainerModuleUtils").getContainerModule(r),y={a_pk:b.ownerId,ad_id:f==null?void 0:f.ad_id,ad_inserted_position:p.toString(),follow_status:q,m_pk:s,m_t:Number(d("PolarisStoriesLoggingUtils").getMediaTypeFromPost(b)).toString(),m_ts:(m=b.postedAt)==null?void 0:m.toString(),max_duration_ms:u.toString(),pigeon_reserved_keyword_module:x,pk:g==null?void 0:g.id,post_id:b.id,reel_id:a,reel_position:e.toString(),reel_size:l==null?void 0:(m=l.itemIds)==null?void 0:m.length.toString(),reel_type:d("PolarisStoriesLoggingUtils").getTypeForLogging(l==null?void 0:l.type),reel_viewer_position:t.reelPositionInTray.toString(),session_reel_counter:t.reelCounter.toString(),source_of_action:x,sum_duration_ms:v,timespent:w/1e3,tracking_token:(u=f==null?void 0:f.tracking_token)!=null?u:"",tray_session_id:n,viewer_session_id:o};c("PolarisODS").incr("web.ads.story.media.vpvd.end");c("InstagramAdVpvdImpFalcoEvent").log(function(){return y})},onImpressionStart:function(){if((f==null?void 0:f.ad_id)==null||(f==null?void 0:f.tracking_token)==null||q==null||s==null||(g==null?void 0:g.id)==null){if(b.isSponsored===!0){var a=c("err")("Missing critical logging field for InstagramAdVpvdImpFalcoEvent.");d("PolarisMonitorErrors").logError(a)}return}a=Date.now();c("PolarisODS").incr("web.ads.story.media.vpvd.start");h.set(b.id,a)}})}g["default"]=a}),98);
__d("PolarisSponsoredStoriesFooterCTA.react",["cx","PolarisClickEventLoggerProvider.react","PolarisExternalLink.react","PolarisIGCoreText","PolarisODS","PolarisReactRedux","PolarisS351857IDLoggingFix","PolarisStoryActions","PolarisTrackingNodeProvider.react","nullthrows","polarisStorySelectors","react","usePolarisOffsiteTrackingDataURLParams","usePolarisSelector"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.ctaUrl,e=a.isActive,f=a.isMobile;f=f===void 0?!1:f;a=a.text;var g=d("PolarisReactRedux").useDispatch(),h=function(){c("PolarisODS").incr("web.ads.story.link_click"),g(d("PolarisStoryActions").navigateFromStory())},j=c("usePolarisSelector")(function(a){return d("polarisStorySelectors").getTrayEntrypoint(a)});a=i.jsx("div",{className:"_adsy",children:i.jsx(c("PolarisIGCoreText"),{color:e?"web-always-black":"web-always-white",size:"body",textAlign:"center",weight:"semibold",children:a})});f=f?i.jsx("div",{className:"_9znl _ads_","data-testid":void 0}):null;var k=c("nullthrows")(d("PolarisReactRedux").useSelector(d("polarisStorySelectors").getCurrentPostId)),l=c("nullthrows")(d("PolarisReactRedux").useSelector(d("polarisStorySelectors").getCurrentPost));l=c("nullthrows")(l.owner).id;e=i.jsxs("div",{children:[f,i.jsx("div",{className:"_adt1"+(e?" _adt2":""),children:i.jsx(c("PolarisExternalLink.react"),{author_id:c("PolarisS351857IDLoggingFix")((f=l)!=null?f:"0",l!=null?Number(l):0),className:"_adtk","data-testid":void 0,href:b,media_pk:k,onClick:h,page_id:"StoriesPage",queryParams:c("usePolarisOffsiteTrackingDataURLParams")(b),target:"_blank",children:a})})]});return j==="story_ad_activity"?e:i.jsx(c("PolarisClickEventLoggerProvider.react"),{children:i.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:86,children:e})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisSponsoredTextWidthUtils",[],(function(a,b,c,d,e,f){"use strict";var g=13,h="";function a(a,b,c,d){var e=0,f=a.length-1;while(e<=f){var g=Math.floor((e+f)/2),j=a.slice(0,g+1).join(h);i(j,b,c)<=d?e=g+1:f=g-1}return e}function i(a,b,c){var d=i.canvas=document.createElement("canvas");d=d.getContext("2d");if(d==null)return g;d.font=b;b=c!=null?a.replace(" ","").length*c:0;c=d.measureText(a);return c.width+b}f.getMaxWordIndexForWidth=a;f.getTextWidthForAdPreviewCaption=i}),66);
__d("PolarisSponsoredStoryCaptionUtils",["Locale","PolarisSponsoredTextWidthUtils","UnicodeBidi","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";var h=3e3,i="",j=80;function a(a,b){a=(a-b)/2;b=a-j;a=Math.max((a-j)/2,0);var c=a/2;return{captionOffset:c,maxCaptionHeight:b,mediaOffset:a}}function b(a){a=d("UnicodeBidi").isDirectionRTL(a);var b=d("Locale").isRTL(),c="";a&&!b?c="rtl":!a&&b&&(c="ltr");return c}function e(a,b,c,e,f,g,j){var k=[];b=b+"px "+c;c=[];var l=0,m=0;j!=null&&(b=j+" "+b);while(l<a.length||c.length>0){m++;if(m>h)throw new Error("something went wrong while rendering caption. please report this issue.");j=void 0;c.length>0?j=c:j=a[l];if(j.length===0){k.push("");l++;continue}var n=l===0&&c.length===0&&g!=null?f-g:f,o=d("PolarisSponsoredTextWidthUtils").getMaxWordIndexForWidth(j,b,e,n);if(o===0){n=d("PolarisSponsoredTextWidthUtils").getMaxWordIndexForWidth(Array.from(j[0]),b,e,n);var p=j[0].slice(0,n);k.push(p);n<j[0].length?c=[j[0].slice(n)].concat(j.slice(1,j.length)):c=j.slice(1,j.length)}else{p=j.slice(0,o).join(i);k.push(p);c=j.slice(o)}if(c.length>0)continue;l++}return k}function f(a){a=a.split(l).filter(function(a){return!c("isStringNullOrEmpty")(a)});var b=[];a.forEach(function(a){if(!a.startsWith("@")&&!a.startsWith("#")){var d=a.split(k).filter(function(a){return!c("isStringNullOrEmpty")(a)});d.forEach(function(a){return b.push(a)})}else b.push(a)});return b}var k=/((?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C])+|(?:(?:[\u0E01-\u0E3A\u0E40-\u0E5B\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u1000-\u109F\u1780-\u17DD\u17E0-\u17E9\u17F0-\u17F9\u19E0-\u19FF\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u3005\u3007\u3021-\u3029\u3038-\u303B\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FD-\u30FF\u31F0-\u31FF\u32D0-\u32FE\u3300-\u3357\u3400-\u4DB5\u4E00-\u9FEF\uA9E0-\uA9FE\uAA60-\uAA7F\uF900-\uFA6D\uFA70-\uFAD9\uFF66-\uFF6F\uFF71-\uFF9D]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67]|\uD83C\uDE00|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC7F-\uDC82\uDCB0-\uDCBA\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDE2C-\uDE37\uDE3E\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])*))/,l=/([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)|(\B@[0-9A-Z_a-z]+(?:\.(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])[0-9A-Z_a-z]+)*)|(&?#(?:\\w)+)/;g.getSponsoredStoryCaptionMediaValues=a;g.getTextDirection=b;g.transformWordsListToInlineSentences=e;g.tokenizeCaption=f}),98);
__d("PolarisSponsoredStoryCaption.react",["fbt","PolarisSponsoredStoryCaptionUtils","PolarisSponsoredTextWidthUtils","PolarisStoriesProvider.react","filterNulls","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=" \u2026 ",k="",l="#FFF",m="#000",n=15,o=.5,p=1,q=350,r=120,s=150,t=h._("__JHASH__eyN3kALEX8n__JHASH__");function u(a){var b=a.captionStyle,c=a.inlineSentencesList,e=a.maxLines;a=a.maxWidth;var f=d("PolarisStoriesProvider.react").useStoriesContext(),g=f.updateStoriesContext;f=function(){g({isCaptionModalActive:!0})};var h=babelHelpers["extends"]({},b,{background:"none",border:"none",cursor:"pointer",opacity:.8,padding:0,position:"relative",textDecoration:"underline",zIndex:100}),l=b.fontSize+"px "+b.fontFamily,m=[];e>0&&c.length>e&&(m=c[e-1].split(k));var n=d("PolarisSponsoredTextWidthUtils").getTextWidthForAdPreviewCaption(j+t.toString(),l,b.letterSpacing);l=d("PolarisSponsoredTextWidthUtils").getMaxWordIndexForWidth(m,l,b.letterSpacing,a-n);a=m.slice(0,l).join(k);return i.jsxs("span",{children:[c.slice(0,e-1).map(function(a,c){return i.jsxs("span",{style:b,children:[a,i.jsx("br",{})]},c)}),i.jsxs("span",{style:b,children:[a,j,i.jsx("button",{onClick:f,style:h,children:t})]},"lastCaption")]})}u.displayName=u.name+" [from "+f.id+"]";function v(a,b){b=b*1.4;a=a!=null?Math.floor(a/b):p;return a<=0?1:a}function a(a){var b=a.caption,e=a.maxCaptionHeight,f=a.maxCaptionWidth,g=a.textBackgroundColor,h=a.textBackgroundColorAlpha,j=a.textColor;a=a.textSize;g=g!=null&&h!=null?g+h:m;j=(h=j)!=null?h:l;a=(h=a)!=null?h:n;h="Tahoma, Helvetica, Arial, sans-serif";var k=o;f=f>s?f-r:q;var p=700;e=v(e,a);var t={backgroundColor:g,borderRadius:"4px",color:j,fontFamily:h,fontSize:a,fontWeight:p,letterSpacing:k,lineHeight:"140%",padding:"2px 2px 5px 2px"};g=b.split("\n").map(d("PolarisSponsoredStoryCaptionUtils").tokenizeCaption);j=c("filterNulls")(d("PolarisSponsoredStoryCaptionUtils").transformWordsListToInlineSentences(g,a,h,k,f));b=d("PolarisSponsoredStoryCaptionUtils").getTextDirection((p=j[0])!=null?p:"");g=j.length>e;return i.jsx("div",{className:"x1cnzs8 x6x52a7 xx6bls6 xxpdul3 x1n2onr6","data-testid":void 0,dir:b,children:g?i.jsx(u,{captionStyle:t,inlineSentencesList:j,maxLines:e,maxWidth:f}):j.map(function(a,b){return i.jsxs("span",{style:t,children:[a,i.jsx("br",{})]},b)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryExpired.react",["cx","PolarisStoriesStrings","emptyFunction","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.eventZone,e=a.isFirstStory,f=a.onClose,g=a.onNext,h=a.onNextReel,j=a.onPrev;a=a.onPrevReel;var k=c("emptyFunction"),l=c("emptyFunction"),m=c("emptyFunction");return i.jsxs("div",{className:"_abwn",children:[i.jsx("p",{className:"_abwo",children:d("PolarisStoriesStrings").STORY_EXPIRED_TEXT}),i.jsx(b,{isFirstStory:e,isPlaying:!0,isVideo:!1,onClose:f,onNext:g,onNextReel:h,onPause:l,onPlay:k,onPrev:j,onPrevReel:a,onResume:m,showVideoPlayButton:!1,tappableStickersEligible:!1})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryPreview.react",["cx","IGDSSpinner.react","PolarisPreviewPhoto.react","isStringNullOrEmpty","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.className,e=a.dimensions;a=a.mediaPreview;return i.jsxs("div",{className:c("joinClasses")(b,"_ac59"),children:[!c("isStringNullOrEmpty")(a)&&i.jsx(d("PolarisPreviewPhoto.react").PreviewPhoto,{dimensions:e,previewData:a}),i.jsx(c("IGDSSpinner.react"),{position:"absolute",size:"medium"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryImage.react",["cx","IGDSBox.react","PolarisEventLoop","PolarisResponsiveImage.react","PolarisSponsoredStoryCaption.react","PolarisSponsoredStoryCaptionUtils","PolarisStoriesLoggingUtils","PolarisStoriesProvider.react","PolarisStoryConstants","PolarisStoryMediaDebugger","PolarisStoryMediaLayout.react","PolarisStoryPreview.react","isStringNullOrEmpty","joinClasses","nullthrows","polarisAdsSelectors","polarisDeveloperSettings","polarisWithRemountOnChange","react","usePrevious"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useCallback,k=e.useEffect,l=e.useRef,m=e.useState;function a(a){var b=a.eventZone,e=a.isFirstStory;a.isInitialLoad;var f=a.isPlaybackDisabled,g=a.isTransitioning,h=a.mediaRef,n=a.onClose,o=a.onNext,p=a.onNextReel,q=a.onPause,r=a.onPlay,s=a.onPostSeen,t=a.onPrev,u=a.onPrevReel,v=a.onUpdatePlayPercentage,w=a.post;a.reelId;var x=a.viewerDimensions;a=m(!1);var y=a[0],z=a[1];a=m(!1);var A=a[0],B=a[1];a=m(null);var C=a[0],D=a[1];C=0;var E,F,G=c("usePrevious")(f),H=l(F),I=j(function(){H.current!=null&&(c("PolarisEventLoop").clearInterval(H.current),H.current=null)},[H]),J=function(){I(),o("automatic_forward")},K=j(function(){if(!A)return;B(!1)},[A]),L=j(function(){if(f||!y||A)return;B(!0)},[y,f,A,B]),M=function(){L()},N=function(a,b){s(),z(!0)};k(function(){f&&G===!1&&!g?K():!f&&G===!0&&!g&&L()},[f,g,K,L,G]);k(function(){return function(){E&&(E.onload=null),I()}},[]);var O=l(C),P=j(function(){if(H.current!=null)return;H.current=c("PolarisEventLoop").setInterval(function(){O.current+=d("PolarisStoryConstants").STORY_UPDATE_TICK_S;var a=O.current*100/d("PolarisStoryConstants").STORY_IMAGE_DURATION_S;a=Math.min(a,100);v(a);a===100&&J()},d("PolarisStoryConstants").STORY_UPDATE_TICK_S*1e3)},[H,v,J,O]),Q=c("usePrevious")(A);k(function(){if(Q===A)return;!A&&O.current<d("PolarisStoryConstants").STORY_IMAGE_DURATION_S?(d("PolarisStoriesLoggingUtils").StoriesLoggingSession.startPauseTimer(),I(),q()):A&&!f&&y&&O.current<d("PolarisStoryConstants").STORY_IMAGE_DURATION_S&&(d("PolarisStoriesLoggingUtils").StoriesLoggingSession.stopPauseTimer(),P(),r())},[I,O,y,f,A,q,r,Q,P]);k(function(){y&&L()},[y,L]);var R=c("nullthrows")(w.dimensions);a=(a=d("polarisAdsSelectors").useStoryAdInfo(w.id,function(a){return a}))==null?void 0:(C=a.reelMediaBackgrounds)==null?void 0:C.get(w.id);C=(a==null?void 0:(C=a.top)==null?void 0:C.background_color)!=null&&(a==null?void 0:(C=a.bottom)==null?void 0:C.background_color)!=null?{background:"linear-gradient("+a.top.background_color+", "+a.bottom.background_color+")"}:null;a=d("PolarisStoriesProvider.react").useStoriesContext();var S=a.viewerHeight,T=a.viewerWidth,U=(a=w.caption)==null?void 0:a.trim(),V=!c("isStringNullOrEmpty")(U)&&w.isSponsored;return i.jsxs("div",{className:"_ac50","data-testid":void 0,ref:h,children:[null,i.jsx(c("PolarisStoryMediaLayout.react"),{intrinsicDimensions:R,style:C,children:function(a){var f,h=d("PolarisSponsoredStoryCaptionUtils").getSponsoredStoryCaptionMediaValues(S,a.layoutHeight),j=h.captionOffset,k=h.maxCaptionHeight;h=h.mediaOffset;return i.jsxs(i.Fragment,{children:[!y&&i.jsx(c("PolarisStoryPreview.react"),{className:a.className,dimensions:R,mediaPreview:w.mediaPreview},"p_"+w.id),i.jsx(c("PolarisResponsiveImage.react"),{className:c("joinClasses")(a.className,(A?"":"_ac51")+(y?"":" _ac52")),decoding:"sync",imgRef:function(a){return D(a)},onLoad:N,resizeKey:((f=w.src)!=null?f:"")+"-"+(g?"transitionInProgress":"transitionComplete"),src:w.src,srcSet:w.displayResources,style:{position:"relative",top:V===!0?-h:0}}),V===!0&&U!=null&&i.jsx("div",{style:{position:"relative",top:-j},children:i.jsx(c("PolarisSponsoredStoryCaption.react"),{caption:U,maxCaptionHeight:k,maxCaptionWidth:T,textBackgroundColor:w.captionBackgroundColor,textBackgroundColorAlpha:w.captionBackgroundColorAlpha,textColor:w.captionTextColor,textSize:w.captionTextSize})}),i.jsx(c("IGDSBox.react"),{alignItems:"center",bottom:!0,justifyContent:"center",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:i.jsx(b,{isFirstStory:e,isPlaying:A,isVideo:!1,mediaLayout:a,onClose:n,onNext:o,onNextReel:p,onPause:K,onPlay:L,onPrev:t,onPrevReel:u,onResume:M,showVideoPlayButton:!1,tappableStickersEligible:!0,viewerDimensions:x})})]})}})]})}a.displayName=a.name+" [from "+f.id+"]";function b(a,b){return a.post.id!==b.post.id}h=c("polarisWithRemountOnChange")(b)(a);g["default"]=h}),98);
__d("PolarisStoryMediaOverlayInfoFooterCTAContainer.react",["PolarisStoriesProvider.react","PolarisStoryMediaOverlayInfoFooterCTA.react","polarisStorySelectors","react","usePolarisSelector"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.bannerInfo;a=a.entityID;var e=d("PolarisStoriesProvider.react").useStoriesContext(),f=e.updateStoriesContext;e=c("usePolarisSelector")(d("polarisStorySelectors").getTrayEntrypoint);var g=function(){f({isPlaybackDisabled:!0})},i=function(){f({isPlaybackDisabled:!1})};return h.jsx(c("PolarisStoryMediaOverlayInfoFooterCTA.react"),{bannerInfo:b,entityID:a,onCloseBloksApp:i,onOpenBloksApp:g,trayEntrypoint:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStorySensitivityOverlay.react",["cx","fbt","CometPlaceholder.react","IGCoreDialog","IGDSBox.react","IGDSDivider.react","IGDSText.react","JSResourceForInteraction","PolarisEventLoop","PolarisIGCoreBox","PolarisIGCoreButton","PolarisMediaOverlayInfoTypes","PolarisPreviewPhoto.react","PolarisReactRedux","PolarisSensitivityOverlayIcon.react","PolarisStoriesContext","PolarisStoryConstants","PolarisStoryMediaLayout.react","PolarisStorySensitivityOverlayMediaOverlayInfoCoverContents.react","lazyLoadComponent","nullthrows","polarisGetPostFromGraphMediaInterface","polarisStorySelectors","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGWebBloksApp").__setRef("PolarisStorySensitivityOverlay.react")),l=d("PolarisStoryConstants").STORY_UPDATE_TICK_S*1e3;b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.state={showDialog:!1},c.$3=!1,c.$4=0,c.$5=null,c.$12=function(a,b){var e=b.action;switch(e){case d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_ACTIONS.CLEAR_MEDIA_COVER:c.$10(a,b);break;case d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_ACTIONS.OPEN_BLOKS_APP:c.$11(a,b);break;default:break}},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){this.$1()};e.componentWillUnmount=function(){this.$2()};e.$1=function(){var a=this;if(this.$5!=null&&this.$5!==0)return;this.$5=c("PolarisEventLoop").setInterval(function(){if(a.state.showDialog||a.props.isPlaybackDisabled)return;a.$4+=d("PolarisStoryConstants").STORY_UPDATE_TICK_S;var b=a.$4*100/d("PolarisStoryConstants").STORY_IMAGE_DURATION_S;b=Math.min(b,100);a.props.onUpdatePreplayPercentage(b);b===100&&a.$6()},l)};e.$2=function(){this.$5!=null&&this.$5!==0&&(c("PolarisEventLoop").clearInterval(this.$5),this.$5=null)};e.$6=function(){this.$2(),this.props.onNext("automatic_forward")};e.$7=function(a){var b=this.props,c=b.containerModule,d=b.logger,e=b.onShowPostClicked,f=b.onUpdatePreplayPercentage;b=b.post;d.logConfirmationDialogAccept({containerModule:c,gatingEvent_DEPRECATED:this.$8(),mediaId:b.id,mediaOverlayCoverInfo:a});this.$2();f(0);e()};e.$9=function(a){var b=this.props,c=b.containerModule,d=b.logger;b=b.post;d.logConfirmationDialogDismiss({containerModule:c,gatingEvent_DEPRECATED:this.$8(),mediaId:b.id,mediaOverlayCoverInfo:a});this.setState({showDialog:!1})};e.$10=function(a,b){var c=this.props,d=c.containerModule,e=c.logger;c=c.post;e.logButtonClick({button:b,containerModule:d,gatingEvent_DEPRECATED:this.$8(),mediaId:c.id,mediaOverlayCoverInfo:a});this.setState({showDialog:!0})};e.$11=function(a,b){if((b==null?void 0:b.action_url)!=null){this.context.updateStoriesContext({bloksButtonAppId:b.action_url,bloksButtonClickCount:this.context.bloksButtonClickCount+1,isPlaybackDisabled:!0});var c=this.props,d=c.containerModule,e=c.logger;c=c.post;e.logButtonClick({button:b,containerModule:d,gatingEvent_DEPRECATED:this.$8(),mediaId:c.id,mediaOverlayCoverInfo:a})}};e.$13=function(a){var b=this.props,c=b.containerModule,d=b.logger;b=b.post;d.logImpression({containerModule:c,gatingEvent_DEPRECATED:this.$8(),mediaId:b.id,mediaOverlayCoverInfo:a})};e.$8=function(){var a=this.props,b=a.followStatus,e=a.post,f=a.reelId,g=a.reelPosition,h=a.reelSize,i=a.reelType,j=a.trayEntrypoint,k=a.trayPosition,l=a.traySessionId;a=a.viewerSessionId;var m=!(e.isVideo||!1)&&!(e.isSidecar||!1);return{a_pk:e.id,containermodule:"story",follow_status:b==null?void 0:(b=b.followedByViewer)==null?void 0:b.state,gate_type:"sensitivity",m_pk:e.id+"_"+c("nullthrows")((b=e.owner)==null?void 0:b.id),m_t:m?"1":"2",reel_id:f,reel_position:g,reel_size:h,reel_type:i,source_of_action:j,time_elapsed:this.$4,time_remaining:d("PolarisStoryConstants").STORY_IMAGE_DURATION_S-this.$4,tray_position:k,tray_session_id:l,viewer_session_id:a}};e.render=function(){var a=this,b=this.props.post,e=b.id,f=b.mediaPreview;if(f==null)return null;var g=d("polarisGetPostFromGraphMediaInterface").getMediaOverlayMediaCoverInfoFromPost(this.props.post);this.$3||(this.$3=!0,this.$13(g));b=this.props;var h=b.eventZone,l=b.isFirstStory,m=b.onClose,n=b.onNext,o=b.onNextReel,p=b.onPause,q=b.onPlay,r=b.onPrev;b=b.onPrevReel;h=j.jsx(h,{isFirstStory:l,isPlaying:!1,isVideo:!1,onClose:m,onNext:n,onNextReel:o,onPause:p,onPlay:q,onPrev:r,onPrevReel:b,onResume:function(){},showVideoPlayButton:!1,tappableStickersEligible:!1});l=null;m=null;var s;if(g!=null){var t=g.bottomButton;s=j.jsx(c("PolarisStorySensitivityOverlayMediaOverlayInfoCoverContents.react"),{mediaOverlayCoverInfo:g,onMediaOverlayInfoButtonClick:this.$12,children:h});t!=null&&(l=t.text,m=function(){return a.$12(g,t)})}else s=j.jsxs(j.Fragment,{children:[j.jsx(c("PolarisSensitivityOverlayIcon.react"),{mediaOverlayIconGlyph:null}),h]});var u=this.state.showDialog&&j.jsxs(d("IGCoreDialog").IGCoreDialog,{body:j.jsx(c("IGDSText.react").Title,{children:i._("__JHASH__tavtqXFfTgz__JHASH__")}),onModalClose:function(){return a.$9(g)},children:[j.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:function(){return a.$7(g)},children:i._("__JHASH__TA4Ki9jTP3E__JHASH__")}),j.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:"ig-primary-button",onClick:function(){return a.$9(g)},children:i._("__JHASH__WrmTrdS7tRy__JHASH__")})]}),v=l!=null&&l!==""&&j.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",bottom:!0,dangerouslySetClassName:{__className:"_ac53"},paddingX:8,position:"absolute",width:"100%",children:[j.jsx(c("IGDSDivider.react"),{}),j.jsx(c("IGDSBox.react"),{paddingY:4,position:"relative",width:"100%",children:j.jsx(c("PolarisIGCoreButton"),{borderless:!0,color:"ig-secondary-button",fullWidth:!0,onClick:m!=null?m:void 0,children:j.jsx(c("IGDSText.react"),{color:"webAlwaysWhite",children:l})})})]});n=this.context;o=n.bloksButtonAppId;p=n.bloksButtonClickCount;return j.jsxs(j.Fragment,{children:[j.jsx(c("IGDSBox.react"),{height:"100%",position:"relative",width:"100%",children:j.jsx(c("PolarisStoryMediaLayout.react"),{intrinsicDimensions:{height:this.context.viewerHeight,width:this.context.viewerWidth},children:function(){return j.jsxs(j.Fragment,{children:[j.jsx(d("PolarisPreviewPhoto.react").PreviewPhoto,{dimensions:{height:a.context.viewerHeight,width:a.context.viewerWidth},previewData:f}),j.jsxs(c("PolarisIGCoreBox"),{bottom:!0,dangerouslySetClassName:{__className:"_abws"},justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:[s,u]}),v]})}})}),p>0&&o&&j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(k,{appId:o,bridgeOverrides_DEPRECATED:{onResumeStoryPlayback:function(){a.context.updateStoriesContext({bloksButtonClickCount:0,isPlaybackDisabled:!1})}},params:{media_id:e,module:this.props.trayEntrypoint}},p)})]})};return b}(j.Component);b.contextType=d("PolarisStoriesContext").StoriesContext;function a(a){return babelHelpers["extends"]({},d("polarisStorySelectors").getStoryLoggingPackage(a))}e=d("PolarisReactRedux").connect(a,null)(b);g["default"]=e}),98);
__d("PolarisStorySensitivityOverlayContainer.react",["PolarisStorySensitivityOverlay.react","react","usePolarisStorySensitivityOverlayLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=c("usePolarisStorySensitivityOverlayLogger")();return h.jsx(c("PolarisStorySensitivityOverlay.react"),babelHelpers["extends"]({},a,{logger:b}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryTapToPlayOverlay.react",["IGDSBox.react","PolarisPreviewPhoto.react","PolarisReactRedux","PolarisStoryMediaLayout.react","PolarisStoryTapToPlay.react","polarisStorySelectors","react","usePolarisStoryTapToPlayOverlayLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect,j=300;function a(a){var b,e=a.onShowPostClicked;a=a.post;var f=c("usePolarisStoryTapToPlayOverlayLogger")();i(function(){f.logImpression()},[f]);var g=(b=d("PolarisReactRedux").useSelector(d("polarisStorySelectors").getCurrentPostAuthor))==null?void 0:b.username,k=function(){f.logTapToPlay(),e()};b=a.dimensions;var l=b===void 0?{height:j,width:j}:b,m=a.mediaPreview;return h.jsx(c("IGDSBox.react"),{height:"100%",position:"relative",width:"100%",children:h.jsx(c("PolarisStoryMediaLayout.react"),{intrinsicDimensions:l,children:function(){return h.jsxs(h.Fragment,{children:[m!=null&&h.jsx(d("PolarisPreviewPhoto.react").PreviewPhoto,{dimensions:l,previewData:m}),h.jsx(c("IGDSBox.react"),{alignItems:"center",bottom:!0,direction:"column",display:"flex",justifyContent:"center",left:!0,marginEnd:"auto",marginStart:"auto",position:"absolute",right:!0,top:!0,width:"75%",children:h.jsx(c("PolarisStoryTapToPlay.react"),{onTapToPlay:k,username:g})})]})}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryTappablePopup.react",["cx","fbt","Locale","PolarisGuideLogger","PolarisGuideStrings","PolarisLinkBuilder","PolarisLogger","PolarisNavigationUtils","PolarisODS","browserHistory","nullthrows","polarisUnexpected","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.onTagClick;a=a.tappedObject;var e=function(a){var e=null,f=function(){return null};switch(a.type){case"GraphTappableHashtag":a.attribution!=null&&a.customTitle!=null?e=j.jsxs(j.Fragment,{children:[j.jsx("div",{children:a.customTitle}),j.jsx("div",{className:"_ac5q",children:a.attribution})]}):e=i._("__JHASH__j-m2mM8g739__JHASH__");f=function(){d("browserHistory").browserHistory.push(d("PolarisLinkBuilder").buildTagLink(c("nullthrows")(a.hashtagName)))};break;case"GraphTappableLocation":e=i._("__JHASH__JBsMhx8LdAa__JHASH__");f=function(){d("browserHistory").browserHistory.push(d("PolarisLinkBuilder").buildLocationLink({id:c("nullthrows")(a.locationId),slug:""}))};break;case"GraphTappableMention":e=a.mentionFullname!=null&&a.mentionFullname!==""?a.mentionFullname:a.mentionUsername;f=function(){d("browserHistory").browserHistory.push(d("PolarisLinkBuilder").buildUserLink(c("nullthrows")(a.mentionUsername)))};break;case"TappableLink":e=i._("__JHASH__Hmd96IUCrAZ__JHASH__");c("PolarisODS").incr("web.stories.link_sticker.view");f=function(){c("PolarisODS").incr("web.stories.link_sticker.clicks"),d("PolarisNavigationUtils").openExternalURL(c("nullthrows")(a.url))};break;case"GraphTappableFeedMedia":e=i._("__JHASH__vWGiSQVQct8__JHASH__");f=function(){d("browserHistory").browserHistory.push(d("PolarisLinkBuilder").buildMediaLink(c("nullthrows")(a.feedPostShortcode)))};break;case"GraphTappableFeedClips":e=i._("__JHASH__gGl8vL-QfLi__JHASH__");f=function(){d("browserHistory").browserHistory.push(d("PolarisLinkBuilder").buildMediaLink(c("nullthrows")(a.feedPostShortcode)))};break;case"GraphTappableGuide":e=d("PolarisGuideStrings").VIEW_GUIDE_STORY_CTA,f=function(){d("PolarisGuideLogger").logGuideEntry({entryPoint:"story",guideID:c("nullthrows")(a.guideId)}),d("PolarisLogger").logAction("guideStoryClick"),d("browserHistory").browserHistory.push(d("PolarisLinkBuilder").buildGuideLink(c("nullthrows")(a.guideOwnerUsername),c("nullthrows")(a.guideTitle),c("nullthrows")(a.guideId)))}}f===null&&(f=function(){c("polarisUnexpected")("Tappable object type should be hashtag, location, or mention")});return{content:e,onClick:function(a){a.stopPropagation(),f(),b&&b(a)}}},f=c("Locale").isRTL(),g=c("nullthrows")(a.x)*100,h=c("nullthrows")(a.y)*100;g={left:g+"%",top:h+"%",transform:"translate(-50%, -120%)"};h=e(a);e=h.content;a=h.onClick;return j.jsxs("div",{className:"_ac5r",style:g,children:[j.jsxs("div",{className:"_ac5s",onClick:a,role:"dialog",children:[j.jsx("div",{className:"_ac5t",children:e}),j.jsx("div",{className:"_9znl",style:{transform:f?"rotate(180deg)":void 0}})]}),j.jsx("div",{className:"_ac5u"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisTappableObjectContainer.react",["cx","PolarisLogger","polarisPrefix","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useEffect;function a(a){var b=a.id,e=a.isEnabled,f=a.mediaLayout,g=a.object,h=a.onTappableClick;k(function(){g.type==="GraphTappableFallback"&&d("PolarisLogger").logAction("storiesStickerUnsupportedRendered",{stickerType:g.fallbackType})},[g]);a=j(function(a){a.stopPropagation(),g.type==="GraphTappableFallback"?(d("PolarisLogger").logAction("storiesStickerUnsupportedClick",{appsellShown:!0,stickerType:g.fallbackType}),h(b)):h(b)},[g,b,h]);var l=g.width*f.layoutWidth,m=g.height*f.layoutHeight,n=.5*l,o=.5*m;n=g.x*f.layoutWidth-n;f=g.y*f.layoutHeight-o;o=g.rotation*Math.PI*2;m={height:m+"px",left:n+"px",top:f+"px",width:l+"px"};return i.jsx("div",{className:"_abwz",style:m,children:i.jsx("div",{className:"_abw-"+(e?" _abw_":""),onClick:a,role:"button",style:c("polarisPrefix")({transform:"rotate("+o+"rad)"}),tabIndex:"0"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryTappableObjects.react",["cx","fbt","CometPlaceholder.react","JSResourceForInteraction","Locale","PolarisReactRedux","PolarisStoriesAppInstallDialog.react","PolarisStoriesContext","PolarisStoryActions","PolarisStoryTappablePopup.react","PolarisTappableObjectContainer.react","immutable-4.0.0-rc.9","lazyLoadComponent","nullthrows","polarisStorySelectors","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useContext,l=b.useMemo,m=b.useState,n=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGWebBloksApp").__setRef("PolarisStoryTappableObjects.react")),o=function(a){var b=a.handleTappableClick,d=a.isPlaying,e=a.mediaLayout,f=a.tappableObjectById,g=a.tappedObjectId;return Object.keys(f).map(function(a){var h=f[a];return j.jsx(c("PolarisTappableObjectContainer.react"),{id:a,isEnabled:d||!!g,mediaLayout:e,object:h,onTappableClick:b},a)})},p=function(a){var b=a.tappableObjectById,e=a.tappedObjectId;a=a.tappedObjectTimestamp;var f=d("PolarisReactRedux").useDispatch();if(e==null||e==="")return null;b=b[e];if(b==null)return null;e=e+"_"+c("nullthrows")(a);if(b.type==="GraphTappableFallback")return j.jsx(c("PolarisStoriesAppInstallDialog.react"),{fallbackType:b.fallbackType,onClose:function(){f(d("PolarisStoryActions").resumeStorySession())}});return b.type==="BloksTappable"||b.type==="BloksSticker"?null:j.jsx(c("PolarisStoryTappablePopup.react"),{tappedObject:b},e)},q=function(a){var b=a.tappableObjectById,d=a.tappedObjectId;a=a.tappedObjectTimestamp;if(d==null||d===""||a==null)return null;b=b[d];if(b==null)return null;d=d+"_"+a;a=b.bloks_app;if(b.type!=="BloksSticker"||a==null)return null;var e=c("Locale").isRTL(),f=e?"right":"left",g=b.x;g=e?1-g:g;f=(e={},e[f]=g*100+"%",e.position="relative",e.top=b.y*100+"%",e.zIndex=2,e);return j.jsx("div",{style:f,children:j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(n,{allowScreenOverflow:!0,appId:a,loadingFallback:j.jsx("div",{}),params:b.bloks_params,props:new Map(Object.entries((g=b.bloks_props)!=null?g:{}))},d)})})};function a(a){var b=a.isPlaying;a=a.mediaLayout;var c=d("PolarisReactRedux").useDispatch(),e=k(d("PolarisStoriesContext").StoriesContext),f=m(Date.now()),g=f[0],h=f[1],n=d("PolarisReactRedux").useSelector(function(a){return d("polarisStorySelectors").getCurrentPostId(a)}),r=d("PolarisReactRedux").useSelector(function(a){return n==null?new(d("immutable-4.0.0-rc.9").List)():a.stories.tappableObjectsByPostId.get(n)});f=d("PolarisReactRedux").useSelector(function(a){return n==null?null:a.stories.tappedObjectId});var s=l(function(){var a={};r!=null&&r.forEach(function(b,c){a[""+c]=babelHelpers["extends"]({},b)});return a},[r]),t=function(a){h(Date.now()),c({tappedObjectId:a,type:"STORY_SET_TAPPED_OBJECT"})};return j.jsxs("div",{"aria-label":i._("__JHASH__Y-748_CVtpy__JHASH__"),className:"_ac57"+(f?" _ac58":""),onClick:function(){c(d("PolarisStoryActions").resumeStorySession())},role:"button",style:e.mediaDimensions,tabIndex:"0",children:[j.jsx(o,{handleTappableClick:t,isPlaying:b,mediaLayout:a,tappableObjectById:s,tappedObjectId:f}),j.jsx(p,{tappableObjectById:s,tappedObjectId:f,tappedObjectTimestamp:g}),j.jsx(q,{tappableObjectById:s,tappedObjectId:f,tappedObjectTimestamp:g})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoryEventZone.react",["cx","PolarisStoriesProvider.react","PolarisStoryTappableObjects.react","getPolarisKeyCommandConfig","nullthrows","react","useGlobalKeyCommands"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useMemo;function a(a){var b=a.isFirstStory,e=a.isPlaying,f=a.mediaLayout,g=a.onClose,h=a.onNext,l=a.onNextReel,m=a.onPause,n=a.onPlay,o=a.onPrev,p=a.onPrevReel;a=a.tappableStickersEligible;var q=d("PolarisStoriesProvider.react").useStoriesContext(),r=q.updateStoriesContext;q=function(a){a.preventDefault()};var s=j(function(a){r({isPaused:!0}),m(a)},[r,m]),t=j(function(a){r({isPaused:!1}),n(a)},[r,n]),u=j(function(){e?s():t()},[e,s,t]),v=k(function(){return[d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("stories","togglePause",function(){u()}),d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("stories","nextStory",function(){h("tap_forward")}),d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("stories","nextReel",function(){l("swipe_forward")}),d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("stories","prevStory",function(){if(b)return;o()}),d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("stories","prevReel",function(){p()}),d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("stories","exit",function(){g()})]},[h,l,b,o,p,u,g]);c("useGlobalKeyCommands")(v);v=function(a){a.button===0&&s(a)};var w=function(a){a.button===0&&t(a)},x=function(a){s(a)},y=function(a){a.touches.length===0&&t(a)};return i.jsxs("div",{className:"_ac0x",children:[i.jsx("div",{className:"_ac0y",onContextMenu:q,onMouseDown:v,onMouseUp:w,onTouchEnd:y,onTouchStart:x,role:"dialog"}),a&&f!=null&&i.jsx(c("PolarisStoryTappableObjects.react"),{isPlaying:e,mediaLayout:c("nullthrows")(f)})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisMobileStoryEventZone.react",["cx","Locale","PolarisReactRedux","PolarisStoriesContext","PolarisStoriesLoggingUtils","PolarisStoryActions","PolarisStoryTappableObjects.react","nullthrows","polarisStorySelectors","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useContext,k=b.useRef,l=200,m=50,n=100,o=500;function a(a){var b=a.isFirstStory,e=a.isPlaying,f=a.mediaLayout,g=a.onClose,h=a.onNext,p=a.onNextReel,q=a.onPause,r=a.onPlay,s=a.onPrev,t=a.onPrevReel,u=a.onResume,v=a.showVideoPlayButton,w=a.tappableStickersEligible;a=a.viewerDimensions;var x=j(d("PolarisStoriesContext").StoriesContext),y=d("PolarisReactRedux").useDispatch(),z=c("nullthrows")(d("PolarisReactRedux").useSelector(d("polarisStorySelectors").getCurrentPost)),A=z.isSponsored,B=z.storyCtaUrl,C=k({pauseStart:null,touchStart:null,touchStartX:null,touchStartY:null});z=function(a){a.preventDefault()};var D=function(a){if(v)return;C.current.touchStart==null&&(C.current.touchStart=Date.now(),C.current.touchStartX=a.touches[0].clientX,C.current.touchStartY=a.touches[0].clientY);G(a)},E=function(a){if(v)return;a.touches.length===0&&H(a);F(a)},F=function(a){var b=C.current,d=b.touchStart,e=b.touchStartX;b=b.touchStartY;if(d!=null){d=Date.now()-c("nullthrows")(d);e=a.changedTouches[0].clientX-c("nullthrows")(e);a=a.changedTouches[0].clientY-c("nullthrows")(b);d<=o&&(Math.abs(a)>m&&Math.abs(e)<n?a<0?A===!0?I():x.replyInputTextAreaRef!=null&&x.replyInputTextAreaRef.current!=null&&x.replyInputTextAreaRef.current.focus():g("swipe_down"):Math.abs(a)<n&&(e>m?c("Locale").isRTL()?p("swipe_forward"):t():e<-m&&(c("Locale").isRTL()?t():p("swipe_forward"))));C.current.touchStart=null;C.current.touchStartX=null;C.current.touchStartY=null}},G=function(a){q(),x.updateStoriesContext({isPaused:!0}),d("PolarisStoriesLoggingUtils").StoriesLoggingSession.startTapPauseTimer(),C.current.pauseStart==null&&(C.current.pauseStart=Date.now())},H=function(a){var b=C.current.pauseStart;b!=null&&(u(),x.updateStoriesContext({isPaused:!1}),y(d("PolarisStoryActions").logStoriesMediaPause(d("PolarisStoriesLoggingUtils").StoriesLoggingSession.getData().tapPauseTime)),Date.now()-b>=l&&(a.stopPropagation(),a.preventDefault()));C.current.pauseStart=null},I=function(){B!=null&&y(d("PolarisStoryActions").openCtaUrl(B))},J=function(a){y(d("PolarisStoryActions").resumeStorySession()),r(a)};return i.jsxs("div",{className:"_aafd",style:a,children:[i.jsxs("div",{className:"_aafe",onContextMenu:z,onTouchEnd:E,onTouchStart:D,role:"button",tabIndex:"0",children:[i.jsx("button",{className:"_aaff _aafg",onClick:b?null:s}),i.jsx("button",{className:"_aafh",onClick:b?null:s}),i.jsx("button",{className:"_aafi",onClick:function(){return h("tap_forward")}}),i.jsx("button",{className:"_aafj _aafg",onClick:function(){return h("tap_forward")}}),v&&i.jsx("div",{className:"_aafk",children:i.jsx("button",{className:"_aafl _9zwu",onClick:J})})]}),w&&f!=null&&i.jsx(c("PolarisStoryTappableObjects.react"),{isPlaying:e,mediaLayout:c("nullthrows")(f)})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisStoryEventZone",["PolarisDesktopStoryEventZone.react","PolarisMobileStoryEventZone.react","PolarisReactRedux","PolarisStoryActions","VideoPlayerHooks","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.autoplay,e=a.isDesktop,f=a.isFirstStory,g=a.isVideo,j=a.onNext,k=a.onNextReel,l=a.onPlayButtonClick,m=a.onPrev,n=a.onPrevReel,o=a.playButtonClicked,p=a.thumbnailLoaded,q=a.videoHeight;a=a.videoWidth;var r=d("VideoPlayerHooks").useController(),s=d("PolarisReactRedux").useDispatch(),t=d("VideoPlayerHooks").usePaused(),u=d("VideoPlayerHooks").usePlaying(),v=i(function(a){a===void 0&&(a="tap_exit"),s(d("PolarisStoryActions").closeReels(a))},[s]),w=i(function(){t&&r.play("user_initiated"),l()},[r,t,l]),x=i(function(){u&&r.pause("user_initiated")},[r,u]);p=p&&!o;b&&(p=!1);if(e)return h.jsx(c("PolarisDesktopStoryEventZone.react"),{isFirstStory:f,isPlaying:u,isVideo:g,mediaLayout:{layoutHeight:q,layoutWidth:a},onClose:v,onNext:j,onNextReel:k,onPause:c("emptyFunction"),onPlay:c("emptyFunction"),onPrev:m,onPrevReel:n,onResume:c("emptyFunction"),showVideoPlayButton:!1,tappableStickersEligible:!0});else return h.jsx(c("PolarisMobileStoryEventZone.react"),{isFirstStory:f,isPlaying:u,isVideo:g,mediaLayout:{layoutHeight:q,layoutWidth:a},onClose:v,onNext:function(a){return j(a,!1)},onNextReel:function(a){return k(a,!1)},onPause:x,onPlay:w,onPrev:function(){return m(!1)},onPrevReel:function(){return n(!1)},onResume:w,showVideoPlayButton:p,tappableStickersEligible:!0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisStoryMobilePreplay",["PolarisStoryConstants","VideoPlayerHooks","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useRef;function a(a,b,c,e,f,g){var k=d("VideoPlayerHooks").usePlaying(),l=j(0),m=j(null),n=h(function(){m.current!=null&&(window.clearInterval(m.current),m.current=null),a!=null&&a(0)},[a]);i(function(){if(!f||b||k||a==null||e||g)return;if(m.current!=null)return;m.current=window.setInterval(function(){l.current+=d("PolarisStoryConstants").STORY_UPDATE_TICK_S;var b=Math.min(l.current*100/d("PolarisStoryConstants").STORY_IMAGE_DURATION_S,100);a(b);b===100&&(n(),c("automatic_forward",!1))},d("PolarisStoryConstants").STORY_UPDATE_TICK_MS);return function(){n()}},[n,e,b,k,a,c,f,g])}g["default"]=a}),98);
__d("usePolarisStoryProgressUpdater",["PolarisStoryConstants","VideoPlayerHooks","useInterval"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b=d("PolarisStoryConstants").STORY_UPDATE_TICK_MS);var e=d("VideoPlayerHooks").useController(),f=d("VideoPlayerHooks").usePlaying();c("useInterval")(function(){if(!f)return;var b=e.getPlayheadPosition(),c=e.getCurrentState().duration;if(c>0){b=Math.min(b/c*100,100);a!=null&&a(b)}},b,[e,a,f])}g["default"]=a}),98);
__d("usePolarisStoryVideoMuteControl",["VideoPlayerHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a){var b=d("VideoPlayerHooks").useController(),c=d("VideoPlayerHooks").useMuted();h(function(){a!==c&&b.setMuted(a,"user_initiated")},[b,a,c])}g["default"]=a}),98);
__d("usePolarisStoryVideoPlaybackControl",["PolarisStoriesProvider.react","VideoPlayerHooks","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useState;function a(a,b,c,e,f){var g=d("VideoPlayerHooks").useController(),j=d("VideoPlayerHooks").usePaused(),k=d("VideoPlayerHooks").usePlaying(),l=d("VideoPlayerHooks").useEnded(),m=d("PolarisStoriesProvider.react").useStoriesContext(),n=m.updateStoriesContext;m=i(!1);var o=m[0],p=m[1];h(function(){f&&n({isPaused:!1})},[n,f]);h(function(){if(!c||e)return;a!==j&&(a?g.pause("user_initiated"):g.play("autoplay_initiated"))},[g,c,a,e,j]);h(function(){l&&b("automatic_forward",!1)},[l,b]);h(function(){e&&k&&(g.pause("user_initiated"),p(!0))},[g,e,k]);h(function(){o&&!e&&(g.play("user_initiated"),p(!1))},[g,e,o])}g["default"]=a}),98);
__d("usePolarisStoryVideoSeenStateTracker",["PolarisReactRedux","PolarisStoryActions","VideoPlayerHooks","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef;function a(a,b,c){var e=i(!1),f=d("VideoPlayerHooks").usePlaying(),g=d("PolarisReactRedux").useDispatch();h(function(){if(e.current===!0)return;(c||f)&&(g(d("PolarisStoryActions").updateReelSeen(a,b)),e.current=!0)},[g,f,b,a,c])}g["default"]=a}),98);
__d("usePolarisStoryVideoXControllerLogger",["PolarisReactRedux","PolarisStoriesLoggingUtils","PolarisVideoHelpers","VideoPlayerHooks","polarisAdsSelectors","polarisRelationshipSelectors","polarisVideoUtils","react","usePolarisVideoXControllerLogger"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef;function a(a){var b,e=(b=(b=a.owner)==null?void 0:b.id)!=null?b:"",f=d("VideoPlayerHooks").useController();b=d("polarisAdsSelectors").useStoryAdInfo(a.id,function(a){return a});var g=d("PolarisReactRedux").useSelector(function(a){return d("polarisRelationshipSelectors").getRelationship(a.relationships,e)}),j=i(null);h(function(){var a=f.subscribe(function(){var a=f.getCurrentState(),b=j.current;(b==null?void 0:b.paused)===!1&&a.paused===!0&&d("PolarisStoriesLoggingUtils").StoriesLoggingSession.startPauseTimer();(b==null?void 0:b.playing)===!1&&a.playing===!0&&d("PolarisStoriesLoggingUtils").StoriesLoggingSession.stopPauseTimer();j.current=a});return function(){a.remove()}},[f]);return c("usePolarisVideoXControllerLogger")({adInfo:b,analyticsContext:"StoriesPage",carouselParentId:a.carouselParentId,dashInfo:d("PolarisVideoHelpers").getDashInfoFromPost(a),followingStatus:d("polarisVideoUtils").getFollowingStatus(g),id:a.id,ownerId:(b=a.owner)==null?void 0:b.id,postedAt:a.postedAt,trackingToken:a.trackingToken})}g["default"]=a}),98);
__d("PolarisStoryVideoPlayerSurface.react",["IGDSSpinner.react","PolarisStoriesProvider.react","PolarisStoryMediaOverlayInfoFooterCTAContainer.react","VideoPlayerHooks","VideoPlayerSurface.react","VideoPlayerWithThumbnail.react","cr:4431","polarisGetPostFromGraphMediaInterface","react","usePolarisStoryEventZone","usePolarisStoryMobilePreplay","usePolarisStoryProgressUpdater","usePolarisStoryVideoMuteControl","usePolarisStoryVideoPlaybackControl","usePolarisStoryVideoSeenStateTracker","usePolarisStoryVideoXControllerLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useState;function a(a){var e=a.autoplay,f=a.isDesktop,g=a.isFirstStory,j=a.mediaRef,k=a.onNext,l=a.onNextReel,m=a.onPrev,n=a.onPrevReel,o=a.onUpdatePlayPercentage,p=a.post,q=a.reelId,r=a.videoHeight;a=a.videoWidth;var s=d("VideoPlayerHooks").useStalling(),t=d("PolarisStoriesProvider.react").useStoriesContext(),u=t.isMuted,v=t.isPaused;t=t.isPlaybackDisabled;var w=i(!1),x=w[0],y=w[1];w=i(!1);var z=w[0],A=w[1];w=b("cr:4431")(p);c("usePolarisStoryVideoXControllerLogger")(p);c("usePolarisStoryVideoMuteControl")(u);c("usePolarisStoryVideoPlaybackControl")(v,k,f,t,e===!0);c("usePolarisStoryProgressUpdater")(o);c("usePolarisStoryMobilePreplay")(o,f,k,x,z,e===!0);c("usePolarisStoryVideoSeenStateTracker")(q,p.id,z);u=c("usePolarisStoryEventZone")({autoplay:e===!0,isDesktop:f,isFirstStory:g,isVideo:!0,onNext:k,onNextReel:l,onPlayButtonClick:function(){y(!0)},onPrev:m,onPrevReel:n,playButtonClicked:x,thumbnailLoaded:z,videoHeight:r,videoWidth:a});v=d("polarisGetPostFromGraphMediaInterface").getMediaOverlayBottomBannerInfoFromRootPost(p,!0);return h.jsx(c("VideoPlayerSurface.react"),{children:h.jsxs("div",{className:"x5yr21d xh8yej3",ref:j,children:[s&&h.jsx(c("IGDSSpinner.react"),{position:"absolute",size:"medium"}),w,p.src!=null&&h.jsx(c("VideoPlayerWithThumbnail.react"),{onLoad:function(){return A(!0)},src:p.src}),u,v&&h.jsx(c("PolarisStoryMediaOverlayInfoFooterCTAContainer.react"),{bannerInfo:v,entityID:p.id})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisGetStoryMediaLayout",[],(function(a,b,c,d,e,f){"use strict";var g=1.3,h=1;function a(a,b,c,d){if(a==null)return[c,d];b=b?h:g;c=c;d=d;var e=c/d;a=a.width/a.height;e/a>b||a/e>b?e>a?c=d*a:d=c/a:e>a?d=c/a:c=d*a;return[d,c]}f.getStoryMediaLayout=a}),66);
__d("PolarisStoryVideoPlayerWrapper.react",["PolarisGetStoryMediaLayout","PolarisReactRedux","PolarisResponsiveBlock.react","PolarisStoriesProvider.react","polarisAdsSelectors","polarisDisplayPropertiesSelectors","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback,j={root:{alignItems:"x6s0dn4",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xh8yej3",$$css:!0},rootDesktop:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",$$css:!0},videoContainer:{alignItems:"x1qjc9v5",borderTop:"x6umtig",borderEnd:"x1b1mbwd",borderBottom:"xaqea5y",borderStart:"xav7gou",boxSizing:"x9f619",display:"x1lliihq",fontSize:"xk390pu",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",verticalAlign:"xzjhpmk",$$css:!0}};function a(a){var b,e,f=a.children,g=a["data-testid"];g=a.isDesktop;var k=a.post,l=a.setVideoHeight,m=a.setVideoWidth,n=a.videoHeight;a=a.videoWidth;var o=d("PolarisReactRedux").useSelector(d("polarisDisplayPropertiesSelectors").getIsTallDevice),p=d("PolarisStoriesProvider.react").useStoriesContext(),q=p.updateStoriesContext;p=i(function(a,b){a=d("PolarisGetStoryMediaLayout").getStoryMediaLayout(k.dimensions,o,a,b);b=a[0];a=a[1];l(b);m(a);q({mediaDimensions:{height:b,width:a}})},[o,k.dimensions,l,m,q]);b=(b=d("polarisAdsSelectors").useStoryAdInfo(k.id,function(a){return a}))==null?void 0:(b=b.reelMediaBackgrounds)==null?void 0:b.get(k.id);e=(b==null?void 0:(e=b.top)==null?void 0:e.background_color)!=null&&(b==null?void 0:(e=b.bottom)==null?void 0:e.background_color)!=null?{background:"linear-gradient("+b.top.background_color+", "+b.bottom.background_color+")"}:null;return h.jsx(c("PolarisResponsiveBlock.react"),{className:c("stylex")(j.root,g&&j.rootDesktop),"data-testid":void 0,onResize:p,style:e,children:h.jsx("div",{className:"x1qjc9v5 x6umtig x1b1mbwd xaqea5y xav7gou x9f619 x1lliihq xk390pu xdj266r x11i5rnm xat24cr x1mh8g0r xexx8yu x4uap5 x18d9i69 xkhd6sd x1n2onr6 xzjhpmk",style:{height:n,width:a},children:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryVideoPlayer.react",["PolarisSponsoredStoryCaption.react","PolarisSponsoredStoryCaptionUtils","PolarisStoriesProvider.react","PolarisStoryVideoPlayerSurface.react","PolarisStoryVideoPlayerWrapper.react","PolarisUA","PolarisVideo.react","PolarisVideoHelpers","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useState;function a(a){var b,e,f=a.isFirstStory,g=a.mediaRef,j=a.onNext,k=a.onNextReel,l=a.onPrev,m=a.onPrevReel,n=a.onUpdatePlayPercentage,o=a.post;a=a.reelId;var p=i(0),q=p[0];p=p[1];var r=i(0),s=r[0];r=r[1];var t=d("PolarisStoriesProvider.react").useStoriesContext(),u=t.viewerHeight;t=t.viewerWidth;if(o.isVideo!==!0)return null;var v=d("PolarisUA").isDesktop();b=(b=d("PolarisVideoHelpers").getSDVideoSrcFromPost(o))!=null?b:o.videoUrl;var w=d("PolarisVideoHelpers").getHDVideoSrcFromPost(o);e=(e=o.caption)==null?void 0:e.trim();var x=!c("isStringNullOrEmpty")(e)&&o.isSponsored===!0;u=d("PolarisSponsoredStoryCaptionUtils").getSponsoredStoryCaptionMediaValues(u,q);var y=u.captionOffset,z=u.maxCaptionHeight;u=u.mediaOffset;var A=o.isSponsored===!0&&o.dimensions!=null;return h.jsxs(c("PolarisStoryVideoPlayerWrapper.react"),{"data-testid":void 0,isDesktop:v,post:o,setVideoHeight:p,setVideoWidth:r,videoHeight:q,videoWidth:s,children:[h.jsx("div",{style:{height:"100%",position:"relative",top:x?-u:0},children:h.jsx(c("PolarisVideo.react"),{autoplay:!0,dashInfo:d("PolarisVideoHelpers").getDashInfoFromPost(o),hdSrc:w,loopCount:0,mediaId:o.id,originalHeight:(p=o.dimensions)==null?void 0:p.height,originalWidth:(r=o.dimensions)==null?void 0:r.width,renderVideoPixelsFit:A?function(){return{objectFit:"cover"}}:null,sdSrc:b,children:h.jsx(c("PolarisStoryVideoPlayerSurface.react"),{autoplay:!0,isDesktop:v,isFirstStory:f,mediaRef:g,onNext:j,onNextReel:k,onPrev:l,onPrevReel:m,onUpdatePlayPercentage:n,post:o,reelId:a,videoHeight:q,videoWidth:s})},o.id)}),x&&e!=null&&h.jsx("div",{style:{position:"relative",top:-y},children:h.jsx(c("PolarisSponsoredStoryCaption.react"),{caption:e,maxCaptionHeight:z,maxCaptionWidth:t,textBackgroundColor:o.captionBackgroundColor,textBackgroundColorAlpha:o.captionBackgroundColorAlpha,textColor:o.captionTextColor,textSize:o.captionTextSize})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryMedia.react",["PolarisStoriesContext","PolarisStoryExpired.react","PolarisStoryImage.react","PolarisStoryMediaOverlayInfoFooterCTAContainer.react","PolarisStorySensitivityOverlayContainer.react","PolarisStoryTapToPlayOverlay.react","PolarisStoryVideoPlayer.react","cr:4998","getPolarisKeyCommandConfig","polarisGetPostFromGraphMediaInterface","polarisIsUserLoggedIn","polarisRelationshipSelectors","react","useGlobalKeyCommands"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext;function a(a){var e=a.adImpressionRef,f=a.autoPlay,g=a.eventZone,j=a.isExpired,k=a.isFirstStory,l=a.isInitialLoad,m=a.onClose,n=a.onNext,o=a.onNextReel,p=a.onPause,q=a.onPlay,r=a.onPostSeen,s=a.onPrev,t=a.onPrevReel,u=a.onUpdatePlayPercentage,v=a.onUpdatePreplayPercentage,w=a.post,x=a.preload,y=a.reachedLoggedOutHighlightsLimit,z=a.reelId,A=a.trayEntrypoint;a=a.viewerDimensions;var B=function(){r(z,w.id)},C=i(d("PolarisStoriesContext").StoriesContext),D=C.isMuted,E=C.isPlaybackDisabled,F=C.isTransitioning,G=C.needsTapToStart,H=C.postIDThatShouldShowSensitiveContentOverlay,I=C.updateStoriesContext;C=d("polarisRelationshipSelectors").useRelationship((C=w.ownerId)!=null?C:"");var J=function(){I({isMuted:!D})};c("useGlobalKeyCommands")([d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("stories","toggleSound",function(){J()})]);f={autoPlay:f,eventZone:g,isFirstStory:k,isInitialLoad:l,isMuted:D,isPlaybackDisabled:E,isTransitioning:F,onClose:m,onNext:n,onNextReel:o,onPause:p,onPlay:q,onPostSeen:B,onPrev:s,onPrevReel:t,onUpdatePlayPercentage:u,onUpdatePreplayPercentage:v,post:w,preload:x,reelId:z,relationship:C,trayEntrypoint:A,viewerDimensions:a};g=d("polarisGetPostFromGraphMediaInterface").getMediaOverlayBottomBannerInfoFromRootPost(w,!0);l=g&&h.jsx(c("PolarisStoryMediaOverlayInfoFooterCTAContainer.react"),{bannerInfo:g,entityID:w.id});if(!d("polarisIsUserLoggedIn").isUserLoggedIn()&&b("cr:4998")!=null&&y===!0)return h.jsx(b("cr:4998"),babelHelpers["extends"]({},f));if(G)return h.jsx(c("PolarisStoryTapToPlayOverlay.react"),babelHelpers["extends"]({onShowPostClicked:function(){I({needsTapToStart:!1}),q()}},f));if(H!=null&&w.id===H)return h.jsx(c("PolarisStorySensitivityOverlayContainer.react"),babelHelpers["extends"]({onShowPostClicked:function(){I({postIDThatShouldShowSensitiveContentOverlay:null})}},f));if(j)return h.jsx(c("PolarisStoryExpired.react"),babelHelpers["extends"]({},f,{isPlaybackDisabled:E,isTransitioning:F}));return w.isVideo===!0?h.jsx(c("PolarisStoryVideoPlayer.react"),{isFirstStory:k,mediaRef:e,onNext:n,onNextReel:o,onPrev:s,onPrevReel:t,onUpdatePlayPercentage:u,post:w,reelId:z}):h.jsxs(h.Fragment,{children:[h.jsx(c("PolarisStoryImage.react"),babelHelpers["extends"]({},f,{mediaRef:e})),l]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("InstagramAdImpressionSecondChannelFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2964");b=d("FalcoLoggerInternal").create("instagram_ad_impression_second_channel",a);e=b;g["default"]=e}),98);
__d("usePolarisSponsoredStoryMediaImpressionSecondChannelLogger",["InstagramAdImpressionSecondChannelFalcoEvent","InstagramAdSubImpressionSecondChannelFalcoEvent","PolarisContainerModuleUtils","PolarisInteractionsLogger","PolarisODS","PolarisSponsoredStoryLoggingConstants","PolarisViewpointActionUtils","cometGHLContentDisplayCheck","setTimeout","usePolarisAnalyticsContext","usePolarisViewer","useScrollBasedImpressionTracker"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=new Set();function a(a,b){var e=c("usePolarisAnalyticsContext")(),f=c("usePolarisViewer")(),g=b.id,j=a==null?void 0:a.ad_id,k=a==null?void 0:a.tracking_token;return c("useScrollBasedImpressionTracker")(function(a){if(j!=null&&k!=null&&(f==null?void 0:f.id)!=null&&e!=null){var l=h.get(g),m=Date.now(),n={ad_id:j,inventory_source:d("PolarisContainerModuleUtils").getContainerModule(e),m_pk:d("PolarisViewpointActionUtils").getMPKForFeedMedia(b),m_t:d("PolarisInteractionsLogger").getMediaTypeFromPost(b).toString(),pigeon_reserved_keyword_module:d("PolarisContainerModuleUtils").getContainerModule(e),pk:f==null?void 0:f.id,tracking_token:k};if(a.status!=="ENTER")return;if(i.has(g))return;i.add(g);c("setTimeout")(function(){var b=c("cometGHLContentDisplayCheck")(a.target);l==null?b?(c("PolarisODS").incr("web.ads.story.media.impression.second_channel"),c("InstagramAdImpressionSecondChannelFalcoEvent").log(function(){return n}),h.set(g,m)):c("PolarisODS").incr("web.ads.story.media.impression.second_channel.hidden"):m-l>=d("PolarisSponsoredStoryLoggingConstants").SUB_IMPRESSION_GAP&&(b?(c("PolarisODS").incr("web.ads.story.media.sub_impression.second_channel"),c("InstagramAdSubImpressionSecondChannelFalcoEvent").log(function(){return n}),h.set(g,m)):c("PolarisODS").incr("web.ads.story.media.sub_impression.second_channel.hidden"));i["delete"](g)},d("PolarisSponsoredStoryLoggingConstants").ADBLOCK_CHECK_DELAY)}})}g["default"]=a}),98);
__d("PolarisSponsoredStoryMedia.react",["PolarisStoryMedia.react","polarisAdsSelectors","qex","react","useMergeRefs","usePolarisSponsoredStoryMediaImpressionLogger","usePolarisSponsoredStoryMediaImpressionSecondChannelLogger","usePolarisSponsoredStoryMediaTimeSpentLogger","usePolarisSponsoredStoryMediaViewabilityLogger","usePolarisSponsoredStoryMediaVpvdImpressionLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=c("qex")._("367");var i=b===!0?c("usePolarisSponsoredStoryMediaImpressionSecondChannelLogger"):function(a,b){return null};function a(a){var b=a.currentReelItemIndex,e=a.post,f=a.reelId,g=d("polarisAdsSelectors").useStoryAdInfo(e.id,function(a){return a}),j=c("usePolarisSponsoredStoryMediaImpressionLogger")(f,e,b),k=i(g,e),l=c("usePolarisSponsoredStoryMediaTimeSpentLogger")(f,e,b,g),m=c("usePolarisSponsoredStoryMediaViewabilityLogger")(f,e,b,g);f=c("usePolarisSponsoredStoryMediaVpvdImpressionLogger")(f,e,b,g);e=c("useMergeRefs")(j,l,k,m,f);return h.jsx(c("PolarisStoryMedia.react"),babelHelpers["extends"]({},a,{adImpressionRef:e}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationModalLazy.react",["CometPlaceholder.react","IGCoreModal","IGDSBox.react","IGDSSpinner.react","JSResourceForInteraction","PolarisGetCreationModalDimensions","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisCreationModal.react").__setRef("PolarisCreationModalLazy.react"));function a(a){return h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(c("IGCoreModal"),{size:"creation",children:h.jsx(c("IGDSBox.react"),{alignItems:"center",height:c("PolarisGetCreationModalDimensions")().modalDimensions.height,justifyContent:"center",maxHeight:c("PolarisGetCreationModalDimensions")().modalDimensions.maxHeight,maxWidth:c("PolarisGetCreationModalDimensions")().modalDimensions.maxWidth,position:"relative",width:c("PolarisGetCreationModalDimensions")().modalDimensions.width,children:h.jsx(c("IGDSSpinner.react"),{size:"medium"})})}),children:h.jsx(i,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisLiveCreationModalLazy.react",["CometPlaceholder.react","IGCoreModal","IGDSBox.react","IGDSSpinner.react","JSResourceForInteraction","PolarisSizing","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisLiveCreationModal.react").__setRef("PolarisLiveCreationModalLazy.react"));function a(a){return h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(c("IGCoreModal"),{backdropColor:"dark",children:h.jsx(c("IGDSBox.react"),{alignItems:"center",height:112,justifyContent:"center",maxWidth:d("PolarisSizing").FEED_WIDTH_WIDE,position:"relative",width:"100%",children:h.jsx(c("IGDSSpinner.react"),{size:"medium"})})}),children:h.jsx(i,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisStoryShareHandler",["PolarisDirectActionShareStory","PolarisReactRedux","Promise","isStringNullOrEmpty","promiseDone","react","usePolarisMQTT"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a,e,f){var g=d("PolarisReactRedux").useDispatch(),i=c("usePolarisMQTT")();return h(function(h,j){c("promiseDone")(b("Promise").resolve(g(d("PolarisDirectActionShareStory").shareStory(i,h,a,e,c("isStringNullOrEmpty")(j)?void 0:j))).then(function(){f==null?void 0:f()}))},[g,e,a,i,f])}g["default"]=a}),98);
__d("usePolarisStoriesFooter",["PolarisDirectStrings","PolarisReactRedux","PolarisStoryActions","react","usePolarisStoryShareHandler"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useState;e=3e3;function a(a,b){var e=b.id,f=i(""),g=f[0],j=f[1],k=d("PolarisReactRedux").useDispatch();f=(f=a.owner)==null?void 0:f.id;var l=d("PolarisReactRedux").useSelector(function(a){return a.users.viewerId}),m=a.storyCtaUrl;l=f===l;var n=b.canReshare===!0&&!l&&a.audience!=="MediaAudience.BESTIES";b=b.canReply!=null&&b.canReply&&!l&&m==null;var o="";f!=null&&(o=a.id+"_"+f);a=h(function(){m!=null&&k(d("PolarisStoryActions").openCtaUrl(m))},[k,m]);var p=h(function(){j(d("PolarisDirectStrings").SENT_TOAST_TEXT)},[j]);e=c("usePolarisStoryShareHandler")(e,o,p);return{canReply:b,canReshare:n,ctaUrl:m,handleShareStory:e,isViewingOwnStory:l,mediaId:o,onOpenCta:a,setToastMessage:j,storyOwnerId:f,toastMessage:g}}g.DELAY_BEFORE_CTA_ACTIVE=e;g.usePolarisStoriesFooter=a}),98);
__d("usePolarisStoryLikes",["PolarisLogger","PolarisNavigationActions","PolarisReactRedux","PolarisStoriesContext","PolarisStoryActions","polarisIsUserLoggedIn","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useContext;function a(a,b){var c=d("PolarisReactRedux").useDispatch(),e=i(d("PolarisStoriesContext").StoriesContext),f=e.updateStoriesContext;e=h(function(){d("PolarisLogger").logAction("loggedOutStoryLikeClick",{source:"StoriesPage"}),c(d("PolarisNavigationActions").openLoggedOutIntentDialog("story_feedback_like",b)),f({isLoggedOutIntentDialogActive:!0,isPaused:!0})},[c,b,f]);var g=h(function(b){b?c(d("PolarisStoryActions").sendStoryLikeAction(a)):c(d("PolarisStoryActions").unsendStoryLikeAction(a))},[c,a]);return d("polarisIsUserLoggedIn").isUserLoggedIn()?g:e}g["default"]=a}),98);
__d("PolarisExclusiveStoryLabel.react",["cx","IGDSBox.react","IGDSText.react","PolarisIGCoreButton","PolarisStoriesStrings","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.textSize==="small"?i.jsx(c("IGDSText.react").Body2Emphasized,{color:"webAlwaysWhite",children:d("PolarisStoriesStrings").EXCLUSIVE_STORY}):i.jsx(c("IGDSText.react").BodyEmphasized,{color:"webAlwaysWhite",children:d("PolarisStoriesStrings").EXCLUSIVE_STORY});return i.jsx(c("PolarisIGCoreButton"),{borderless:!0,onClick:a.onClick,children:i.jsx("div",{className:"_ac3m",children:i.jsx(c("IGDSBox.react"),{height:"100%",paddingX:2,paddingY:2,position:"relative",width:"100%",children:b})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisSharedStoryHeaderInfo.react",["IGDSIconButton.react","IGDSPlayPanoFilledIcon","IGDSWebPauseFilledIcon","PolarisGenericStrings","PolarisVideoConstants","PolarisVideoVolumeControls.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.hidePlayControl,e=a.isMuted,f=a.isPaused,g=a.post,i=a.shouldMuteAudio,j=a.shouldMuteAudioReason,k=a.toggleStoryMuteState,l=a.toggleStoryPauseState,m=g.isVideo===!0&&g.hasAudio===!0&&i!==!0;return h.jsxs(h.Fragment,{children:[!b&&h.jsx(c("IGDSIconButton.react"),{onClick:function(){l()},children:f?h.jsx(c("IGDSPlayPanoFilledIcon"),{alt:d("PolarisGenericStrings").ASSISTIVE_TEXT_PLAY_BUTTON,color:"web-always-white",size:16}):h.jsx(c("IGDSWebPauseFilledIcon"),{alt:d("PolarisGenericStrings").ASSISTIVE_TEXT_PAUSE_BUTTON,color:"web-always-white",size:16})}),h.jsx(c("PolarisVideoVolumeControls.react"),{absolutePositionToast:!1,audioState:m?e?d("PolarisVideoConstants").AUDIO_STATES.off:d("PolarisVideoConstants").AUDIO_STATES.on:d("PolarisVideoConstants").AUDIO_STATES.none,forceMuteReason:j!=null?j:void 0,isStoryVideo:!0,onClick:function(){m&&k()}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryAppAttribution.react",["cx","PolarisIGCoreButton","PolarisInstagramReelViewerAppAttributionNavFalcoEvent","PolarisNavigationUtils","PolarisReactRedux","PolarisStoryActions","isStringNullOrEmpty","nullthrows","polarisMaybeBuildPlayStoreUrl","polarisStorySelectors","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$2=function(){var a=e.$1();if(a==null)return;e.props.onAttributionClick(e.props.attribution)},e.$3=function(){var a=e.props,b=a.attribution,f=a.containerModule,g=e.$1();c("PolarisInstagramReelViewerAppAttributionNavFalcoEvent").log(function(){return{app_name:b.name,attribution_id:b.id,destination:g||"",pigeon_reserved_keyword_module:f||"unknown"}});d("PolarisNavigationUtils").openExternalURL(c("nullthrows")(g))},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.$1=function(){var a=this.props.attribution,b=a.content_url;a=a.link;if(!c("isStringNullOrEmpty")(b))return b;if(!c("isStringNullOrEmpty")(a)){b=c("polarisMaybeBuildPlayStoreUrl")(a);return b||a}return null};e.render=function(){var a=this.props,b=a.attribution;a=a.isAppAttributionOpen;return i.jsxs("div",{className:"_ac3a",children:[i.jsx(c("PolarisIGCoreButton"),{borderless:!0,color:"web-always-white",onClick:this.$2,children:i.jsxs("div",{className:"_ac3b",children:[i.jsx("img",{alt:"",className:"_ac3c",src:b.app_icon_url}),i.jsx("div",{className:"_ac3d",children:b.app_action_text}),i.jsx("div",{className:"_9znl"})]})}),a&&i.jsxs("div",{className:"_ac3e",children:[i.jsx("div",{className:"_ac3f"}),i.jsx(c("PolarisIGCoreButton"),{borderless:!0,color:"web-always-white",onClick:this.$3,children:i.jsxs("div",{className:"_ac3g",children:["Open ",b.name]})})]})]})};return b}(i.Component);function a(a){return{containerModule:d("polarisStorySelectors").getContainerModuleFromEntrypoint(a.navigation.entrypoint[0]),isAppAttributionOpen:a.stories.isAppAttributionOpen}}function b(a){return{onAttributionClick:function(b){a(d("PolarisStoryActions").openAppAttribution(b))}}}f=d("PolarisReactRedux").connect(a,b)(e);g["default"]=f}),98);
__d("PolarisStoryOptionsButton.react",["fbt","IGDSIconButton.react","IGDSMoreHorizontalFilledIcon","InstagramAdActionMenuFalcoEvent","react","usePolarisSponsoredStoryLoggingParams"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a["data-testid"],d=a.onClick;b=a.post;var e=a.reel;a=c("usePolarisSponsoredStoryLoggingParams")(e,b);var f=a.adId,g=a.containerModule,j=a.mpk,k=a.reelId,l=a.sessionReelCounter,m=a.trackingToken,n=a.traySession,o=a.viewerId,p=a.viewerSession;b=function(){d(),e.isSponsored===!0&&o!=null&&c("InstagramAdActionMenuFalcoEvent").log(function(){return{ad_id:f,is_coming_from:"story",m_pk:j,pigeon_reserved_keyword_module:g,pk:o,reel_id:k,session_reel_counter:l,source_of_action:g,tracking_token:m,tray_session_id:n,viewer_session_id:p}})};return i.jsx("div",{"data-testid":void 0,children:i.jsx(c("IGDSIconButton.react"),{onClick:b,children:i.jsx(c("IGDSMoreHorizontalFilledIcon"),{alt:h._("__JHASH__hJ9WgkS0Nos__JHASH__"),color:"web-always-white",size:24})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryReplyComposer.react",["cx","IGDSBox.react","IGDSButton.react","Keys","MAWGating","PolarisDirectActionReactToStory","PolarisDirectActionReplyToStory","PolarisDirectStrings","PolarisLikeButton.react","PolarisReactRedux","PolarisStoriesContext","PolarisStoriesLoggingUtils","PolarisStoryActions","PolarisStoryReplyReaction.react","PolarisStoryStrings","PolarisUA","WAArmadilloXMA.pb","cr:4463","emptyFunction","getTextDirection","nullthrows","polarisUserSelectors","qex","react","react-textarea-autosize-wwwig","usePolarisDisplayProperties","usePrevious"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useCallback,k=e.useContext,l=e.useEffect,m=e.useRef,n=e.useState,o=(h=b("cr:4463"))!=null?h:function(a){return c("emptyFunction")};function a(a){var b,e=a.handleStoryLike,f=a.likedByViewer,g=a.mediaId,h=a.onSendMessage,p=a.post,q=a.reelId,r=a.shareButton,s=a.storyOwnerId;a=a.supportsReelReactions;var t=k(d("PolarisStoriesContext").StoriesContext),u=t.isKeyboardActive,v=t.updateStoriesContext,w=m(null);t=n("");var x=t[0],y=t[1];t=n(!0);var z=t[0],A=t[1];t=c("usePolarisDisplayProperties")();var B=t.orientation,C=t.viewportHeight,D=t.viewportWidth,E=c("usePrevious")(B),F=c("usePrevious")(C),G=c("usePrevious")(D),H=d("PolarisUA").isDesktop()?300:0;t=d("PolarisReactRedux").useSelector(function(a){return d("polarisUserSelectors").getUserById(a,s)});t=t.username;var I=d("polarisUserSelectors").useUser((b=p.owner)==null?void 0:b.id),J=d("PolarisReactRedux").useDispatch();b=d("PolarisUA").isDesktop()?d("PolarisStoryStrings").directReplyPlaceholder(c("nullthrows")(t)):d("PolarisDirectStrings").SEND_MESSAGE_STRING_V2;var K=o(),L=j(function(){if(z)return;J(d("PolarisStoryActions").logStoriesSendDismissMessage(!0));d("MAWGating").isThreadLevelCutoverEnabled()?K(J,p,I,x,s,q,g,d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REPLY):J(d("PolarisDirectActionReplyToStory").replyToStory(s,q,g,x));h&&h(x);v({isKeyboardActive:!1});y("");A(!0);w&&w.current!=null&&w.current.blur()},[z,J,x,K,h,v,s,q,g,p,I]);t=j(function(a){a=a.target.value;y(a);A(a.replace(/\s/g,"").length===0)},[]);var M=j(function(a){d("PolarisUA").isDesktop()&&a.which===c("Keys").RETURN&&!a.shiftKey&&(a.preventDefault(),L())},[L]),N=j(function(a){d("PolarisUA").isDesktop()&&(a.which===c("Keys").LEFT||a.which===c("Keys").RIGHT)&&(a.preventDefault(),a.stopPropagation())},[]),O=j(function(){c("qex")._("479")&&(window.scrollTo(0,0),document.body&&(document.body.scrollTop=0)),v({isKeyboardActive:!0}),d("PolarisStoriesLoggingUtils").StoriesLoggingSession.startPauseTimer(),J(d("PolarisStoryActions").logOpenStoriesComposer())},[J,v]),P=j(function(){u&&J(d("PolarisStoryActions").logStoriesSendDismissMessage(!1)),d("PolarisStoriesLoggingUtils").StoriesLoggingSession.stopPauseTimer(),window.setTimeout(function(){return v({isKeyboardActive:!1})},H)},[J,u,v,H]);(w==null||w.current==null)&&v({replyInputTextAreaRef:w});l(function(){F!=null&&E===B&&G===D&&F<C&&w&&w.current!=null&&document.activeElement===w.current&&w.current.blur()},[w,v,B,E,F,G,C,D]);var Q=j(function(a){h(a),J(d("PolarisStoryActions").logStoriesSendReaction()),d("MAWGating").isThreadLevelCutoverEnabled()?K(J,p,I,a,s,q,g,d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REACTION):J(d("PolarisDirectActionReactToStory").reactToStory(s,q,g,a))},[J,g,h,p,q,K,s,I]);a=x.length===0&&u&&a;var R=c("getTextDirection")(x);return i.jsxs(i.Fragment,{children:[u&&i.jsx("div",{className:"_abx3"}),a&&i.jsx(c("PolarisStoryReplyReaction.react"),{onReactToStory:Q}),i.jsxs(c("IGDSBox.react"),{direction:"row",position:"relative",children:[i.jsxs("div",{className:"_abx0"+(d("PolarisUA").isDesktop()?" _abx1":""),children:[i.jsx(c("IGDSBox.react"),{flex:"grow",marginEnd:1,position:"relative",children:i.jsx(c("react-textarea-autosize-wwwig"),{className:"_abx2",dir:R,disabled:!1,maxRows:5,onBlur:P,onChange:t,onFocus:O,onKeyDown:M,onKeyUp:N,placeholder:b,ref:w,value:x})}),z?null:i.jsx(c("IGDSBox.react"),{marginEnd:2,position:"relative",children:i.jsx(c("IGDSButton.react"),{display:"block",label:d("PolarisDirectStrings").SEND_BUTTON_STRING,onClick:L,variant:"white_link"})})]}),u?null:i.jsx("div",{className:"_abx4",children:i.jsx(c("PolarisLikeButton.react"),{color:"ig-stroke-on-media",isLiked:f,onChange:e})}),u?null:r]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryShareButtonInner.react",["IGDSDirectPanoOutlineIcon","PolarisDirectStrings","PolarisIGCoreSVGIconButton","PolarisLogger","PolarisStoriesContext","emptyFunction","polarisIsUserLoggedIn","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=d("react");var i=a.useCallback,j=a.useContext;function k(){return h.jsx(c("IGDSDirectPanoOutlineIcon"),{alt:d("PolarisDirectStrings").DIRECT_BUTTON_ALT_TEXT,color:"ig-stroke-on-media",size:24})}k.displayName=k.name+" [from "+f.id+"]";b=h.forwardRef(function(a,b){var e=a.shouldHaveSharingFriction,f=e===void 0?!1:e;e=a.onClick;var g=e===void 0?c("emptyFunction"):e;a=j(d("PolarisStoriesContext").StoriesContext);var l=a.shareClickCount,m=a.updateStoriesContext;e=i(function(){d("PolarisLogger").logAction("loggedOutStoryShareClick",{source:"StoriesPage"}),m({isLoggedOutStoryShareSheetActive:!0,isPaused:!0})},[m]);a=i(function(){g==null?void 0:g();if(f){m({isPlaybackDisabled:!0,shareClickCount:l+1});return}m({isStoryShareSheetActive:!0})},[g,l,f,m]);return h.jsx(c("PolarisIGCoreSVGIconButton"),{"data-testid":void 0,onClick:d("polarisIsUserLoggedIn").isUserLoggedIn?a:e,ref:b,children:h.jsx(k,{})})});e=b;g["default"]=e}),98);
__d("PolarisStoryShareButtonWithDialog.react",["cx","JSResourceForInteraction","PolarisStoriesContext","PolarisStoryShareButtonInner.react","react","usePolarisStoryOpenShareDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useContext,l=c("JSResourceForInteraction")("IGDSecureShareSheetDialog.react").__setRef("PolarisStoryShareButtonWithDialog.react");function a(a){var b=a.currentPost;a=a.reelId;var e=k(d("PolarisStoriesContext").StoriesContext),f=e.updateStoriesContext;e=j(function(){f({isStoryShareSheetActive:!1})},[f]);e=c("usePolarisStoryOpenShareDialog")({dialogResource:l,onClose:e,post:b,reelId:a});return i.jsx("div",{className:"_ac3h",children:i.jsx(c("PolarisStoryShareButtonInner.react"),{onClick:e,shouldHaveSharingFriction:b==null?void 0:(a=b.sharingFrictionInfo)==null?void 0:a.shouldHaveSharingFriction})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryViewerButton.react",["cx","fbt","IGDSBox.react","PolarisBigNumber.react","PolarisFacepile.react","PolarisIGCoreButton","PolarisReactRedux","PolarisStoriesProvider.react","polarisStorySelectors","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useCallback,l=3;function a(a){a=d("PolarisStoriesProvider.react").useStoriesContext();var b=a.updateStoriesContext;a=k(function(){b({isStoryViewerListActive:!0})},[b]);var e=d("PolarisReactRedux").useSelector(d("polarisStorySelectors").getCurrentPost);if(e==null)return null;var f=e.storyViewCount;e=e.storyViewers;e=e?e.slice(0,l).map(function(a){return a.user.id}):[];if(f==null||f<=0||e==null)return null;f=Math.floor(f);return j.jsx("div",{className:"_ac5m",children:j.jsx(c("PolarisIGCoreButton"),{borderless:!0,onClick:a,children:e!=null?j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"column",position:"relative",children:[j.jsx(c("IGDSBox.react"),{marginBottom:1,position:"relative",children:j.jsx(c("PolarisFacepile.react"),{border:"transparent",overlapDirection:"left",userIds:e})}),j.jsx("span",{className:"_ac5n",children:i._("__JHASH__YCjKhwWmGaT__JHASH__",[i._param("count",j.jsx(c("PolarisBigNumber.react"),{value:f}))])})]}):j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",position:"relative",children:[j.jsx(c("IGDSBox.react"),{marginEnd:2,position:"relative",children:j.jsx("span",{className:"_ac5o _9_4d"})}),j.jsx("span",{className:"_ac5p",children:j.jsx(c("PolarisBigNumber.react"),{value:f})})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryViewerToast.react",["PolarisIGCoreToast","PolarisToastConstants","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("PolarisToastConstants").TOAST_ANIM_DURATION_S*1e3;function a(a){var b=a.message;a=a.onClose;return b===""?null:h.jsx(c("PolarisIGCoreToast"),{duration:i,onClose:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoriesHeaderOwnerV2.react",["cx","$InternalEnum","IGDSBox.react","IGDSVerifiedIcon","PolarisEligibleForCommissionUnit.react","PolarisGroupProfileAvatar.react","PolarisGroupProfileUtils","PolarisHashtagLink.react","PolarisLocationAvatar.react","PolarisLocationLink.react","PolarisSponsoredLabel.react","PolarisSponsorsUnit.react","PolarisStoriesImmersiveReshareAttribution.react","PolarisStoryAppAttribution.react","PolarisTagAvatar.react","PolarisTimestamp.react","PolarisTransparencyLabel.react","PolarisTransparencyUtils","PolarisUserAvatar.react","PolarisUserLink.react","nullthrows","polarisAdsSelectors","polarisUnexpected","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=b("$InternalEnum").Mirrored(["PaidPartnership","Affiliate","ImmersiveReshare"]),k={whiteText:{color:"xh93fs4",$$css:!0}};function l(a){var b=a.appAttribution,e=a.isAffiliate,f=a.isPaidPartnership,g=a.postAuthor,h=a.postedAt,l=a.postId,m=a.reel,n=a.reelOwner,o=a.resharedStoryMediaAuthor,p=a.sponsors;p=p===void 0?null:p;a=a.title;l=d("polarisAdsSelectors").useStoryAdInfo(l,function(a){return a});var q=null;f?q=j.PaidPartnership:e?q=j.Affiliate:o!=null&&(q=j.ImmersiveReshare);return i.jsxs("div",{className:"_ac0o",children:[d("PolarisGroupProfileUtils").getIsUserGroupProfile(n)===!0?i.jsx(c("PolarisGroupProfileAvatar.react"),{groupProfile:n,postAuthor:g}):i.jsx(c("PolarisUserAvatar.react"),{className:"_ac0p",profilePictureUrl:c("nullthrows")(n.profilePictureUrl),size:32,username:n.username}),i.jsxs(c("IGDSBox.react"),{alignItems:"start",direction:"column",marginStart:2,position:"relative",children:[i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",position:"relative",children:[i.jsx(c("PolarisUserLink.react"),{className:"_ac0s",username:c("nullthrows")(n.username),children:a}),g.isVerified===!0?i.jsx(c("IGDSBox.react"),{marginStart:1,position:"relative",children:i.jsx(c("IGDSVerifiedIcon"),{alt:"",color:"web-always-white",size:12})}):null,m.isSponsored!==!0&&i.jsx(c("IGDSBox.react"),{marginStart:2,position:"relative",children:i.jsx(c("PolarisTimestamp.react"),{className:"_ac0t",isLong:!1,value:h})})]}),d("PolarisTransparencyUtils").shouldShowTransparencyLabel(n)&&i.jsx(c("PolarisTransparencyLabel.react"),{className:"_ac0u _ac0s",mediaId:m.id,screen:"stories",user:n}),(l==null?void 0:l.label)!=null&&i.jsx(c("PolarisSponsoredLabel.react"),{label:l==null?void 0:l.label,xstyle:k.whiteText}),q===j.PaidPartnership&&i.jsx(c("PolarisSponsorsUnit.react"),{color:"white",sponsors:p||[]}),q===j.Affiliate&&i.jsx(c("PolarisEligibleForCommissionUnit.react"),{className:"_ac0s"}),q===j.ImmersiveReshare&&o!=null&&i.jsx(c("PolarisStoriesImmersiveReshareAttribution.react"),{profilePicUrl:(f=o.profile_pic_url)!=null?f:"",username:(e=o.username)!=null?e:""}),b&&i.jsx(c("PolarisStoryAppAttribution.react"),{attribution:b}),d("PolarisGroupProfileUtils").getIsUserGroupProfile(n)===!0&&g.username!=null&&i.jsx(c("PolarisUserLink.react"),{className:"_ac0w _ac0s",username:c("nullthrows")(g.username),children:d("PolarisGroupProfileUtils").getGroupMediaPostAuthorAttributionText(c("nullthrows")(g.username))})]})]})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.postAuthor,d=a.postedAt,e=a.reel;a=a.reelOwner;return i.jsxs("div",{className:"_ac0o",children:[e.ownerType==="GraphHashTag"&&i.jsx(c("PolarisTagAvatar.react"),{profilePictureUrl:c("nullthrows")(a.profilePictureUrl),size:30,tagName:c("nullthrows")(e.tagName)}),e.ownerType==="GraphLocation"&&i.jsx(c("PolarisLocationAvatar.react"),{locationId:c("nullthrows")(e.locationId),profilePictureUrl:c("nullthrows")(a.profilePictureUrl),size:30}),i.jsxs(c("IGDSBox.react"),{alignItems:"start",direction:"column",marginStart:2,position:"relative",children:[i.jsxs("div",{className:"_ac0q",children:[e.ownerType==="GraphHashTag"&&i.jsx(c("PolarisHashtagLink.react"),{className:"_ac0v _ac0s",tag:c("nullthrows")(e.tagName)}),e.ownerType==="GraphLocation"&&i.jsx(c("PolarisLocationLink.react"),{className:"_ac0v _ac0s",location:a}),i.jsx(c("IGDSBox.react"),{marginStart:2,position:"relative",children:i.jsx(c("PolarisTimestamp.react"),{className:"_ac0t",isLong:!1,value:d})})]}),i.jsx(c("PolarisUserLink.react"),{className:"_ac0w _ac0s",username:c("nullthrows")(b.username),children:c("nullthrows")(b.username)})]})]})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.appAttribution,d=a.isAffiliate,e=a.isPaidPartnership,f=a.postAuthor,g=a.postedAt,h=a.postId,j=a.reel,k=a.reelOwner,n=a.resharedStoryMediaAuthor,o=a.sponsors;a=a.title;switch(j.ownerType){case"GraphUser":return i.jsx(l,{appAttribution:b,isAffiliate:d,isPaidPartnership:e,postAuthor:f,postedAt:g,postId:h,reel:j,reelOwner:k,resharedStoryMediaAuthor:n,sponsors:o,title:a});case"GraphLocation":case"GraphHashTag":return i.jsx(m,{postAuthor:f,postedAt:g,reel:j,reelOwner:k})}c("polarisUnexpected")("Owner type must be User or Hashtag");return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisUpdateStorySeen",["PolarisReactRedux","PolarisStoryActions","PolarisStorySeenStateContext","qex","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=d("PolarisReactRedux").useDispatch(),b=d("PolarisStorySeenStateContext").usePolarisStorySeenStateManager();return h(function(e,f){b!=null&&c("qex")._("521")?a(d("PolarisStoryActions").updateReelSeen(e,f,b)):a(d("PolarisStoryActions").updateReelSeen(e,f))},[a,b])}g["default"]=a}),98);
__d("PolarisSwitchAccountsModalLazy.react",["CometPlaceholder.react","IGCoreModal","IGDSBox.react","IGDSSpinner.react","JSResourceForInteraction","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisSwitchAccountsModal.react").__setRef("PolarisSwitchAccountsModalLazy.react"));function a(a){return h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(c("IGCoreModal"),{children:h.jsx(c("IGDSBox.react"),{alignItems:"center",height:112,justifyContent:"center",position:"relative",width:"100%",children:h.jsx(c("IGDSSpinner.react"),{size:"medium"})})}),children:h.jsx(i,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("OzOneSemanticHandlerUtils",["ConstUriUtils","qex","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){b!=null&&(b.indexOf("+RE")>=0&&a.retry()),c!=null&&c()}function a(a,b){var d=b.error;d=d.getExtra();var e=d.code;d=d.headers;var f=null;e==null&&c("recoverableViolation")("A ONE Semantic error response must have an error code.","comet_video_player");d==null&&c("recoverableViolation")("A ONE Semantic error response must contain response Headers.","comet_video_player");if(d!=null){d=d.get("x-fb-one-variant");f=(d=d)!=null?d:null}d=JSON.parse(a.getString("network_retry_intervals_json","{}"));a=d[e];switch(e){case"410":b.endStream();break;case"404":h(b,f,function(){b.retry({behavior:"recover_failed_request"})});break;case"429":b.retry(a);break;case"403":default:}}function i(a){if(a!=null){a=parseInt(a,10);var b=c("qex")._("1635");if(b!=null&&b>0)return!isNaN(a)&&a>0&&a<=b}return!1}function j(a,b){if(a!=null&&b!=null){a=parseInt(a,10);b=parseInt(b,10);return!isNaN(a)&&!isNaN(b)&&a>0&&a<=b}return!1}function k(a){if(a!=null){a=d("ConstUriUtils").getUri(a);if(a){a=a.getQueryParam("os_param");return a?String(a).toString():null}}return null}function l(a,b){var d=a!=null;return i(b)||(d||!!c("qex")._("1636"))&&j(b,a)}function b(a){var b=a.getExtra();b=b.headers;b=m(b);a=a.getExtra();var d=a.code;a=a.url;if(b!=null&&d==null){c("recoverableViolation")("A ONE Semantic error response must have an error code.","comet_video_player");return!1}d=k(a);return l(d,b)}function m(a){if(a){a=a.get("x-fb-one");if(a!=null)return parseInt(a,10)>0?a:null}return null}function e(a,b,c){var d=null,e=null;b!=null&&(d=k(b),d!=null&&a.setOneReqWave(parseInt(d,10)));b=c==null?void 0:c.headers;b&&(e=m(b),e!=null&&a.setOneResWave(parseInt(e,10)));a.setOneObserved(l(d,e))}g.maybeRetryForVariant=h;g.evaluateOneSemanticsResponse=a;g.isOneSemanticsForcedForResponseWave=i;g.isOneSemanticsEnabledForWave=j;g.getOneSemanticRequestWave=k;g.shouldRespondWithOneSemantics=b;g.getOneSemanticResponseWave=m;g.setOneSemanticFetchStreamLoggingAttributes=e}),98);
__d("handleOzManifestFetchErrorEvent",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=a.getNumber("initial_manifest_request_retry_count",0),d=JSON.parse(a.getString("network_retry_intervals_json","{}")),e=a.getNumber("live_max_try_attempts_on_404",1),f=["404","503"];a.getBool("live_gracefully_handle_no_network",!1)&&f.push("0");a.getBool("live_gracefully_handle_410",!1)&&f.push("410");a.getBool("live_gracefully_handle_502",!1)&&f.push("502");a.getBool("live_gracefully_handle_429",!1)&&f.push("429");a.getBool("live_gracefully_handle_504",!1)&&f.push("504");a.getBool("normalize_mpd_fetch_errors",!1)&&f.push("20");var g=b.error.getExtra().code;if(a.getBool("no_retry_on_empty_string_error_code",!1)&&g==="")return;a.getBool("handle_mpd_null_error_codes",!1)&&(g=g!=null?g:null);d=d[g];if(b.isInitialRequest)typeof d==="number"&&d>0&&b.retryAttemptCount<c&&b.retry({waitMs:d});else if(g!=null&&f.indexOf(g)>-1)switch(g){case"410":b.endStream();break;case"404":e<b.consecutiveFailuresForErrorCode&&b.retry();break;case"504":case"502":case"503":case"20":case"0":b.retry();break;case"429":typeof d==="number"&&d>0&&b.retry({waitMs:d});break;default:break}else g===null&&a.getBool("handle_mpd_null_error_codes",!1)&&b.retry()}f["default"]=a}),66);
__d("handleOzStreamErrorEvent",[],(function(a,b,c,d,e,f){"use strict";var g=[0,1,1,2,3,5,8,13,21,34];function a(a,b){var c=b.error.getExtra().code;if(a.getBool("no_retry_on_empty_string_error_code",!1)&&c==="")return;if(a.getBool("retry_null_error_code_in_stream",!1)&&c==null){b.retry();return}var d=JSON.parse(a.getString("network_end_broadcasts_json","[]"));if(d.includes(c)){b.endStream();return}d=JSON.parse(a.getString("network_skip_json","[]"));if(d.includes(c)){b.retry();return}d=a.getBool("back_off_pdash_504_retry",!0)?g[b.retryAttemptCount]:0;var e=JSON.parse(a.getString("network_reload_mpd_json","[]")),f=a.getBool("fix_reload_manifest_retry",!1);if(a.getBool("back_off_pdash_504_retry",!0)&&d==null&&(!f||e.includes(c)))return;if(d!=null&&e.includes(c)){a.getBool("network_reload_mpd_json_retry",!1)?b.retry({behavior:"recover_failed_request",waitMs:d*1e3}):b.retry({waitMs:d*1e3});return}f=JSON.parse(a.getString("network_retry_intervals_json",'{"0": 1000, "404": 2000, "502": 1000, "503": 1000, "504": 1000}'));e=c!=null?f[c]:null;if(e!=null){a.getBool("network_retry_intervals_json_retry",!1)?b.retry({behavior:"retry_failed_request",waitMs:e}):b.retry({waitMs:e});return}}f["default"]=a}),66);
__d("OzOneSemanticHandler",["OzOneSemanticHandlerUtils","handleOzManifestFetchErrorEvent","handleOzStreamErrorEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=b.error;d("OzOneSemanticHandlerUtils").shouldRespondWithOneSemantics(e)?d("OzOneSemanticHandlerUtils").evaluateOneSemanticsResponse(a,b):c("handleOzManifestFetchErrorEvent")(a,b)}function b(a,b){var e=b.error;d("OzOneSemanticHandlerUtils").shouldRespondWithOneSemantics(e)?d("OzOneSemanticHandlerUtils").evaluateOneSemanticsResponse(a,b):c("handleOzStreamErrorEvent")(a,b)}g.handleManifestFetchErrorEvent=a;g.handleStreamErrorEvent=b}),98);
__d("OzCDNSignedQueryParams",["ConstUriUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1={}}var b=a.prototype;b.$2=function(a,b,c){this.$1[a]==null&&(this.$1[a]={}),this.$1[a][b]=c};b.get=function(a){a=this.$1[a];return a==null?null:a};b.update=function(a){a=d("ConstUriUtils").getUri(a);if(a!=null){var b=a.getQueryParams();a=a.getDomain()+a.getPath();var c=b.get("oe");c!=null&&this.$2(a,"oe",String(b.get("oe")));b.get("oh")!=null&&this.$2(a,"oh",String(b.get("oh")))}};return a}();g["default"]=a}),98);
__d("OzBufferVTTCaptionsVisibleStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.isActive=function(){return!this.$1()};b.getBufferTarget=function(){return 0};return a}();f["default"]=a}),66);
__d("OzSystemicRiskABRManager",["MosUtils","OzSystemicRiskUtils","oz-player/networks/OzBandwidthEstimator","oz-player/utils/OzAbrUtils","oz-player/utils/OzBufferingUtils","oz-player/utils/OzPlaybackRestrictionsUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=6e4,i=2e3,j={BANDWIDTH:"br",BUFFER:"vb",ENCODING:"er",LOW_MOS:"lm",MULTIPLIER:"m",PREVIOUS_MOS:"pm",PREVIOUS_RESOLUTION:"pr"};a=function(){function a(a,b,c,d,e,f,g,h){this.$11=!1,this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e,this.$7=f,this.$8=g,this.$9=h}var b=a.prototype;b.setSourceBuffer=function(a){this.$6=a};b.updateRepresentations=function(a){var b=this;this.$3=a;a=this.$3.find(function(a){return a.getDisplayLabel()===b.$2.getDisplayLabel()});this.$2=(a=a)!=null?a:this.$3[0]};b.getBestRepresentation=function(a){var b=this.$1.getLegacyConfig(),e=d("oz-player/utils/OzBufferingUtils").getBufferAheadFromPlaybackStates(this.$6,this.$5),f=this.$5.getDuration();f=isNaN(f)?h:f;if(this.$3.length===0){this.$10="no available representations";return this.$2}var g=this.$5.getCurrentTime();f=this.$9==="static"?(f-g)*1e3:h;g=this.$8();a=b.getBool("systemic_risk_use_fetch_range_duration",!1)?this.$12(a):i;var j=b.getBool("use_bandwidth_estimate_from_headers_in_abr",!1)?c("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnosticsFromHeaders(b):c("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnostics(b);if(j==null){this.$10="missing bandwidth diagnostics";return this.$2}var k=this.$13(this.$3).sort(function(a,b){return a.getBandwidth()-b.getBandwidth()}),l=null,m=null,n=null;for(var o=0;o<k.length;o++){var p=k[Math.max(o-1,0)],q=this.$14(p,g);p=Math.min(p.getHeight(),p.getWidth());m=d("OzSystemicRiskUtils").getRiskFactorsForRepresentation({bandwidthDiagnostics:j,bitrate:k[o].getBandwidth(),bufferAhead:e,config:this.$1.getLegacyConfig(),hasMadeInitialDecision:this.$11,initialRiskFactor:b.getNumber("systemic_risk_abr_initial_risk_factor",1),lowMosResolution:b.getNumber("systemic_risk_abr_low_mos_resolution",0),minWatchableMos:b.getNumber("systemic_risk_abr_min_watchable_mos",0),previousMos:q,previousResolution:p,remainingVideoDurationMs:f,segmentFetchRangeDurationMs:a});q=m;p=q.multiplier;if(isNaN(p)){n=m;l=this.$2;break}q=d("OzSystemicRiskUtils").isEffectiveBitrateBelowBandwidthEstimate(k[o].getBandwidth(),m.multiplier,a,j);if(q)n=m,l=k[o];else break}l==null?this.$2=b.getBool("respect_playback_restrictions_in_abr_fallback",!1)&&k.length>0?k[0]:this.$3[0]:this.$2=l;this.$15((p=n)!=null?p:m,{isSystemicRiskABREnabled:b.getBool("use_systemic_risk_abr",!1),noRepresentationSelected:l==null,representationCount:k.length});this.$11||(this.$11=!0);return this.$2};b.$12=function(a){var b=i;if(a!=null&&a.length>0){var c=a[0].getTimeRange().startTime;a=a[a.length-1].getTimeRange().endTime;a-c>0&&(b=(a-c)*1e3)}return b};b.$14=function(a,b){a=a.getCustomField("playbackResolutionMos");a=d("MosUtils").parsePlaybackMos(String(a));return a!=null?d("MosUtils").getMosValue(a,d("MosUtils").getQualityLabel(b.width,b.height)):null};b.$13=function(a){var b=this;if(!this.$1.getLegacyConfig().getBool("systemic_risk_abr_apply_representation_restrictions",!1))return a;var c=this.$1.getLegacyConfig().getBool("exclude_large_representations_after_restrictions",!1),e=a;a=function(){e=d("oz-player/utils/OzAbrUtils").excludeLargeRepresentations(b.$1,e,b.$8(),b.$7)};var f=function(){e=d("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(b.$1,b.$4,b.$8(),e)};c||(a(),f());c&&(f(),a());return e};b.$15=function(a,b){if(a==null)return;var c=b.isSystemicRiskABREnabled,d=b.noRepresentationSelected;b=b.representationCount;this.$10=[[j.LOW_MOS,a.lowMos],[j.ENCODING,a.encoding],[j.BANDWIDTH,a.bandwidth],[j.MULTIPLIER,a.multiplier],[j.BUFFER,a.buffer],[j.PREVIOUS_MOS,a.previousMos],[j.PREVIOUS_RESOLUTION,a.previousResolution]].reduce(function(a,b){var c=b[1],d="";switch(typeof c){case"number":d=c.toFixed(1);break;case"boolean":d=c?"1":"0";break;default:d="null"}return a+(b[0]+": "+d+";")},"");c||(this.$10+="disabled;");d&&(this.$10+="none-selected-of-"+b+";")};b.getLastEvaluationReason=function(){return this.$10};return a}();g["default"]=a}),98);
__d("VideoPlayerImplementationLoadSequenceManager",["setTimeout"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=[],this.$2=[]}var b=a.prototype;b.schedule=function(a,b,d){var e=this,f={load:d,maximumBlockTimeMs:a.getNumber("load_sequence_max_delay_ms",0),sequence:b},g=a.getNumber("load_sequence_only_prioritize_first_count",0);g>0?d=!this.$2.find(function(a){return a.sequence<g}):d=!this.$2.find(function(a){return a.sequence<b});d?this.$3(f):(this.$1.push(f),c("setTimeout")(function(){return e.$4(f)},f.maximumBlockTimeMs));return function(){return e.$5(f)}};b.$4=function(a){var b=this.$1.find(function(b){return b===a});b&&(this.$1=this.$1.filter(function(b){return b!==a}),this.$3(b))};b.$3=function(a){var b=this;this.$2.push(a);a.load().then(function(){return b.$6(a)})["catch"](function(c){b.$6(a);throw c});c("setTimeout")(function(){return b.$6(a)},a.maximumBlockTimeMs)};b.$7=function(){var a=this,b=Math.min.apply(Math,this.$1.map(function(a){return a.sequence})),c=this.$1.filter(function(a){return a.sequence===b});c.forEach(function(b){return a.$4(b)})};b.$5=function(a){this.$1=this.$1.filter(function(b){return b!==a})};b.$6=function(a){if(!this.$2.find(function(b){return b===a}))return;this.$2=this.$2.filter(function(b){return b!==a});var b=!!this.$2.find(function(b){return b.sequence===a.sequence});b&&this.$7()};return a}();b=new a();d=b;g["default"]=d}),98);
__d("VideoPlayerOzImplementationData",["err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.canUseOz,d=a.dashManifest,e=a.dashUrl,f=a.experimentationConfig,g=a.initialAudioUserPreferredLanguage,h=a.minQualityPreference;a=a.videoFBID;if(b!==!0){b=c("err")("The DASH player is not available for this video");b.name="VideoImplementationsDashPlayerUnavailable";return b}if(a==null){b=c("err")("video has no FBID");b.name="VideoImplementationsNoFBID";return b}a=d==null||d===""?null:d;b=e==null||e===""?null:e;if(a==null&&b==null){d=c("err")("video has no manifest and no manifest URL");d.name="VideoImplementationsNoManifestOrURL";return d}return{experimentationConfig:f,initialAudioUserPreferredLanguage:(e=g)!=null?e:null,manifest:a,manifestUrl:b,minQualityPreference:(d=h)!=null?d:null,seoWebCrawlerLookasideUrl:b}}g.makeOzImplementationData=a}),98);
__d("handleVideoPlayerLatencyLevelChange",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){if(a&&b&&c){var e=a.getAllContexts().latency_level;c=[];try{c=JSON.parse(a.getString("seek_on_latency_level_change_allowed","[]"))}catch(a){}c=c.some(function(a){return a.length===2&&a[0]===e&&a[1]===d});a.setContext("latency_level",d);if(!c)return;c=b.getDuration();c=c!=null?c+a.getNumber("live_initial_playback_position",0):null;c!=null&&b.setPlayheadPosition(c)}}f["default"]=a}),66);
__d("VideoPlayerOzImplementationEngineExtrasAPI",["VideoPlayerOzWWWGlobalConfig","emptyFunction","gkx","handleVideoPlayerLatencyLevelChange","oz-player/networks/OzBandwidthEstimator"],(function(a,b,c,d,e,f,g){"use strict";b=c("emptyFunction");function h(a){return a.getSelectedVideoQuality()}function i(a){a=a.getCurrentPlayingAudioTrackID();return a==null?null:a}function j(a){a=a.getCurrentVideoRepresentation();return a==null?"":a.getDisplayLabel()}function k(a){a=a.getIsVideoQualityAdaptationEnabled()?"auto":a.getSelectedVideoQuality();return a}function l(a){return a.getSelectedAudioTrackID()}function m(a){return(a=(a=a.getMpd())==null?void 0:a.getCustomField("fbProjection"))!=null?a:null}function n(a,b){var c=k(a);if(b==="notselected"||b===c)return!1;else if(b==="auto"){a.enableVideoQualityAdaptation();return!0}else if(b!==a.getSelectedVideoQuality()){c=b;a.switchToVideoQuality(c);return!0}else return!1}function o(a,b){var c=l(a);if(b===null||b===c)return!1;else{c=b;a.switchToAudioTrack(c);return!0}}function a(a){var b=a.getConfig,d=a.getOzPlayer,e=a.getVideoElementAPI;a={getApproximateFBLSToPlayerDisplayLatency:function(){var a;return(a=(a=d())==null?void 0:a.getApproximateFBLSToPlayerDisplayLatency())!=null?a:null},getAudioRepresentationIDAtTime:function(a){var b;b=(b=d())==null?void 0:b.getAudioRepresentationIDAtTime(a);return(a=b)!=null?a:null},getAvailableAudioTracks:function(){var a;a=(a=d())==null?void 0:a.getAudioTracks();if(!a)return[];a=a.map(function(a){return{displayLabel:a.displayLabel,id:a.id,lang:a.lang,role:a.role}});return a},getAvailableVideoQualities:function(){var a;return(a=(a=d())==null?void 0:a.getVideoQualities())!=null?a:[]},getCurrentAudioRepresentation:function(){var a;return(a=(a=d())==null?void 0:a.getCurrentAudioRepresentation())!=null?a:null},getCurrentPlayingAudioTrackID:function(){var a=d();return a?i(a):null},getCurrentPlayingVideoQuality:function(){var a=d();return a?j(a):""},getCurrentTargetVideoQuality:function(){var a=d();return a?h(a):""},getCurrentVideoRepresentation:function(){var a;return(a=(a=d())==null?void 0:a.getCurrentVideoRepresentation())!=null?a:null},getEstimatedBandwidth:function(){return c("oz-player/networks/OzBandwidthEstimator").getBandwidth(c("VideoPlayerOzWWWGlobalConfig"))},getInbandCaptionsAutogeneratedFromManifest:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("hasInbandCaptionsFromUsingASRCaptions"))},getInbandCaptionsExpectedFromManifest:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("hasInbandCaptionsFromUsingASRCaptions"))||Boolean(a==null?void 0:a.getCustomField("hasInbandCaptionsFromAccessibility"))},getManifestIdentifier:function(){var a;a=(a=d())==null?void 0:(a=a.getMpd())==null?void 0:a.getCustomField("fbManifestIdentifier");return a!=null?String(a):null},getMpdValidationErrors:function(){var a;a=(a=d())==null?void 0:(a=a.getMpd())==null?void 0:a.getCustomField("validationErrors");return a!=null?String(a):null},getPerfLoggerProvider:function(){var a=d();return a?a.getPerfLoggerProvider():null},getRepresentationCaptionsExpectedFromManifest:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("hasVTTRepresentationCaptions"))},getStreamType:function(){return"dash"},getUserSelectedAudioTrackID:function(){var a=d();return a?l(a):null},getUserSelectedVideoQuality:function(){var a=d();return a?k(a):""},getVideoProjectionType:function(){var a=d();return a!=null?m(a):null},getVideoRepresentationIDAtTime:function(a){var b;b=(b=d())==null?void 0:b.getVideoRepresentationIDAtTime(a);return(a=b)!=null?a:null},getVideoRepresentations:function(){var a;return(a=(a=d())==null?void 0:(a=a.getMpd())==null?void 0:a.getVideoRepresentations())!=null?a:null},isDrm:function(){var a;return Boolean((a=d())==null?void 0:a.isDrm())},isFBIsLiveTemplated:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("isLiveTemplated"))},isFBMS:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("isFBMS"))},isFBWasLive:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("isFBWasLive"))},isPredictiveDash:function(){var a;a=(a=(a=d())==null?void 0:(a=a.getMpd())==null?void 0:a.getVideoRepresentations()[0])!=null?a:null;return a!==null&&a.canPredict()},setDimensions:function(a){},setEnableLiveheadCatchup:function(a){var b=d();b!=null&&b.setEnableLiveheadCatchup(a)},setLatencyLevel:function(a){c("handleVideoPlayerLatencyLevelChange")(b(),e(),d(),a)},setUserSelectedAudioTrackID:function(a){var b=d();b!=null&&o(b,a)},setUserSelectedVideoQuality:function(a){var b=d();b!=null&&n(b,a)}};return a}g.createVideoPlayerOzImplementationEngineExtrasAPI=a}),98);
__d("OzActiveActiveFailoverNetworkRequestStreamHandler",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.onResponse=function(a,b){var c=a.headers;c&&c.has("x-fb-video-replica")&&this.$1(a,b);return null};b.onError=function(a,b){return null};return a}();f["default"]=a}),66);
__d("OzCustomParsers",[],(function(a,b,c,d,e,f){function a(){return new Map([["fbProjection",function(a){try{return a.Period[0].AdaptationSet[0].$.FBProjection||null}catch(a){return null}}],["hasInbandCaptionsFromAccessibility",function(a){a=a.Period[0];a=a&&a.AdaptationSet[0].Accessibility;return a&&a[0]?a[0].$.schemeIdUri==="urn:scte:dash:cc:cea-608:2015":!1}],["hasInbandCaptionsFromUsingASRCaptions",function(a){a=Number.parseInt(a.$.usingASRCaptions,0);return!isNaN(a)&&a!=0}],["hasInbandCaptionsFromIsUsingAsrCaptionsEmployeeDogfooding",function(a){a=Number.parseInt(a.$.isUsingAsrCaptionsEmployeeDogfooding,0);return!isNaN(a)&&a!=0}],["hasVTTRepresentationCaptions",function(a){return a.Period[0].AdaptationSet.find(function(a){var b;return((b=a.$.mimeType)==null?void 0:b.startsWith("application"))&&a.$.lang!=null})!=null}],["isLiveTemplated",function(a){return a.$.FBIsLiveTemplated==="true"}],["isFBMS",function(a){return a.$.FBMS==="true"}],["isFBWasLive",function(a){return a.$.FBWasLive==="true"}],["loapStreamType",function(a){return a.$.loapStreamType?parseInt(a.$.loapStreamType,10):0}],["fbManifestIdentifier",function(a){return(a=a.$.FBManifestIdentifier)!=null?a:""}],["lastVideoFrameTs",function(a){return a.$.lastVideoFrameTs?Number.parseInt(a.$.lastVideoFrameTs,10):null}],["currentServerTimeMs",function(a){return a.$.currentServerTimeMs?Number.parseInt(a.$.currentServerTimeMs,10):null}],["validationErrors",function(a){return(a=a.$.validationErrors)!=null?a:""}]])}f.createOzCustomParser=a}),66);
__d("OzCustomRepresentationParsers",["oz-player/manifests/OzSegmentOptions","oz-player/shims/OzURI","oz-player/utils/OzReadableStreamUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=a.ozConfig,e=a.startTimestamp;a={timescale:function(a){a=a.SegmentTemplate;if(a&&a.length>0){a=a[0].$;if(a)return Number.parseInt(a.timescale,0)||null}return null}};b.getBool("parse_initialization_binary",!1)&&(a.initializationBinary=function(a){try{a=window.atob(a.FBInitializationBinary[0]._);return d("oz-player/utils/OzReadableStreamUtils").stringToUint8Array(a)}catch(a){return null}});a.playbackResolutionMos=function(a){try{return a.$.FBPlaybackResolutionMos}catch(a){return null}};a.qualityLabel=function(a){try{return a.$.FBQualityLabel}catch(a){return null}};b.getBool("parse_first_segment",!1)&&(a.firstSegmentParser=function(a){if(e!=null&&e>0)return null;try{var b=a.SegmentBase[0].$.FBFirstSegmentRange.split("-").map(Number),d={startByte:b[0],endByte:b[1]};b=a.BaseURL[0]._;var f=new(c("oz-player/shims/OzURI"))(b),g=new(c("oz-player/manifests/OzSegmentOptions"))();return{getData:function(){return null},getURI:function(){return f},getByteRange:function(){return d},getTimeRange:function(){return{startTime:0,endTime:2}},getSequenceNumber:function(){return null},getOptions:function(){return g}}}catch(a){return null}});return a}g.createOzCustomRepresentationParsers=a}),98);
__d("PredictedSegmentTemplateSegmentsContainer",["oz-player/manifests/OzSegmentOptions","oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i,j,k){k===void 0&&(k=!1);c=a.call(this,b,c,e,f,null,k)||this;c.$PredictedSegmentTemplateSegmentsContainer9=0;c.$PredictedSegmentTemplateSegmentsContainer11=null;c.$PredictedSegmentTemplateSegmentsContainer10=d;c.$PredictedSegmentTemplateSegmentsContainer8=k;c.$PredictedSegmentTemplateSegmentsContainer12=f;c.$PredictedSegmentTemplateSegmentsContainer7=b;c.$PredictedSegmentTemplateSegmentsContainer5=e;c.$PredictedSegmentTemplateSegmentsContainer1=g;c.$PredictedSegmentTemplateSegmentsContainer3=i;c.$PredictedSegmentTemplateSegmentsContainer2=h;c.$PredictedSegmentTemplateSegmentsContainer4=j;c.$PredictedSegmentTemplateSegmentsContainer6=b.getNumber("live_numerical_error_epsilon");for(d=0;d<c.$PredictedSegmentTemplateSegmentsContainer12.length;d++)c.$PredictedSegmentTemplateSegmentsContainer9=Math.max(c.$PredictedSegmentTemplateSegmentsContainer12[d].d,c.$PredictedSegmentTemplateSegmentsContainer9);return c}var e=b.prototype;e.$PredictedSegmentTemplateSegmentsContainer13=function(){if(this.$PredictedSegmentTemplateSegmentsContainer2!=null&&this.$PredictedSegmentTemplateSegmentsContainer4!=null)return{predictedAverageDuration:this.$PredictedSegmentTemplateSegmentsContainer4,predictedMediaStartNumber:this.$PredictedSegmentTemplateSegmentsContainer2};else return null};e.$PredictedSegmentTemplateSegmentsContainer14=function(a,b,e){var f=this;Number.isNaN(e)&&c("oz-player/shims/ozvariant")(0,54238);var g=this.$PredictedSegmentTemplateSegmentsContainer1.replace("$Number$",e.toString()),h=this.$PredictedSegmentTemplateSegmentsContainer7.getLegacyConfig().getString("cdn_experiment_id",""),i=this.$PredictedSegmentTemplateSegmentsContainer7.getLegacyConfig().getNumber("use_dvl_with_timeout_ms",0),j=new(c("oz-player/manifests/OzSegmentOptions"))();return{getByteRange:function(){return null},getData:function(){return null},getOptions:function(){return j},getSequenceNumber:function(){return e},getTimeRange:function(){return{endTime:b,startTime:a}},getURI:function(){var a=new(c("oz-player/shims/OzURI"))(g);h.length!==0&&a.addQueryData("_nc_expid",h);var b=j.isDVLEnabled();b&&i>0&&f.$PredictedSegmentTemplateSegmentsContainer10!=null&&(a.addQueryData("_nc_dinfo-manifest-url",d("oz-player/utils/OzUrlHelper").stripToPathAndQueryOnly(f.$PredictedSegmentTemplateSegmentsContainer10)),a.addQueryData("_nc_dinfo-timeout",i));return a}}};e.updateWith=function(d){d instanceof b||c("oz-player/shims/ozvariant")(0,646);this.$PredictedSegmentTemplateSegmentsContainer3=d.$PredictedSegmentTemplateSegmentsContainer3;this.$PredictedSegmentTemplateSegmentsContainer1=d.$PredictedSegmentTemplateSegmentsContainer1;a.prototype.updateWith.call(this,d);this.$PredictedSegmentTemplateSegmentsContainer12=d.$PredictedSegmentTemplateSegmentsContainer12;this.$PredictedSegmentTemplateSegmentsContainer8=d.$PredictedSegmentTemplateSegmentsContainer8;for(d=0;d<this.$PredictedSegmentTemplateSegmentsContainer12.length;d++)this.$PredictedSegmentTemplateSegmentsContainer9=Math.max(this.$PredictedSegmentTemplateSegmentsContainer12[d].d,this.$PredictedSegmentTemplateSegmentsContainer9)};e.getSegmentByTime=function(a){return this.canApproximateId()?this.$PredictedSegmentTemplateSegmentsContainer15(a):this.$PredictedSegmentTemplateSegmentsContainer16(a)};e.getPredictedSegmentAfter=function(a){a=a!=null?a.getSequenceNumber():null;return a!=null&&this.canPredict()?this.$PredictedSegmentTemplateSegmentsContainer14(0,0,a+1):null};e.blockTimeRange=function(b){this.$PredictedSegmentTemplateSegmentsContainer11=b,a.prototype.blockTimeRange.call(this,b)};e.getTimeRanges=function(){var b=this.$PredictedSegmentTemplateSegmentsContainer13();if(b){b=[{endTime:(this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1].t+this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1].d)/this.$PredictedSegmentTemplateSegmentsContainer5,startTime:(this.$PredictedSegmentTemplateSegmentsContainer12[0].t-b.predictedAverageDuration-(this.$PredictedSegmentTemplateSegmentsContainer3-this.$PredictedSegmentTemplateSegmentsContainer12.length-Number(this.$PredictedSegmentTemplateSegmentsContainer2))*Number(b.predictedAverageDuration))/this.$PredictedSegmentTemplateSegmentsContainer5}];var c=this.$PredictedSegmentTemplateSegmentsContainer11;return c==null?b:d("oz-player/utils/OzNumericalRangeUtil").diffSortedRanges(this.$PredictedSegmentTemplateSegmentsContainer7,b.map(function(a){return{rangeEnd:a.endTime,rangeStart:a.startTime}}),{rangeEnd:c.endTime,rangeStart:c.startTime}).map(function(a){return{endTime:a.rangeEnd==null?Infinity:a.rangeEnd,startTime:a.rangeStart}})}else return a.prototype.getTimeRanges.call(this)};e.canPredict=function(){return!0};e.canApproximateId=function(){var a=this.$PredictedSegmentTemplateSegmentsContainer13();return a!=null};e.$PredictedSegmentTemplateSegmentsContainer16=function(a){var b=null;a=a*this.$PredictedSegmentTemplateSegmentsContainer5;var e=this.$PredictedSegmentTemplateSegmentsContainer12.length>0?this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1].t+this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1].d:null,f=this.$PredictedSegmentTemplateSegmentsContainer7.getLegacyConfig().getNumber("pdash_future_edgelatency_gops",0);if(e!=null&&e<=a&&f!==0&&a<e+this.$PredictedSegmentTemplateSegmentsContainer9*f){e=a-(this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1].t+this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1].d);e=this.$PredictedSegmentTemplateSegmentsContainer9?0:Math.floor(e/this.$PredictedSegmentTemplateSegmentsContainer9);return this.$PredictedSegmentTemplateSegmentsContainer14(0,0,this.$PredictedSegmentTemplateSegmentsContainer3+1+e)}e=0;for(var g=0;this.$PredictedSegmentTemplateSegmentsContainer12.length-1-g>=0;g++){var h=this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1-g];h.r===0||c("oz-player/shims/ozvariant")(0,18769);if(d("oz-player/utils/OzNumericalHelper").lessThanOrEqual(h.t+h.d*(h.r+1),a,this.$PredictedSegmentTemplateSegmentsContainer6))break;b=h;e=g}if(b===null||f>0&&a<b.t)return null;else return this.$PredictedSegmentTemplateSegmentsContainer14(b.t/this.$PredictedSegmentTemplateSegmentsContainer5,(b.t+b.d)/this.$PredictedSegmentTemplateSegmentsContainer5,this.$PredictedSegmentTemplateSegmentsContainer3-e)};e.$PredictedSegmentTemplateSegmentsContainer15=function(a){var b=a*this.$PredictedSegmentTemplateSegmentsContainer5,c=this.getTimeRanges();if(d("oz-player/utils/OzNumericalHelper").greaterThan(c[0].startTime,a))return null;else if(d("oz-player/utils/OzNumericalHelper").lessThanOrEqual(this.$PredictedSegmentTemplateSegmentsContainer12[0].t,b))return this.$PredictedSegmentTemplateSegmentsContainer16(a);else{c=Math.ceil((this.$PredictedSegmentTemplateSegmentsContainer12[0].t-b)/Number(this.$PredictedSegmentTemplateSegmentsContainer4));b=Math.max(Number(this.$PredictedSegmentTemplateSegmentsContainer2),this.$PredictedSegmentTemplateSegmentsContainer3-this.$PredictedSegmentTemplateSegmentsContainer12.length+1-c);return this.$PredictedSegmentTemplateSegmentsContainer14(a,a+Number(this.$PredictedSegmentTemplateSegmentsContainer4)/this.$PredictedSegmentTemplateSegmentsContainer5,b)}};e.isEndingSegment=function(b){if(!this.$PredictedSegmentTemplateSegmentsContainer8)return!1;var c=b.getSequenceNumber();return c!=null?c>=this.$PredictedSegmentTemplateSegmentsContainer3:a.prototype.isEndingSegment.call(this,b)};e.getEndingSegment=function(){if(this.$PredictedSegmentTemplateSegmentsContainer12.length===0)return null;var a=this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1];return this.$PredictedSegmentTemplateSegmentsContainer14(a.t/this.$PredictedSegmentTemplateSegmentsContainer5,(a.t+a.d)/this.$PredictedSegmentTemplateSegmentsContainer5,this.$PredictedSegmentTemplateSegmentsContainer3)};e.getMaxGopSec=function(){return this.$PredictedSegmentTemplateSegmentsContainer9/this.$PredictedSegmentTemplateSegmentsContainer5};return b}(c("oz-player/manifests/SegmentTemplateSegmentsContainer"));g["default"]=a}),98);
__d("OzPredictedSegmentTimelineParser",["PredictedSegmentTemplateSegmentsContainer","oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/parsers/OzDefaultSegmentTimelineParser","oz-player/shims/OzURI","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.parseSegmentsContainer=function(a,b,e){var f;if(e.SegmentTimeline[0].$.FBPredictedMedia){f=d("oz-player/utils/OzUrlHelper").joinUrlPaths(b.baseUrl,e.SegmentTimeline[0].$.FBPredictedMedia);var g=new(c("oz-player/shims/OzURI"))(f);g.addQueryData("_nc_sc",1);f=g.toString()}var h;e.SegmentTimeline[0].$.FBPredictedMediaStartNumber&&(h=Number.parseInt(e.SegmentTimeline[0].$.FBPredictedMediaStartNumber,0));var i;e.SegmentTimeline[0].$.FBPredictedMediaEndNumber&&(i=Number.parseInt(e.SegmentTimeline[0].$.FBPredictedMediaEndNumber,0));var j;e.SegmentTimeline[0].$.FBAverageDuration&&(j=Number.parseInt(e.SegmentTimeline[0].$.FBAverageDuration,0));g=c("oz-player/parsers/OzDefaultSegmentTimelineParser").parseSegments(a,e);return(b.isTemplatedMpd&&h!=null&&j!=null||!b.isTemplatedMpd)&&f!=null&&i!=null?new(c("PredictedSegmentTemplateSegmentsContainer"))(a,d("oz-player/utils/OzUrlHelper").joinUrlPaths(b.baseUrl,e.$.media),b.mpdUrl,Number.parseInt(e.$.timescale,10),g,f,h,i,j,b.isStaticMpd):new(c("oz-player/manifests/SegmentTemplateSegmentsContainer"))(a,d("oz-player/utils/OzUrlHelper").joinUrlPaths(b.baseUrl,e.$.media),Number.parseInt(e.$.timescale,10),g,f,b.isStaticMpd)};return a}();g["default"]=a}),98);
__d("OzVideoLiveTraceNetworkRequestStreamHandler",["oz-player/networks/OzTransformStream","oz-player/utils/OzResourceTimingUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){b===void 0&&(b=!1),this.$2=!1,this.$1=a,this.$2=b}var b=a.prototype;b.onResponse=function(a,b){var e=this,f=a.headers,g=null;if(!this.$1)return null;a=new(c("oz-player/networks/OzTransformStream"))();a.addListener("writableClose",function(){var a={},c=d("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry(b);c&&(a.lat=Math.round(c.responseStart-c.requestStart).toString());e.$1&&f&&e.$1(f,g,a)});this.$2&&a.addListener("writableWrite",function(a){g===null?g=[a]:g.push(a)});return a};b.onError=function(a,b){return null};return a}();g["default"]=a}),98);
__d("VideoPlayerOzImplementationEnginePartsImplUtils",["OzSystemicRiskABRManager","OzWidevineDrmProvider","gkx","justknobx","oz-player/networks/OzBandwidthEstimator","oz-player/strategies/OzBufferingDetector"],(function(a,b,c,d,e,f,g){"use strict";var h=/(livestream-)?lookaside\.(facebook|workplace)\.com$/;function a(a){return h.test(a.getDomain())}function b(a,b,d,e,f,g){if(f.current!=null)return;var h=!0,i=function(){if(h)return!1;var a=f.current!==j;return a&&c("gkx")("1508440")?!0:!1},j=new(c("oz-player/strategies/OzBufferingDetector"))(a,d,function(){var a=e.getCurrentState();a=a.controlledState;return a.streamEnded?b.getDuration():Infinity});f.current=j;h=!1;a=function(a){if(i())return;if(c("gkx")("1235655"))return;e.dispatch({payload:{bufferingType:a},type:"buffering_begin_requested"});a=d.getNumber("ull_fallback_stall_count",0);if(a>0){var b=g.getLoggerState().stallCountTotal;d.getBool("fix_ull_fallback_stall_count",!1)&&(b=g.getLoggerState().inPlayStallCount200ms);e.getCurrentState().controlledState.latencyLevel==="ultra-low"&&b>a&&e.dispatch({payload:{latencyLevel:"low",ullIneligibilityReason:null},type:"implementation_set_latency_level_requested"})}};var k=function(a){if(i())return;e.dispatch({payload:{domEventPerfTimestamp:a.domEventPerfTimestamp},type:"buffering_end_requested"})};j.addListener("enterBuffering",a);j.addListener("leaveBuffering",k)}function d(a){var b=a.accessToken,d=a.graphQLVideoDRMInfo;a=a.videoFBID;var e=[];if(d&&a!=null){var f=c("justknobx")._("717")?null:d.widevineCert;e.push(new(c("OzWidevineDrmProvider"))(a,d.graphApiVideoLicenseUri,d.videoLicenseUriMap,b,(a=f)!=null?a:null))}return e}function e(a){var b=a.VideoPlayerShakaPerformanceLoggerClass,c=a.accessToken,d=a.disableLogging,e=a.getApproximateFBLSToPlayerDisplayLatency,f=a.getBandwidthEstimate,g=a.getPlayerDimensions,h=a.getPlayerFormat,i=a.playbackIsLiveStreaming,j=a.playerInstanceCount,k=a.playerInstanceKey,l=a.playerSuborigin,m=a.playerVersion,n=a.videoElement,o=a.videoFBID;a=a.videoPlayerShakaPerformanceLoggerBuilder;if(d||!a&&(!b||!b.shouldInitialize()))return[];c={accessToken:c,getApproximateFBLSToPlayerDisplayLatency:e,getBandwidthEstimate:f,getPlayerDimensions:g,getPlayerFormat:h,isLive:i,isServableViaFbms:!1,playerInstanceCount:j,playerOrigin:null,playerSuborigin:l,playerVersion:m,representationId:null,uniqueID:k,video:n,videoID:(d=o)!=null?d:""};return a!=null?[a.build(c)]:b?[new b(c)]:[]}function f(a,b){return b>0?b/1e3*-1:a.getNumber("live_initial_playback_position",0)}function i(a,b,c){return b>0&&c>0?(b+c)/1e3:a.getNumber("livehead_fall_behind_block_threshold",0)}function j(a,b){return b>0?b/2/1e3:a.getNumber("live_time_range_block_margin",0)}function k(){return function(a,b,d,e,f,g,h,i){return a.getLegacyConfig().getBool("use_systemic_risk_abr",!1)?new(c("OzSystemicRiskABRManager"))(a,b,d,e,f,g,h,i):null}}function l(a,b){var d=b.experimentationConfig,e=b.getCurrentVideoRepresentation,f=b.getOzCDNSignedQueryParams,g=b.isClientTriggeredTraceEnabled,h=b.playbackIsLiveStreaming,i=b.playbackSessionId;b=b.shouldRefresh403;var j=a.getQueryData(),k;if(h){k={};if(d.getBool("server_side_abr_send_client_estimates",!1)){var l=c("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnostics(d);l&&(k=babelHelpers["extends"]({},k,{_nc_bwe:String(l.bandwidthEstimate),_nc_bwe_std:String(l.bandwidthStandardDeviation),_nc_ttfb:String(l.timeToFirstByteMsEstimate),_nc_ttfb_std:String(l.timeToFirstByteMsStandardDeviation)}));l=e();l&&(k=babelHelpers["extends"]({},k,{_nc_abr_bitrate:String(l.getBandwidth()),_nc_abr_qlabel:l.getDisplayLabel()}))}c("gkx")("2047")&&(k=babelHelpers["extends"]({},k,{_nc_wclk:"1",_nc_wclk_ms:"1"}))}h&&c("gkx")("1998922")&&(k=babelHelpers["extends"]({},k,{_nc_nc:"1"}));e=d.getNumber("live_video_chunk_duration",0);l=d.getBool("use_bandwidth_estimate_from_headers_in_abr",!1);d=l?c("oz-player/networks/OzBandwidthEstimator").hasRecentBandwidthEstimateFromHeader():!1;h&&e>0&&d&&(k=babelHelpers["extends"]({},k,{chk_dur:e.toString(10)}));c("gkx")("1836350")&&(j.uss!=null&&j.odm!=null&&(k=babelHelpers["extends"]({},k,{manual_redirect:"1"})));g&&(k=babelHelpers["extends"]({},k,{_nc_psid:i}));if(b){l=f();if(l!=null){h=a.getDomain()+a.getPath();d=l.get(h);if(d!=null)for(e in d){k=babelHelpers["extends"]({},k,(j={},j[e]=d[e],j))}}}return k}g.checkShouldIncludeCredentials=a;g.createOzBufferingDetector=b;g.createOzDrmProviders=d;g.createOzPerfLoggerProviders=e;g.calculateInitialPlaybackPositionForDynamicMpd=f;g.calculateLiveheadFallBehindBlockThreshold=i;g.calculateLiveheadFallBehindBlockMargin=j;g.getVideoAbrManagerFactory=k;g.getCustomRequestParametersForURI=l}),98);
__d("OzMinimumSmallestDimensionRestriction",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.applyRestriction=function(a,b){var c=this;if(a.length===0)return[];b=a.filter(function(a){var b=a.getWidth();a=a.getHeight();b=b<a?b:a;return b>=c.$1});return b.length>0?b:[a[a.length-1]]};return a}();f["default"]=a}),66);
__d("OzMosThresholdRestriction",["MosUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$3=new Map(),this.$4=a,this.$1=a.getNumber("mos_upper_threshold",0),this.$2=a.getNumber("mos_lower_threshold",0)}var b=a.prototype;b.$5=function(){return this.$4.getBool("cache_mos_threshold",!1)?{mosUpperThreshold:this.$1,mosLowerThreshold:this.$2}:{mosUpperThreshold:this.$4.getNumber("mos_upper_threshold",0),mosLowerThreshold:this.$4.getNumber("mos_lower_threshold",0)}};b.$6=function(a,b){var c=null;if(this.$3.get(a))c=this.$3.get(a);else{var e=a.getCustomField("playbackResolutionMos");e!=null&&(c=d("MosUtils").parsePlaybackMos(String(e)),c&&this.$3.set(a,c))}return c!=null?d("MosUtils").getMosValue(c,d("MosUtils").getQualityLabel(b.width,b.height)):null};b.$7=function(a,b){var c=this,d=null,e=this.$5(),f=e.mosUpperThreshold;a.forEach(function(a){a=c.$6(a,b);a!=null&&a>f&&(d==null||d>a)&&(d=a)});return d==null?a:a.filter(function(a){a=c.$6(a,b);return a==null?!0:a<=f||a===d})};b.$8=function(a,b){var c=this,d=[],e=this.$5(),f=e.mosLowerThreshold;a.forEach(function(a){var e=c.$6(a,b);e!=null&&e>f&&d.push(a)});d.length===0&&d.push(a[a.length-1]);return d};b.applyRestriction=function(a,b){if(a.length===0)return[];a=a;var c=this.$5(),d=c.mosLowerThreshold;c=c.mosUpperThreshold;c>0&&(a=this.$7(a,b));d>0&&(a=this.$8(a,b));return a};return a}();g["default"]=a}),98);
__d("getOzPlaybackRestrictions",["OzMinimumSmallestDimensionRestriction","OzMosThresholdRestriction","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=(b=c("qex")._("930"))!=null?b:720;function a(a,b){var d=[];switch(a){case"HD":d.push(new(c("OzMinimumSmallestDimensionRestriction"))(h));break;case"UHD":break;default:break}a=b.getNumber("mos_upper_threshold",0);var e=b.getNumber("mos_lower_threshold",0);(a>0||e>0)&&d.push(new(c("OzMosThresholdRestriction"))(b));return d}g["default"]=a}),98);
__d("oz-player/configs/OzConfigUtils",["oz-player/configs/OzPlayerConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=new(c("oz-player/configs/OzPlayerConfig"))();a=function(a){return{getBool:function(b){return a.getBool(b,h.getBool(b))},getNumber:function(b){return a.getNumber(b,h.getNumber(b))},getString:function(b){return a.getString(b,h.getString(b))},getLegacyConfig:function(){return a}}};g.provideConfigWithDefaults=a}),98);
__d("oz-player/networks/OzClockSyncNetworkRequestStreamHandler",["oz-player/networks/OzClientClock","oz-player/networks/OzTransformStream"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.onResponse=function(a,b){var d=a.headers;if(!d)return null;a=new(c("oz-player/networks/OzTransformStream"))();a.addListener("writableClose",function(){c("oz-player/networks/OzClientClock").updateOffsetFromHeaderResponse(b,d)});return a};b.onError=function(a,b){return null};return a}();g["default"]=a}),98);
__d("VideoPlayerOzImplementationEnginePartsImplFunction",["CometThrottle","ConstUriUtils","Deferred","FBLogger","JSResourceForInteraction","NetworkStatus","OzActiveActiveFailoverNetworkRequestStreamHandler","OzBufferVTTCaptionsVisibleStrategy","OzCDNSignedQueryParams","OzCustomParsers","OzCustomRepresentationParsers","OzOneSemanticHandler","OzOneSemanticHandlerUtils","OzPredictedSegmentTimelineParser","OzVideoLiveTraceNetworkRequestStreamHandler","Promise","QE2Logger","TimeRanges","VideoPlayerConnectionQuality","VideoPlayerImplementationErrors","VideoPlayerOzImplementationEnginePartsImplUtils","clearTimeout","cr:1836099","cr:1871597","cr:1947728","cr:1993377","getErrorSafe","getOzPlaybackRestrictions","gkx","md5","oz-player/configs/OzConfigUtils","oz-player/networks/OzBandwidthEstimator","oz-player/networks/OzClockSyncNetworkRequestStreamHandler","setTimeout","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=c("JSResourceForInteraction")("VideoPlayerEmsg").__setRef("VideoPlayerOzImplementationEnginePartsImplFunction"),i=1e4,j=null,k=null;b("cr:1836099")&&(j=b("cr:1836099").getHiveConfig(),k=b("cr:1836099").HiveOz);function a(a){var e,f=a.OzPlayerClass,g=a.callChain,l=a.destroyOzPlayerPartsRef,m=a.engineDebugAPI,n=a.engineExtrasAPI,o=a.getCaptionsInfo,aa=a.getLatencyLevelManager,p=a.getVideoLiveTrace,q=a.handleCaptionsInfoChange,ba=a.handleFatalImplementationError,r=a.hivePluginRef,s=a.initialProps,t=a.logger,u=a.machine,v=a.overrideOzRequestImplementationRef,w=a.ozBufferingDetectorRef,x=a.ozPlayerRef,y=a.p2pSessionLoggerRef,z=a.playerVersion,A=a.resolvedVideoInfo,B=a.videoElement,C={current:!1},D={current:null},E={current:null};l.current=function(a){var b=w.current;b&&(w.current=null,b.destroy());b=x.current;if(b){m&&m.handleOzPlayerChanged(null);x.current=null;try{b.destroy([].concat(a,["destroyOzPlayerParts"]).join(":"))}catch(a){c("FBLogger")("comet_video_player").catching(a).mustfix("Error in ozPlayer.destroy: %s",String(a))}}b=D.current;b&&(D.current=null,b());E.current&&(E.current=null);Z();r.current&&(r.current=null);y.current&&(y.current=null);v.current&&(v.current=null)};a=A.accessToken;l=A.audioOnly;var F=A.experimentationConfig,G=A.graphQLVideoDRMInfo,H=A.graphQLVideoP2PSettings,I=A.manifestUrl,ca=A.manifestXmlStringResolved,da=A.minQualityPreference,ea=A.ozPrefetchCache,J=A.videoFBID,K=s.disableLogging?null:A.VideoPlayerShakaPerformanceLoggerClass,L=Boolean(s.loggingMetaData.coreVideoPlayerMetaData.isLiveStreaming),M=Boolean((e=s.isClientTriggeredTraceEnabled)!=null?e:!1),N=function(a){return n.getEstimatedBandwidth()};e=function(){return n.getApproximateFBLSToPlayerDisplayLatency()};var fa=function(){F.setContext("connection_quality",d("VideoPlayerConnectionQuality").evaluate(function(){return N(L)}))},O=function(){var a=F.getNumber("connection_quality_context_throttle_frequency",0);if(a===0)return null;var b=c("CometThrottle")(fa,a),d=c("oz-player/networks/OzBandwidthEstimator").addListener("bandwidth_sampled",b);return function(){d.remove(),b.cancel()}};D.current=O();O=d("VideoPlayerOzImplementationEnginePartsImplUtils").createOzDrmProviders({accessToken:a,graphQLVideoDRMInfo:G,videoFBID:J});G=function(){return u.getCurrentState().controlledState.captionsVisible};var P=[];F.getBool("use_vtt_captions_visible_buffer_strategy",!0)&&P.push(new(c("OzBufferVTTCaptionsVisibleStrategy"))(G));G=function(){return u.getCurrentState().controlledState.dimensions};var Q=function(){return u.getCurrentState().controlledState.playerFormat};a=d("VideoPlayerOzImplementationEnginePartsImplUtils").createOzPerfLoggerProviders({VideoPlayerShakaPerformanceLoggerClass:K,accessToken:a,disableLogging:s.disableLogging,getApproximateFBLSToPlayerDisplayLatency:e,getBandwidthEstimate:N,getPlayerDimensions:G,getPlayerFormat:Q,playbackIsLiveStreaming:L,playerInstanceCount:s.loggingMetaData.playerImplementationInstanceCountRef.current,playerInstanceKey:s.loggingMetaData.instanceKey,playerSuborigin:s.loggingMetaData.coreVideoPlayerMetaData.subOrigin,playerVersion:z,videoElement:B,videoFBID:J,videoPlayerShakaPerformanceLoggerBuilder:A.videoPlayerShakaPerformanceLoggerBuilder});E.current==null&&(E.current=new(c("OzCDNSignedQueryParams"))());if(H&&J!=null){e=H.community_info;Q=H.config;z=H.hive_initialization_options;A=y.current=(A=y.current)!=null?A:b("cr:1871597")?new(b("cr:1871597"))(J,e):null;try{if(!r.current){A&&A.logEnableP2P();e=function(a){y.current&&y.current.logHiveError(a)};var R=function(b){var a=x.current;a&&a.injectExternalDebugEvent("P2PTech",b.tech);y.current&&y.current.logSessionActive(b.tech)},S=function(b){var a=x.current;a&&a.injectExternalDebugEvent("P2PStats",b);y.current&&y.current.setCurrentHiveStats(b)},T=function(a){a=a.state;var b=u.getCurrentState();b=b.controlledState;b=b.playbackState;if(r.current&&a==="CLOSED"){Z();a=x.current;a&&b!=="ended"&&(C.current&&I!=null?a.updatePlayerRunTimeConfig({manifestUrl:I}):a.load(I))}};S={HiveJava:{},HiveJS:{maximumTrimming:{dash:void 0,hls:void 0},renderStatsCallback:S},debugLevel:"off",hiveTechOrder:["HiveJS","StatsJS","HiveJava"],onActiveSession:R,onError:e,onSessionStateChange:T,telemetryId:A?A.getSessionID():0};R=F.getNumber("hive_maximum_trimming_seconds",0);R>0&&(S.HiveJS.maximumTrimming={dash:R,hls:R});if(z){e=z.HiveJava;T=z.debugLevel;R=z.hiveTechOrder;S.hiveTechOrder=R.slice();S.HiveJava=e?{minVersion:e.minVersion}:{};S.debugLevel=(z=T)!=null?z:S.debugLevel}c("gkx")("2047688")&&(S=babelHelpers["extends"]({},S,{testId:"fb_video_player_p2p_jest_e2e"}));if(Q.disable_hivejava_for_livevc===!0&&I!=null&&I.startsWith("https://livestream-lookaside")){R=S.hiveTechOrder.indexOf("HiveJava");R>=0&&S.hiveTechOrder.splice(R,1)}if(j)j.SensitiveInfo.restrictedConnectivityInfo=!0;else throw c("unrecoverableViolation")("HiveConfig does not exist","comet_video_player");if(k)r.current=new k(S);else throw c("unrecoverableViolation")("HiveOz does not exist","comet_video_player");if(r.current){if(!b("cr:1947728"))throw c("unrecoverableViolation")("OzConfigurableRequestImplementation does not exist","comet_video_player");v.current=b("cr:1947728")(r.current.getRequestImplementation(),{inferResponseStatusIsOK:c("gkx")("3951"),inferResponseStatusIsOk2xx:c("gkx")("277")})}}}catch(a){A&&A.logError(a),Z()}}e=[new(c("OzVideoLiveTraceNetworkRequestStreamHandler"))(function(a,b,c){var d=p();d!=null&&d.handleHeadersAndBody(a,b,c)},F.getBool("live_trace_parse_emsg",!1)),new(c("oz-player/networks/OzClockSyncNetworkRequestStreamHandler"))()];c("OzActiveActiveFailoverNetworkRequestStreamHandler")&&e.push(new(c("OzActiveActiveFailoverNetworkRequestStreamHandler"))(function(b,c){var a=x.current,e=b.headers;if(a&&e){e=parseInt(e.get("x-fb-video-replica"),10);t.logVPLEvent({eventType:"replica_switch",logDataOverrides:{error_code:b.status.toString(),error_user_info:JSON.stringify({failover_response_code:b.status.toString(),replica:e,url:c})},state:u.getCurrentState()});b=a.getMpdUrl();if(b!=null){c=d("ConstUriUtils").getUri(b);if(c){b=c.addQueryParam("replica",e);b&&(Z(),a.updatePlayerRunTimeConfig({manifestUrl:b.toString(),resetStreamAnchor:!0}))}}}}));var U=s.expiredVideoUrlRefreshHandler,ga=s.loggingMetaData.instanceKey;T=c("gkx")("221");z=c("gkx")("1836350")||c("gkx")("1993562");var V=L?T:z;F.getBool("log_exposure_on_oz_initialization",!1)&&d("QE2Logger").logExposureForUser("www_videos_html5_mpeg_dash");Q={audioOnly:(Q=l)!=null?Q:!1,bufferEndLimit:s.bufferEndLimit!=null?s.bufferEndLimit:null,bufferingDetector:(R=w.current)!=null?R:void 0,config:d("oz-player/configs/OzConfigUtils").provideConfigWithDefaults(F),configureCustomRequestParametersForSegment:function(a){var b=null;if(L&&M){var d=a.getByteRange();d=d?d.startByte+", "+(d.endByte!=null?d.endByte:"null"):"null";a=c("md5")(a.getURI().toString()+d);b=(d=b)!=null?d:{};a!=null&&(b=babelHelpers["extends"]({},b,{_nc_tsid:a}));b=babelHelpers["extends"]({},b,{_nc_e2e:"live"})}return b},customParsers:d("OzCustomParsers").createOzCustomParser(),customRepresentationParsers:d("OzCustomRepresentationParsers").createOzCustomRepresentationParsers({ozConfig:F}),customSegmentTimelineParser:F.getBool("enable_predictive_dash",!1)?new(c("OzPredictedSegmentTimelineParser"))():void 0,customVTTBufferTargetStrategies:P,debugCreateInitiator:[].concat(g,["proceedWithOzPlayerCreation"]).join(":"),drmProviders:O,getCustomRequestParametersForURI:function(a){return d("VideoPlayerOzImplementationEnginePartsImplUtils").getCustomRequestParametersForURI(a,{experimentationConfig:F,getCurrentVideoRepresentation:function(){var a=x.current;return a==null?void 0:a.getCurrentVideoRepresentation()},getOzCDNSignedQueryParams:function(){return E.current},isClientTriggeredTraceEnabled:M,playbackIsLiveStreaming:L,playbackSessionId:ga,shouldRefresh403:V})},getOverrideOzRequestImplementation:function(){return v.current},getShouldIncludeCredentials:F.getBool("use_oz_credentials_provider",!1)?d("VideoPlayerOzImplementationEnginePartsImplUtils").checkShouldIncludeCredentials:null,getUserSelectedPlaybackRate:function(){return u.getCurrentState().controlledState.targetPlaybackRate},getVideoDimensions:G,initialPlaybackPositionForDynamicMpd:d("VideoPlayerOzImplementationEnginePartsImplUtils").calculateInitialPlaybackPositionForDynamicMpd(F,(S=s.initialDesiredLatencyMs)!=null?S:0),initialRepresentationIDs:(A=s.initialRepresentationIds)!=null?A:[],isClientTriggeredTraceEnabled:M,liveheadFallBehindBlockMargin:d("VideoPlayerOzImplementationEnginePartsImplUtils").calculateLiveheadFallBehindBlockMargin(F,(T=s.initialDesiredLatencyMs)!=null?T:0),liveheadFallBehindBlockThreshold:d("VideoPlayerOzImplementationEnginePartsImplUtils").calculateLiveheadFallBehindBlockThreshold(F,(z=s.initialDesiredLatencyMs)!=null?z:0,(l=s.initialLatencyToleranceMs)!=null?l:0),loggerConfig:{isOzDevConsoleEnabled:c("gkx")("722076"),observedOperationLoggers:[],perfLoggerProviders:a},mpdUrl:I,networkRequestStreamHandlers:e,networkRequestStreamRetryHandler:V?function(a,d,e){var f=a.headers,g=f==null?void 0:f.get("x-fb-url-refresh"),h=E.current;if(a.status===403&&h!=null){t.logVPLEvent({eventType:"video_cdn_url_expired",logDataOverrides:{error_user_info:JSON.stringify({expired_url:e})},state:u.getCurrentState()});var i=g!=null&&b("cr:1993377")!=null?{name:"refreshShortExpiryVideoUrl",promise:b("cr:1993377")(g)}:U!=null?{name:"expiredVideoUrlRefreshHandler",promise:U(e)}:null;if(i!=null)return i.promise.then(function(a){var b;b=(b=a.refreshedUrl)!=null?b:null;a=(a=a.reason)!=null?a:null;if(b!=null&&(c("gkx")("5837")?b!=="":!0)){t.logVPLEvent({eventType:"video_cdn_url_refreshed",logDataOverrides:{error_user_info:JSON.stringify({refresh_handler:i.name,refreshed_url:b})},state:u.getCurrentState()});h.update(b);return d(b)}else{throw c("unrecoverableViolation")(i.name+" refreshedUrl is "+(b===""?"an empty string":"null")+", reason: "+((b=a)!=null?b:"null"),"comet_video_player")}})["catch"](function(a){a=c("gkx")("5837")?c("getErrorSafe")(a):a;t.logVPLEvent({eventType:"video_cdn_url_refresh_error",logDataOverrides:{error_description:a.message,error_user_info:JSON.stringify({expired_url:e,refresh_handler:i.name,refresh_url:g})},state:u.getCurrentState()});throw a})}return b("Promise").resolve(a)}:null,prefetchCache:F.getBool("use_prefetch_cache",!1)?ea:null,rawMpdXml:r.current?void 0:ca,seekHandler:c("gkx")("1482680")?function(a){var b=B.currentTime;u.dispatch({payload:{seekSourcePosition:b},type:"implementation_seek_requested"});B.currentTime=a}:null,setCustomFetchStreamLoggingAttributes:function(a,b,e){a.setIsOnline(c("NetworkStatus").isOnline());var f=e==null?void 0:e.headers;if(f)try{a.setProxyStatusHeader(f.get("proxy-status")),a.setDynamicStatusHeader(f.get("x-fb-dynamic-status"))}catch(a){}d("OzOneSemanticHandlerUtils").setOneSemanticFetchStreamLoggingAttributes(a,b,e)},startTimeStamp:F.getBool("fix_start_timestamp",!1)?s.startTimestamp:0,videoAbrManagerFactory:d("VideoPlayerOzImplementationEnginePartsImplUtils").getVideoAbrManagerFactory(),videoNode:B,videoPlaybackRestrictions:c("getOzPlaybackRestrictions")(da,F)};var W=new f(Q);x.current=W;w.current&&w.current.attachPerfLoggerProvider(W.getPerfLoggerProvider());R=s.loggingMetaData.playerImplementationInstanceCountRef;R.current++;W.onError(function(a){K&&K.flushQueuedLogs(),ba(a,"oz_player_error")});W.addListener("switchVideoRepresentation",function(){u.dispatch({payload:{targetVideoQuality:n.getCurrentTargetVideoQuality()},type:"representation_changed"})});var ha=function(a){if(F.getBool("enable_error_recovery_attempt_logging",!1)){a=d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromOzImplementationError(a,"oz_player_stream_error_retry");u.dispatch({payload:{recoverableError:a},type:"error_recovery_attempt"})}};W.addListener("manifestFetchError",function(a){d("OzOneSemanticHandler").handleManifestFetchErrorEvent(F,a)});W.addListener("manifestFetchErrorRetry",function(a){ha(a)});W.addListener("streamError",function(a){return d("OzOneSemanticHandler").handleStreamErrorEvent(F,a)});W.addListener("streamErrorRetry",function(a){var b;(((b=a.getExtra())==null?void 0:b.mimeType)!=="application"||F.getBool("enable_era_logging_for_application_stream",!0))&&ha(a)});W.addListener("streamInterruptAt",function(){u.dispatch({type:"stream_interrupted"})});W.addListener("streamResumedAt",function(){u.dispatch({type:"stream_resumed"})});W.addListener("streamGoneBeforeStart",function(){Z(),u.dispatch({type:"stream_gone_before_start"})});W.addListener("streamEnd",function(){Z(),u.dispatch({type:"stream_ended"})});W.addListener("videoNodeErrorRetry",function(a){if(F.getBool("enable_error_recovery_attempt_logging",!1)){a=d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromVideoNodeError(a,"oz_player_stream_error_retry");u.dispatch({payload:{recoverableError:a},type:"error_recovery_attempt"})}});W.addListener("enterBuffering",function(a){if(c("gkx")("1235655"))return;u.dispatch({payload:{bufferingType:a},type:"buffering_begin_requested"})});W.addListener("leaveBuffering",function(a){u.dispatch({payload:{domEventPerfTimestamp:a.domEventPerfTimestamp},type:"buffering_end_requested"})});m&&m.handleOzPlayerChanged(W);var ia=function(){var a=o();a={inbandCaptionsAutogeneratedFromManifest:n.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:n.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:a==null?void 0:a.inbandCaptionsExpectedFromProps,representationCaptionsExpectedFromManifest:n.getRepresentationCaptionsExpectedFromManifest(),sideLoadCaptionsExpectedFromProps:a==null?void 0:a.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:a==null?void 0:a.sideLoadCaptionsUrlFromProps};var b=u.getCurrentState();b=b.controlledState;(a.inbandCaptionsExpectedFromManifest!==b.captionsLoaded||a.inbandCaptionsAutogeneratedFromManifest!==b.inbandCaptionsAutogenerated)&&q(a)},ja=function(a,b){a=a.getCustomField("timescale");a=typeof a==="number"?a:0;u.dispatch({payload:{timescale:a,videoBytes:b},type:"cea608_bytes_received"})},ka=function(){var a=n.getVideoRepresentations();if(a!=null&&a.length>0){a=a[0].getTimeRanges();if(a!=null&&a.length>0){var b=a[0].startTime;a=Math.max(a[a.length-1].endTime-F.getNumber("live_rewind_seek_to_live_delta",8),b);u.dispatch({payload:{seekableRanges:new(c("TimeRanges"))([{endTime:a,startTime:b}])},type:"seekable_ranges_changed"})}}},la=function(){var a=W.getMpd();if(!a)return;a=a.getCustomField("loapStreamType");var b=p();typeof a==="number"&&b!=null&&b.setStreamType(a)},X=function(a){if(a!=null){a=d("ConstUriUtils").getUri(a);if(a){a=a.getQueryParam("lvp");return a==="1"}}return!1},ma=function(a){var b=function(){ka(),ia(),la()};a.addListener("updated",b);b();var d=[],e=function(a){t.logVPLEvent({eventType:"imf",logDataOverrides:a,state:u.getCurrentState()})},f=function(a,b,c){a=a.parseEmsgBoxesFromMP4Segment;a=a(c,J,b.getID(),B.currentTime,e);a.length>0&&u.dispatch({payload:{emsgBoxes:a},type:"emsg_boxes_parsed"})},g=function(a){var b=d.shift();while(b)f.apply(void 0,[a].concat(b)),b=d.shift()};W.updatePlayerRunTimeConfig({audioStreamDataHandler:function(){var a=u.getCurrentState();if(a.controlledState.emsgObserverTokens.size>0){var b=h.getModuleIfRequireable();for(var e=arguments.length,i=new Array(e),j=0;j<e;j++)i[j]=arguments[j];b!=null?(g(b),f.apply(void 0,[b].concat(i))):(d.push(i),h.load().then(function(a){g(a)})["catch"](function(a){c("FBLogger")("comet_video_player").catching(c("getErrorSafe")(a)).warn("Failed to load VideoPlayerEmsg"),d.length=0}))}},videoStreamDataHandler:ja});if(n.isPredictiveDash()){F.setContext("streaming_implementation","pdash");a=aa();a&&a.maybeUpdateLatencyLevel()}b=o();q({inbandCaptionsAutogeneratedFromManifest:n.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:n.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:b==null?void 0:b.inbandCaptionsExpectedFromProps,representationCaptionsExpectedFromManifest:n.getRepresentationCaptionsExpectedFromManifest(),sideLoadCaptionsExpectedFromProps:b==null?void 0:b.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:b==null?void 0:b.sideLoadCaptionsUrlFromProps})};W.addListener("vttCaptionsUpdated",function(a,b){var c="webvtt",d=u.getCurrentState().controlledState.captionFormat;c!==d&&u.dispatch({payload:{captionFormat:c},type:"controller_set_caption_format_requested"});u.dispatch({payload:{activeCaptions:a,captionsLocale:b},type:"controller_set_active_captions_requested"})});W.addListener("mpdParsed",function(a){n.isPredictiveDash()&&F.setContext("streaming_implementation","pdash")});c("gkx")("6295")?(W.addListener("mpdReady",function(a){C.current=!0,ma(a)}),W.addListener("initialized",function(){var a;u.dispatch({payload:{availableAudioTracks:n.getAvailableAudioTracks(),availableQualities:n.getAvailableVideoQualities(),selectedAudioTrackID:n.getUserSelectedAudioTrackID(),selectedVideoQuality:n.getUserSelectedVideoQuality(),targetVideoQuality:n.getCurrentTargetVideoQuality(),videoProjection:(a=n.getVideoProjectionType())!=null?a:null},type:"implementation_engine_initialized"})})):W.addListener("mpdReady",function(a){C.current=!0;ma(a);u.dispatch({payload:{availableAudioTracks:n.getAvailableAudioTracks(),availableQualities:n.getAvailableVideoQualities(),selectedAudioTrackID:n.getUserSelectedAudioTrackID(),selectedVideoQuality:n.getUserSelectedVideoQuality(),targetVideoQuality:n.getCurrentTargetVideoQuality(),videoProjection:(a=n.getVideoProjectionType())!=null?a:null},type:"implementation_engine_initialized"})});W.addListener("representationBlocked",function(a){u.dispatch({payload:{availableAudioTracks:n.getAvailableAudioTracks(),availableQualities:n.getAvailableVideoQualities(),blockedRepresentationID:a},type:"implementation_engine_representation_blocked"})});var Y=null;function Z(){c("clearTimeout")(Y);var a=r.current,b=y.current;if(a!=null){r.current=null;y.current=null;v.current=null;try{a&&a.closeHiveSession(),b&&b.logEndSession()}catch(a){b&&b.logHiveError(a)}}}P=r.current;g=H==null?void 0:H.ticket;if(I!=null&&H&&P&&g!=null){O=W.getPerfLoggerProvider();O&&O.setIsP2pPlayback(!0);G=I.substring(I.indexOf("?"));S=P.initSession(g+G,W,B);var $=new(c("Deferred"))();i>0&&(Y=c("setTimeout")(function(){$.reject(new Error("Hive initialization timed out after "+i+"ms"))},i));S.then(function(a){$.resolve(a)})["catch"](function(a){$.reject(a)});$.getPromise().then(function(a){c("clearTimeout")(Y);var b=a.manifest;a=a.tech;var d=y.current;b!==I&&d&&d.logManifestMismatch(b,I);d&&d.logSessionInit(a,b);t.setAdditionalLogData("is_p2p_playback",!0);t.setAdditionalLogData("is_live_preview",X(b));W.load(b)})["catch"](function(a){c("clearTimeout")(Y);var b=y.current;b&&b.logError(a);Z();t.setAdditionalLogData("is_live_preview",X(I));W.load(I)})}else t.setAdditionalLogData("is_p2p_playback",!1),t.setAdditionalLogData("is_live_preview",X(I)),W.load(I)}g.proceedWithOzPlayerCreation=a}),98);
__d("LatencySensitiveType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({NORMAL:0,LOW:1,ULTRA_LOW:2});c=a;f["default"]=c}),66);
__d("VideoPlayerOzImplementationLatencyLevelManager",["qex"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){this.$2="normal",this.$4=null,this.$1=a,this.$3=b,this.$6=c}var b=a.prototype;b.updatePlayerFormat=function(a){this.$4!==a&&(this.$4=a,this.maybeUpdateLatencyLevel())};b.updateBroadcastLatencySensitivity=function(a){this.$5!==a&&(this.$5=a,this.maybeUpdateLatencyLevel())};b.maybeUpdateLatencyLevel=function(){var a=this.$7(this.$5);a!==this.$2&&(this.$2=a,this.$1.getBool("set_latency_context_immediately",!1)&&this.$1.setContext("latency_level",a),this.$3.dispatch({payload:{latencyLevel:a,ullIneligibilityReason:this.$8()},type:"implementation_set_latency_level_requested"}))};b.$8=function(){var a=this.$1.getNumber("ultra_low_latency_bandwidth_threshold",0),b=this.$6.getEstimatedBandwidth();if(b!==null&&a>0&&b<a)return"low_bandwidth_estimate";a=(b=c("qex")._("1342"))!=null?b:!1;return a?"disabled_by_experiment":null};b.$7=function(a){if(a==null)return"normal";switch(a){case 1:return"low";case 2:return this.$8()!==null?this.$1.getBool("fall_back_to_low_latency_in_ull",!1)?"low":"normal":"ultra-low";case 0:return"normal"}};return a}();g["default"]=a}),98);
__d("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay",["requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferredForDisplay")("oz-player").__setRef("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay");function a(){return{getModuleIfRequireable:function(){return h.getModuleIfRequireable()||null},load:function(){return h.load()}}}g["default"]=a}),98);
__d("VideoPlayerOzImplementationEngine",["CometDASHPrefetchCacheManager","VideoPlayerImplementationEngineAPI","VideoPlayerImplementationEngineVideoElementAPI","VideoPlayerImplementationErrors","VideoPlayerImplementationLoadSequenceManager","VideoPlayerODS","VideoPlayerOzImplementationEngineExtrasAPI","VideoPlayerOzImplementationEnginePartsImplFunction","VideoPlayerOzImplementationEnginePartsImplUtils","VideoPlayerOzImplementationLatencyLevelManager","VideoPlayerOzPlayerModuleLoaderDeferredForDisplay","cr:1473549","emptyFunction","gkx","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";e=!1;var h=c("emptyFunction");function a(a){var e=a.checkInDOM,f=a.debugLogId,g=a.handleFatalError,i=a.initialProps;a=a.setExposedStateInReact;var j={current:null},k={current:null},l={current:null},m={current:null},n={current:null},o={current:null},p={current:null},q={current:null},r={current:null},s={current:null},t={current:null},u={current:null},v={current:null};function w(){var a;return(a=p.current)!=null?a:null}function x(){var a;return(a=o.current)!=null?a:null}function y(){var a;return(a=(a=k.current)==null?void 0:a.experimentationConfig)!=null?a:null}function z(){var a;return(a=Y.current)!=null?a:null}function A(){var a;return(a=v.current)!=null?a:null}var B;b("cr:1473549")&&(B=new(b("cr:1473549"))());var C="comet_oz",D=function(a,b){return b.manifestXmlStringInitial!==null?a.manifestXmlStringInitial!==b.manifestXmlStringInitial:a.manifestUrl!==b.manifestUrl},E=function(a,b){return a.videoFBID!==b.videoFBID},F=function(a,b){return a.playerFormat!==b.playerFormat},G=function(a){return a.getBool("use_full_player_if_cached",!1)&&c("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay")?c("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay")().getModuleIfRequireable():null},H=function(a,b,c){b!=null?k.current=babelHelpers["extends"]({},a,{manifestXmlStringResolved:b}):k.current=a,X.dispatch({type:"implementation_engine_oz_manifest_downloading"}),n.current=G(a.experimentationConfig),L(n.current,[].concat(c,["proceedWithOzManifestDownloading"]))},I=function(a){var b,e,f=a.manifestUrl,g=a.manifest,h=null;c("CometDASHPrefetchCacheManager")&&(a.videoFBID!=null&&(h=c("CometDASHPrefetchCacheManager").get(a.videoFBID)));b={VideoPlayerShakaPerformanceLoggerClass:a.VideoPlayerShakaPerformanceLoggerClass,accessToken:a.loggingMetaData.accessToken,audioOnly:a.audioOnly,experimentationConfig:a.experimentationConfig,graphQLVideoDRMInfo:a.graphQLVideoDRMInfo,graphQLVideoP2PSettings:a.graphQLVideoP2PSettings,initialAudioUserPreferredLanguage:a.initialAudioUserPreferredLanguage,manifestUrl:(b=f)!=null?b:null,manifestXmlStringInitial:(b=g)!=null?b:null,minQualityPreference:a.minQualityPreference,ozPrefetchCache:h,playerFormat:a.loggingMetaData.coreVideoPlayerMetaData.playerFormat,videoFBID:a.videoFBID,videoPlayerShakaPerformanceLoggerBuilder:a.videoPlayerShakaPerformanceLoggerBuilder};h=j.current;v.current==null&&(v.current=new(c("VideoPlayerOzImplementationLatencyLevelManager"))(a.experimentationConfig,X,Q));b.playerFormat!=null&&(h==null||F(b,h))&&X.dispatch({payload:{playerFormat:b.playerFormat},type:"controller_set_player_format"});v.current.updatePlayerFormat((e=a.loggingMetaData.coreVideoPlayerMetaData.playerFormat)!=null?e:null);(e=v.current)==null?void 0:e.updateBroadcastLatencySensitivity(a.broadcastLatencySensitivity);e=!1;if(h==null)e=!0;else if(h!=null&&!E(b,h)&&D(b,h)){a=14;d("VideoPlayerODS").bumpEntityKey("OzImplementation","manifest_reloaded",a);e=!1}else if(h!=null&&E(b,h))throw c("unrecoverableViolation")("videoFBID changed after player initialization","comet_video_player");if(!e)return!1;f=b.manifestUrl;g=b.manifestXmlStringInitial;if(g==null&&f==null)throw c("unrecoverableViolation")("Empty manifestXmlStringInitial and manifestUrl","comet_video_player");j.current=b;H(b,g,["handleVideoInfoChangeForOzImplementation","downloadManifestInOz"]);return!0},J=function(a,b){var d=function(c){if(m.current!==a)return;n.current=c;L(c,[].concat(b,["handleOzPlayerModuleLoadSuccess"]))},e=function(b){if(m.current!==a)return;V(b,"oz_player_module_load_failed")};m.current=a;c("promiseDone")(a,d,e)},K=function(a){a=d("VideoPlayerImplementationEngineVideoElementAPI").createVideoPlayerImplementationEngineVideoElementAPI(a);Y.current=a;return a},L=function(a,b){var e=S(),f=k.current;if(e==null||f==null)return;var g=K(e),h=f.experimentationConfig;a?M(a,e,g,f,[].concat(b,["proceedWithResolvedVideoInfo","OzPlayerModuleFromRef"])):c("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay")?(h.getBool("instantiate_buffering_detector_before_quick_starter",!1)&&d("VideoPlayerOzImplementationEnginePartsImplUtils").createOzBufferingDetector(e,g,f.experimentationConfig,X,p,W),J(c("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay")().load(),[].concat(b,["proceedWithResolvedVideoInfo","VideoPlayerOzPlayerModuleLoaderAsync"]))):V(new Error("Neither of OzPlayerModuleLoader is available."),"oz_player_module_loaders_missing")},M=function(a,b,e,f,g){try{var h={OzPlayerClass:a,callChain:[].concat(g,["proceedWithResolvedVideoInfoAndOzPlayerModuleSync"]),destroyOzPlayerPartsRef:u,engineDebugAPI:B,engineExtrasAPI:Q,getCaptionsInfo:R,getLatencyLevelManager:A,getVideoLiveTrace:T,handleCaptionsInfoChange:U,handleFatalImplementationError:V,initialProps:i,logger:W,machine:X,ozBufferingDetectorRef:p,playerVersion:C,resolvedVideoInfo:f,videoElement:b};a=y();g=i.loadSequence;a&&a.getNumber("load_sequence_max_delay_ms",0)>0&&g!=null?t.current=c("VideoPlayerImplementationLoadSequenceManager").schedule(a,g,function(){d("VideoPlayerOzImplementationEnginePartsImplFunction").proceedWithOzPlayerCreation(babelHelpers["extends"]({},h,{hivePluginRef:q,overrideOzRequestImplementationRef:s,ozPlayerRef:o,p2pSessionLoggerRef:r}));return e.getCanPlayPromise()}):d("VideoPlayerOzImplementationEnginePartsImplFunction").proceedWithOzPlayerCreation(babelHelpers["extends"]({},h,{hivePluginRef:q,overrideOzRequestImplementationRef:s,ozPlayerRef:o,p2pSessionLoggerRef:r}));l.current=f}catch(a){V(a,"oz_player_create_exception")}};function N(a){var b=u.current;b!=null&&(u.current=null,b(a));t.current!=null&&(t.current(),t.current=null)}function O(){return}function P(){m.current=null,n.current=null}var Q=d("VideoPlayerOzImplementationEngineExtrasAPI").createVideoPlayerOzImplementationEngineExtrasAPI({getConfig:y,getOzPlayer:x,getVideoElementAPI:z});z=d("VideoPlayerImplementationEngineAPI").createVideoPlayerImplementationEngine({checkInDOM:e,createDebugAPI:function(b){var a=b.getVideoElementAPI;b=b.logger;return B?B.createDebugAPI({engineExtrasAPI:Q,getConfig:function(){var a;return(a=(a=l.current)==null?void 0:a.experimentationConfig)!=null?a:null},getManifest:function(){var a;return(a=(a=l.current)==null?void 0:a.manifestXmlStringResolved)!=null?a:null},getManifestUrl:function(){var a;return(a=(a=l.current)==null?void 0:a.manifestUrl)!=null?a:null},getOzBufferingDetector:w,getOzPlayer:x,getVideoElementAPI:a,logger:b}):null},createVideoPlayerError:d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromOzImplementationError,debugLog:h,debugLogId:f,destroyEngineParts:function(a){N([].concat(a,["destroyEngineParts"])),O(),P()},engineExtrasAPI:Q,engineMetadata:{isAbrEnabled:!0,isExternalMedia:!1,playerImplementationName:"oz_v2",playerVersion:C,streamingFormat:"dash"},handleFatalError:g,handleVideoElementMounted:function(a){var b=S();L(n.current,[].concat(a,["handleVideoElementMounted"]))},handleVideoElementUnmounted:function(a){c("gkx")("1380112")&&N([].concat(a,["handleVideoElementUnmounted"]))},handleVideoInfoChange:I,initialProps:i,setExposedStateInReact:a});e=z.engine;var R=z.getCaptionsInfo,S=z.getVideoElement,T=z.getVideoLiveTrace,U=z.handleCaptionsInfoChange,V=z.handleFatalImplementationError,W=z.logger,X=z.machine,Y=z.videoElementAPIRef;return e}g.createVideoPlayerOzImplementationEngine=a}),98);
__d("VideoPlayerOzImplementationV2.react",["VideoPlayerImplementationEngineAPI","VideoPlayerOzImplementationEngine","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");function a(a){a=d("VideoPlayerImplementationEngineAPI").useVideoPlayerImplementationEngine(a,d("VideoPlayerOzImplementationEngine").createVideoPlayerOzImplementationEngine);a=a.reactVideoFrameAndComponents;return a}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerOzWWWConfig",[],(function(a,b,c,d,e,f){"use strict";var g="oz_www_";a=function(){function a(a){this.$1=a}var b=a.prototype;b.getBool=function(a,b){return this.$1.getBool(g+a,b)};b.getNumber=function(a,b){return this.$1.getNumber(g+a,b)};b.getString=function(a,b){return this.$1.getString(g+a,b)};b.setContext=function(a,b){this.$1.setContext(a,b)};b.getAllContexts=function(){return this.$1.getAllContexts()};return a}();f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("GHLRandomElementWrapper",["Random","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=[[1,0],[1,1],[0,1],[0,2],[1,2],[2,2],[2,1],[1,1]],j=Math.floor(Date.now()/(1e3*60*60*24));b=function(a){var b;return(b={},b[a]=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(babelHelpers.wrapNativeSuper(HTMLSpanElement)),b)[a]};e=function(){return String.fromCharCode(97+c("Random").random()*25)};d=j%10+5;var k=Array(d).fill().map(e).join("");d=Array(d).fill().map(e).join("");var l=k+"-"+d;window.customElements&&window.customElements.define(l,b(k),{"extends":"span"});function a(a){var b=a.children,c=a.elementTag,d=a.useClassStyles;d=d===void 0?!1:d;a=a.useInlineStyles;a=a===void 0?!1:a;b=b;var e=i[j%i.length],f=a?{display:"inline"}:null,g=d?"x9f619 xt0psk2 xjb2p0i x1qlqyl8 x15bjb6t":null;c==="div"&&!d&&!a&&(g="x9f619 xt0psk2 xjb2p0i x1qlqyl8 x15bjb6t");c==="randomSpan"?window.customElements?d=l:d="span":d=c;a=e[1];for(c=0;c<a;c++)b=h.jsx(d,{className:g,style:f,children:b});b=h.jsx(d,{children:b});c=e[0];for(a=0;a<c;a++)b=h.jsx(d,{className:g,style:f,children:b});return b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GHLMitigationsGating",["gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return c("justknobx")._("684")&&c("gkx")("2758")};b=function(){return c("justknobx")._("922")&&c("gkx")("4786")};d=function(){return c("justknobx")._("222")&&c("gkx")("1253")};e=function(){return c("justknobx")._("1028")&&c("gkx")("7356")};f=function(){return c("justknobx")._("669")&&c("gkx")("5572")};var h=function(){return c("justknobx")._("1051")&&c("gkx")("35")},i=function(){return c("justknobx")._("706")&&c("gkx")("3092")},j=function(){return c("justknobx")._("1175")&&c("gkx")("8719")},k=function(){return c("justknobx")._("1211")&&c("gkx")("8847")},l=function(){return c("justknobx")._("1212")&&c("gkx")("8848")},m=function(){return c("justknobx")._("1301")&&c("gkx")("7942")},n=function(){return c("justknobx")._("794")&&c("gkx")("3492")};g.isGHLShimRandomizePlaceholderEnabled=a;g.isGHLRandomElementWrapperForLinksEnabled=b;g.isGHLRandomElementWrapperForStoryTitleEnabled=i;g.isGHLEmptyAElementEnabled=e;g.isGHLEmptyDivElementAfterH3Enabled=f;g.isGHLSVGStyleMarginRightEnabled=d;g.isGHLSVGStyleMarginLeftEnabled=h;g.isGHLSVGStyleMarginRightWithDivEnabled=j;g.isGHLSVGStyleMarginLeftWithDivEnabled=k;g.isGHLSVGStyleWidthtWithDivEnabled=l;g.isGHLChunkerEnabled=m;g.isGHLSVGExtraLayerEnabled=n}),98);
__d("GHLSVGTextUseElement.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx("use",{xlinkHref:"#gid"+a.domID,xmlnsXlink:"http://www.w3.org/1999/xlink"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GHLSVGElement.react",["GHLSVGTextUseElement.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx("svg",{style:a.style,children:h.jsx(c("GHLSVGTextUseElement.react"),{domID:a.domID})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GHLSVGTextUtils",["GHLMitigationsGating"],(function(a,b,c,d,e,f,g){"use strict";a=d("GHLMitigationsGating").isGHLSVGStyleMarginLeftEnabled()||d("GHLMitigationsGating").isGHLSVGStyleMarginLeftWithDivEnabled();b=d("GHLMitigationsGating").isGHLSVGStyleMarginRightEnabled()||d("GHLMitigationsGating").isGHLSVGStyleMarginRightWithDivEnabled();c=function(a){switch(a){case"14px":return 4;case"15px":return 6;default:return 0}};g.anyMarginLeftStylingEnabled=a;g.anyMarginRightStylingEnabled=b;g.getCTAExtraWidth=c}),98);
__d("GHLSVGElementContainer.react",["GHLMitigationsGating","GHLSVGElement.react","GHLSVGTextUtils","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.domID,e=a.fontSize,f=a.height,g=a.randomizedWidth,i=a.width;f={height:c("gkx")("8138")?f+"px":f.toString(),overflow:"visible"};var j={marginRight:"-"+(g-i)+"px",width:g+d("GHLSVGTextUtils").getCTAExtraWidth(e)+"px"};g={marginLeft:"-"+(g-i)+"px",width:i+(g-i)+d("GHLSVGTextUtils").getCTAExtraWidth(e)+"px"};return d("GHLMitigationsGating").isGHLSVGStyleMarginRightEnabled()?h.jsx(c("GHLSVGElement.react"),{domID:b,style:babelHelpers["extends"]({},f,j)}):d("GHLMitigationsGating").isGHLSVGStyleMarginRightWithDivEnabled()?h.jsx("div",{style:babelHelpers["extends"]({},j),children:h.jsx(c("GHLSVGElement.react"),{domID:b,style:babelHelpers["extends"]({},f)})}):d("GHLMitigationsGating").isGHLSVGStyleMarginLeftEnabled()?h.jsx(c("GHLSVGElement.react"),{domID:b,style:babelHelpers["extends"]({},f,g)}):d("GHLMitigationsGating").isGHLSVGStyleMarginLeftWithDivEnabled()?h.jsx("div",{style:babelHelpers["extends"]({},g),children:h.jsx(c("GHLSVGElement.react"),{domID:b,style:babelHelpers["extends"]({},f)})}):d("GHLMitigationsGating").isGHLSVGStyleWidthtWithDivEnabled()?h.jsx("div",{style:{width:i+d("GHLSVGTextUtils").getCTAExtraWidth(a.fontSize)+"px"},children:h.jsx(c("GHLSVGElement.react"),{domID:b,style:babelHelpers["extends"]({},f)})}):h.jsx(c("GHLSVGElement.react"),{domID:b,style:babelHelpers["extends"]({},f,{width:i+d("GHLSVGTextUtils").getCTAExtraWidth(a.fontSize)+"px"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GHLSVGText.react",["BasePortal.react","ExecutionEnvironment","GHLMitigationsGating","GHLRandomElementWrapper","GHLSVGElementContainer.react","GHLSVGTextUtils","Random","gkx","react","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useState,k=null,l=function(){c("ExecutionEnvironment").canUseDOM&&k===null&&(k=document.createElement("div"),k.setAttribute("style","position: absolute; top: -10000px;"),document.body&&document.body.appendChild(k));return k},m=1;function a(a){var b=j(0),e=b[0],f=b[1];b=j(0);var g=b[0],k=b[1];b=c("useStable")(function(){return c("Random").random()*40});var n=c("useStable")(function(){return m++}),o=c("useStable")(function(){return m++}),p=c("gkx")("319"),q=i(function(a){if(a!==null){a=a==null?void 0:a.getBBox();(a==null?void 0:a.width)>0&&(a==null?void 0:a.height)>0&&(k(a==null?void 0:a.width),f(a==null?void 0:a.height))}},[]);b=Math.max(g,100)+b;var r=c("gkx")("186")?h.jsx(c("GHLRandomElementWrapper"),{elementTag:c("gkx")("136")?"randomSpan":c("gkx")("267")?"div":"span",children:h.jsx(c("GHLSVGElementContainer.react"),{domID:n,fontSize:a.fontSize,height:e,randomizedWidth:b,width:g})}):h.jsx(c("GHLSVGElementContainer.react"),{domID:n,fontSize:a.fontSize,height:e,randomizedWidth:b,width:g});return h.jsxs(h.Fragment,{children:[h.jsxs(c("BasePortal.react"),{target:l(),children:[d("GHLMitigationsGating").isGHLSVGExtraLayerEnabled()&&h.jsx("svg",{id:"gid"+n,children:h.jsx("use",{xlinkHref:"#gid"+o,xmlnsXlink:"http://www.w3.org/1999/xlink"})}),h.jsx("svg",{style:{overflow:"visible"},children:h.jsx("text",{id:"gid"+(d("GHLMitigationsGating").isGHLSVGExtraLayerEnabled()?o:n),ref:q,style:{fill:"currentColor",fontSize:(o=a==null?void 0:a.fontSize)!=null?o:p?"13px":"12px",overflow:"visible"},x:d("GHLSVGTextUtils").anyMarginLeftStylingEnabled&&!d("GHLSVGTextUtils").anyMarginRightStylingEnabled?b-g:void 0,y:p?e-2:e-3,children:a.text})})]}),r]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDSVolumeNonePanoFilledIcon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:h.jsx("path",{d:"M11.403 1.083a1.001 1.001 0 0 0-1.082.187L5.265 6H2a1 1 0 0 0-1 1v10.003a1 1 0 0 0 1 1h3.265l5.01 4.682.02.021a1 1 0 0 0 1.704-.814L12.005 2a1 1 0 0 0-.602-.917ZM20.704 12l1.94-1.94a1.5 1.5 0 0 0-2.122-2.12l-1.939 1.939-1.94-1.94a1.5 1.5 0 1 0-2.12 2.122L16.461 12l-1.94 1.94a1.5 1.5 0 1 0 2.122 2.12l1.939-1.939 1.94 1.94a1.5 1.5 0 0 0 2.12-2.122Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("IGDSVolumeOffFilledIcon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 48 48",children:h.jsx("path",{clipRule:"evenodd",d:"M1.5 13.3c-.8 0-1.5.7-1.5 1.5v18.4c0 .8.7 1.5 1.5 1.5h8.7l12.9 12.9c.9.9 2.5.3 2.5-1v-9.8c0-.4-.2-.8-.4-1.1l-22-22c-.3-.3-.7-.4-1.1-.4h-.6zm46.8 31.4-5.5-5.5C44.9 36.6 48 31.4 48 24c0-11.4-7.2-17.4-7.2-17.4-.6-.6-1.6-.6-2.2 0L37.2 8c-.6.6-.6 1.6 0 2.2 0 0 5.7 5 5.7 13.8 0 5.4-2.1 9.3-3.8 11.6L35.5 32c1.1-1.7 2.3-4.4 2.3-8 0-6.8-4.1-10.3-4.1-10.3-.6-.6-1.6-.6-2.2 0l-1.4 1.4c-.6.6-.6 1.6 0 2.2 0 0 2.6 2 2.6 6.7 0 1.8-.4 3.2-.9 4.3L25.5 22V1.4c0-1.3-1.6-1.9-2.5-1L13.5 10 3.3-.3c-.6-.6-1.5-.6-2.1 0L-.2 1.1c-.6.6-.6 1.5 0 2.1L4 7.6l26.8 26.8 13.9 13.9c.6.6 1.5.6 2.1 0l1.4-1.4c.7-.6.7-1.6.1-2.2z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("IGDSVolumePanoFilledIcon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:h.jsx("path",{d:"M16.636 7.028a1.5 1.5 0 1 0-2.395 1.807 5.365 5.365 0 0 1 1.103 3.17 5.378 5.378 0 0 1-1.105 3.176 1.5 1.5 0 1 0 2.395 1.806 8.396 8.396 0 0 0 1.71-4.981 8.39 8.39 0 0 0-1.708-4.978Zm3.73-2.332A1.5 1.5 0 1 0 18.04 6.59 8.823 8.823 0 0 1 20 12.007a8.798 8.798 0 0 1-1.96 5.415 1.5 1.5 0 0 0 2.326 1.894 11.672 11.672 0 0 0 2.635-7.31 11.682 11.682 0 0 0-2.635-7.31Zm-8.963-3.613a1.001 1.001 0 0 0-1.082.187L5.265 6H2a1 1 0 0 0-1 1v10.003a1 1 0 0 0 1 1h3.265l5.01 4.682.02.021a1 1 0 0 0 1.704-.814L12.005 2a1 1 0 0 0-.602-.917Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("PolarisAdBlockerMitigationGatingHelpers.js",["PolarisAdsGatingHelpers","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("PolarisAdsGatingHelpers").hasAdblockerMitigationEnabled()&&c("justknobx")._("931")}function b(){return d("PolarisAdsGatingHelpers").hasAdblockerMitigationEnabled()&&c("justknobx")._("1118")}g.shouldUseSVGTextMitigation=a;g.shouldUseRandomElementWrapper=b}),98);
__d("FXAccountsCenterBasicAdsRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/ad_preferences/basic_ads/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("PolarisBasicAdsBadge.react",["fbt","FXAccountsCenterBasicAdsRouteBuilder","GHLSVGText.react","IGDSText.react","PolarisAdBlockerMitigationGatingHelpers.js","PolarisExternalLink.react","PolarisODS","gkx","react","usePolarisAnalyticsContext","usePolarisViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__cszcGv_S3oX__JHASH__"),k=h._("__JHASH__Ywj08iwY3IT__JHASH__"),l="accountscenter";function a(){var a=c("gkx")("3942"),b=d("PolarisAdBlockerMitigationGatingHelpers.js").shouldUseSVGTextMitigation(),e=c("usePolarisViewer")();e=(e==null?void 0:e.isBasicAdsOptedIn)===!0&&(e==null?void 0:e.basicAdsTier)===3;var f=c("usePolarisAnalyticsContext")()==="feedPage";if(!a||!e||!f)return null;a=(f=(a=c("FXAccountsCenterBasicAdsRouteBuilder").buildUri({entrypoint:"basic_ads_badge"}).getQualifiedUri())==null?void 0:(e=a.setSubDomain(l))==null?void 0:e.toString())!=null?f:"";return i.jsxs("span",{children:[" \xb7 ",b?i.jsx(c("GHLSVGText.react"),{text:j.toString()}):j," ",i.jsx(c("PolarisExternalLink.react"),{href:a,onClick:function(){return c("PolarisODS").incr("web.ads.feed.basic_ads.badge.click")},children:i.jsx(c("IGDSText.react").Body2Emphasized,{children:b?i.jsx(c("GHLSVGText.react"),{text:k.toString()}):k})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisSponsoredLabel.react",["GHLRandomElementWrapper","GHLSVGText.react","PolarisAdBlockerMitigationGatingHelpers.js","PolarisBasicAdsBadge.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={root:{color:"x5n08af",fontSize:"x1fhwpqd",lineHeight:"x132q4wb",$$css:!0}};function a(a){var b,e=a["data-testid"];e=a.label;var f=a.placementHasBasicAds;a=a.xstyle;e=h.jsxs(h.Fragment,{children:[d("PolarisAdBlockerMitigationGatingHelpers.js").shouldUseSVGTextMitigation()===!0?h.jsx(c("GHLSVGText.react"),{text:e.toString()}):e,f===!0&&h.jsx(c("PolarisBasicAdsBadge.react"),{})]});return h.jsx("span",{className:c("stylex")(i.root,a),"data-testid":void 0,children:d("PolarisAdBlockerMitigationGatingHelpers.js").shouldUseRandomElementWrapper()===!0?h.jsx(c("GHLRandomElementWrapper"),{elementTag:"randomSpan",children:e}):e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisGroupProfileAvatar.react",["cx","IGDSBox.react","PolarisUserAvatar.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.groupProfile;a=a.postAuthor;return i.jsxs(c("IGDSBox.react"),{height:32,position:"relative",width:32,children:[i.jsx(c("PolarisUserAvatar.react"),{profilePictureUrl:b.profilePictureUrl,size:24,username:b.username}),i.jsx("div",{className:"_adi4",children:i.jsx(c("IGDSBox.react"),{alignItems:"end",direction:"row",justifyContent:"end",position:"relative",children:i.jsx(c("PolarisUserAvatar.react"),{profilePictureUrl:a.profilePictureUrl,size:16,username:a.username})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisIsLoggedInDesktop",["PolarisUA","polarisIsUserLoggedIn"],(function(a,b,c,d,e,f,g){"use strict";function a(){return!d("PolarisUA").isMobile()&&d("polarisIsUserLoggedIn").isUserLoggedIn()}g.isLoggedInDesktop=a}),98);
__d("PolarisFacepileItem.react",["PolarisIGCoreConstants","PolarisReactRedux","PolarisUserAvatar.react","polarisUserSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.avatarSize;b=b===void 0?"extraSmall":b;a=a.user;return h.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:a.profilePictureUrl,size:c("PolarisIGCoreConstants").AVATAR_SIZES[b],username:a.username})}a.displayName=a.name+" [from "+f.id+"]";function b(a,b){b=b.userId;return{user:d("polarisUserSelectors").getUserById(a,b)}}e=d("PolarisReactRedux").connect(b)(a);g["default"]=e}),98);
__d("PolarisFacepile.react",["cx","IGDSBox.react","PolarisErrorBoundary.react","PolarisFacepileItem.react","PolarisIGCoreConstants","PolarisIGCorePressable","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.avatarSize,d=b===void 0?"extraSmall":b;b=a.border;var e=b===void 0?"opaque":b,f=a.onClick;b=a.overlapDirection;b=b===void 0?"right":b;a=[].concat(a.userIds);var g=c("PolarisIGCoreConstants").AVATAR_SIZES[d],h=a.length,j=b==="left",k=!j;if(h===0)return null;k&&a.reverse();var l=function(){f!=null&&f()};return i.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:j?"start":"end",position:"relative",children:a.map(function(a,b){var f={height:g+"px",order:""+(b+1),width:g+"px"};k&&(f.order=String(h-(b+1)));return i.jsx(c("PolarisIGCorePressable"),{className:(e==="opaque"?"_ab0q":"")+(e==="transparent"?" _ab0r":"")+(b>0&&j?" _ab0s":"")+(b>0&&k?" _ab0t":"")+" _ab0u",onPress:l,style:f,children:i.jsx(c("PolarisErrorBoundary.react"),{errorRenderer:function(){return null},children:i.jsx(c("PolarisFacepileItem.react"),{avatarSize:d,userId:a})})},b)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("InstagramVideoViewabilityChangedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4670");b=d("FalcoLoggerInternal").create("instagram_video_viewability_changed",a);e=b;g["default"]=e}),98);
__d("VideoAudioDisabledFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4847");b=d("FalcoLoggerInternal").create("video_audio_disabled",a);e=b;g["default"]=e}),98);
__d("VideoAudioEnabledFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4848");b=d("FalcoLoggerInternal").create("video_audio_enabled",a);e=b;g["default"]=e}),98);
__d("VideoBufferingFinishedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4849");b=d("FalcoLoggerInternal").create("video_buffering_finished",a);e=b;g["default"]=e}),98);
__d("VideoBufferingStartedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4850");b=d("FalcoLoggerInternal").create("video_buffering_started",a);e=b;g["default"]=e}),98);
__d("VideoExitedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4672");b=d("FalcoLoggerInternal").create("video_exited",a);e=b;g["default"]=e}),98);
__d("VideoFullViewedTimeFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4887");b=d("FalcoLoggerInternal").create("video_full_viewed_time",a);e=b;g["default"]=e}),98);
__d("VideoPausedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1206");b=d("FalcoLoggerInternal").create("video_paused",a);e=b;g["default"]=e}),98);
__d("VideoShouldStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1207");b=d("FalcoLoggerInternal").create("video_should_start",a);e=b;g["default"]=e}),98);
__d("VideoStartedPlayingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1208");b=d("FalcoLoggerInternal").create("video_started_playing",a);e=b;g["default"]=e}),98);
__d("VideoViewedTimeFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4678");b=d("FalcoLoggerInternal").create("video_viewed_time",a);e=b;g["default"]=e}),98);
__d("PolarisVideoFalcoLogger",["InstagramVideoViewabilityChangedFalcoEvent","PolarisNavChain","PolarisVideoLogger","VideoAudioDisabledFalcoEvent","VideoAudioEnabledFalcoEvent","VideoBufferingFinishedFalcoEvent","VideoBufferingStartedFalcoEvent","VideoExitedFalcoEvent","VideoFullViewedTimeFalcoEvent","VideoPausedFalcoEvent","VideoShouldStartFalcoEvent","VideoStartedPlayingFalcoEvent","VideoViewedTimeFalcoEvent","polarisUnexpected"],(function(a,b,c,d,e,f,g){"use strict";b=[d("PolarisVideoLogger").VIDEO_EVENTS.shouldStart,d("PolarisVideoLogger").VIDEO_EVENTS.paused,d("PolarisVideoLogger").VIDEO_EVENTS.exited,d("PolarisVideoLogger").VIDEO_EVENTS.audioEnabled,d("PolarisVideoLogger").VIDEO_EVENTS.audioDisabled,d("PolarisVideoLogger").VIDEO_EVENTS.bufferingStarted,d("PolarisVideoLogger").VIDEO_EVENTS.bufferingFinished,d("PolarisVideoLogger").VIDEO_EVENTS.startedPlaying,d("PolarisVideoLogger").VIDEO_EVENTS.fullViewedTime,d("PolarisVideoLogger").VIDEO_EVENTS.viewedTime,d("PolarisVideoLogger").VIDEO_EVENTS.viewabilityChanged];function a(b,e,a){switch(b){case d("PolarisVideoLogger").VIDEO_EVENTS.shouldStart:h(e,a);break;case d("PolarisVideoLogger").VIDEO_EVENTS.paused:i(e,a);break;case d("PolarisVideoLogger").VIDEO_EVENTS.exited:j(e,a);break;case d("PolarisVideoLogger").VIDEO_EVENTS.audioEnabled:k(e,a);break;case d("PolarisVideoLogger").VIDEO_EVENTS.audioDisabled:l(e,a);break;case d("PolarisVideoLogger").VIDEO_EVENTS.bufferingStarted:m(e,a);break;case d("PolarisVideoLogger").VIDEO_EVENTS.bufferingFinished:n(e,a);break;case d("PolarisVideoLogger").VIDEO_EVENTS.startedPlaying:o(e,a);break;case d("PolarisVideoLogger").VIDEO_EVENTS.fullViewedTime:p(e,a);break;case d("PolarisVideoLogger").VIDEO_EVENTS.viewedTime:q(e,a);break;case d("PolarisVideoLogger").VIDEO_EVENTS.viewabilityChanged:r(e,a);break;default:c("polarisUnexpected")("Video: logging an unsupported video falco event using WWW Falco")}}function h(b,a){var d=b.a_i,e=b.a_pk,g=b.carousel_media_id,h=b.m_pk,i=b.pk,j=b.playback_format,k=b.reason,l=b.seq_num,m=b.time,n=b.time_spent_id;b=b.tracking_token;var o=babelHelpers["extends"]({reason:k,seq_num:l.toString(),time:m==null?null:Number(m)},s(g,h),{pk:i,a_i:d,a_pk:e,nav_chain:(k=c("PolarisNavChain").getInstance())==null?void 0:k.getNavChainForSend(),tracking_token:b,playback_format:j,time_spent_id:n,pigeon_reserved_keyword_module:a});c("VideoShouldStartFalcoEvent").log(function(){return o})}function i(b,a){var d=b.a_i,e=b.a_pk,g=b.carousel_media_id,h=b.duration,i=b.is_dash_eligible,j=b.loop_count,k=b.lsp,l=b.m_pk,m=b.pk,n=b.playback_format,o=b.playing_audio,p=b.seq_num,q=b.time,r=b.time_spent_id,t=b.tracking_token;b=b.video_width;var u=babelHelpers["extends"]({seq_num:p.toString(),time:Number(q)},s(g,l),{pk:m,a_i:d,a_pk:e,nav_chain:(p=c("PolarisNavChain").getInstance())==null?void 0:p.getNavChainForSend(),tracking_token:t,playback_format:n,time_spent_id:r,pigeon_reserved_keyword_module:a,is_dash_eligible:Boolean(i),video_width:String(b),playing_audio:Boolean(o),loop_count:Number(j),lsp:Number(k),duration:Number(h)});c("VideoPausedFalcoEvent").log(function(){return u})}function j(b,a){var d=b.a_i,e=b.a_pk,g=b.carousel_media_id,h=b.duration,i=b.is_dash_eligible,j=b.loop_count,k=b.lsp,l=b.m_pk,m=b.pk,n=b.playback_format,o=b.playing_audio,p=b.seq_num,q=b.time,r=b.time_spent_id,t=b.tracking_token;b=b.video_width;var u=babelHelpers["extends"]({seq_num:p.toString(),time:Number(q)},s(g,l),{pk:m,a_i:d,a_pk:e,nav_chain:(p=c("PolarisNavChain").getInstance())==null?void 0:p.getNavChainForSend(),tracking_token:t,playback_format:n,time_spent_id:r,pigeon_reserved_keyword_module:a,is_dash_eligible:String(i),video_width:String(b),playing_audio:String(o),loop_count:String(j),lsp:Number(k),duration:Number(h)});c("VideoExitedFalcoEvent").log(function(){return u})}function k(b,a){var d=b.a_i,e=b.a_pk,g=b.carousel_media_id,h=b.duration,i=b.is_dash_eligible,j=b.loop_count,k=b.m_pk,l=b.pk,m=b.playback_format,n=b.seq_num,o=b.time,p=b.time_spent_id,q=b.tracking_token;b=b.video_width;var r=babelHelpers["extends"]({seq_num:n.toString(),time:Number(o)},s(g,k),{pk:l,a_i:d,a_pk:e,nav_chain:(n=c("PolarisNavChain").getInstance())==null?void 0:n.getNavChainForSend(),tracking_token:q,playback_format:m,time_spent_id:p,pigeon_reserved_keyword_module:a,is_dash_eligible:Boolean(i),video_width:String(b),loop_count:(o=j)!=null?o:0,duration:Number(h)});c("VideoAudioEnabledFalcoEvent").log(function(){return r})}function l(b,a){var d=b.a_i,e=b.a_pk,g=b.carousel_media_id,h=b.duration,i=b.is_dash_eligible,j=b.loop_count,k=b.m_pk,l=b.pk,m=b.playback_format,n=b.seq_num,o=b.time,p=b.time_spent_id,q=b.tracking_token;b=b.video_width;var r=babelHelpers["extends"]({seq_num:n.toString(),time:Number(o)},s(g,k),{pk:l,a_i:d,a_pk:e,nav_chain:(n=c("PolarisNavChain").getInstance())==null?void 0:n.getNavChainForSend(),tracking_token:q,playback_format:m,time_spent_id:p,pigeon_reserved_keyword_module:a,is_dash_eligible:String(i),video_width:String(b),loop_count:(o=j)!=null?o:0,duration:Number(h)});c("VideoAudioDisabledFalcoEvent").log(function(){return r})}function m(b,a){var d=b.a_i,e=b.a_pk,g=b.carousel_media_id,h=b.follow_status,i=b.is_dash_eligible,j=b.loop_count,k=b.m_pk,l=b.m_ts,m=b.pk,n=b.playback_format,o=b.playing_audio,p=b.radio_type,q=b.seq_num,r=b.time_spent_id,t=b.timeAsPercent,u=b.tracking_token;b=b.video_width;if(o==null)return;var v=babelHelpers["extends"]({seq_num:q.toString()},s(g,k),{pk:m,a_i:d,a_pk:e,nav_chain:(q=c("PolarisNavChain").getInstance())==null?void 0:q.getNavChainForSend(),tracking_token:u,playback_format:n,time_spent_id:r,pigeon_reserved_keyword_module:a,is_dash_eligible:String(i),video_width:b==null?void 0:b.toString(),loop_count:(g=j)!=null?g:0,follow_status:(k=h)!=null?k:"not_following",m_ts:l==null?void 0:l.toString(),playing_audio:o.toString(),radio_type:p,timeAsPercent:(m=t)!=null?m:0});c("VideoBufferingStartedFalcoEvent").log(function(){return v})}function n(b,a){var d=b.a_i,e=b.a_pk,g=b.carousel_media_id,h=b.follow_status,i=b.is_dash_eligible,j=b.loop_count,k=b.lsp,l=b.m_pk,m=b.m_ts,n=b.pk,o=b.playback_format,p=b.playing_audio,q=b.radio_type,r=b.seq_num,t=b.time_spent_id,u=b.timeAsPercent,v=b.tracking_token;b=b.video_width;var w=babelHelpers["extends"]({seq_num:r.toString()},s(g,l),{pk:n,a_i:d,a_pk:e,nav_chain:(r=c("PolarisNavChain").getInstance())==null?void 0:r.getNavChainForSend(),tracking_token:v,playback_format:o,time_spent_id:t,pigeon_reserved_keyword_module:a,is_dash_eligible:String(i),video_width:String(b),lsp:Number((g=k)!=null?g:0),loop_count:(l=j)!=null?l:0,follow_status:(n=h)!=null?n:"not_following",m_ts:String(m),playing_audio:String(p),radio_type:q,timeAsPercent:(d=u)!=null?d:0});c("VideoBufferingFinishedFalcoEvent").log(function(){return w})}function o(b,a){var d=b.a_i,e=b.a_pk,g=b.carousel_media_id,h=b.dropped_frame_count,i=b.is_dash_eligible,j=b.m_pk,k=b.pk,l=b.playback_format,m=b.reason,n=b.seq_num,o=b.start_delay,p=b.time,q=b.time_spent_id,r=b.total_frame_count,t=b.tracking_token;b=b.video_width;if(m==null)return;h=r!=null&&h!=null?babelHelpers["extends"]({dropped_frame_count:h==null?void 0:h.toString(),total_frame_count:r==null?void 0:r.toString(),video_width:b==null?void 0:b.toString()},s(g,j)):babelHelpers["extends"]({video_width:b==null?void 0:b.toString()},s(g,j));var u=babelHelpers["extends"]({reason:m,start_delay:o==null?null:Number(o),seq_num:n.toString(),time:p==null?null:Number(p)},h,{pk:k,a_i:d,a_pk:e,nav_chain:(r=c("PolarisNavChain").getInstance())==null?void 0:r.getNavChainForSend(),tracking_token:t,is_dash_eligible:i===1,playback_format:l,time_spent_id:q,pigeon_reserved_keyword_module:a});c("VideoStartedPlayingFalcoEvent").log(function(){return u})}function p(b,a){var d=b.a_i,e=b.a_pk,g=b.carousel_media_id,h=b.duration,i=b.is_dash_eligible,j=b.loop_count,k=b.lsp,l=b.m_pk,m=b.pk,n=b.playback_format,o=b.seq_num,p=b.time,q=b.time_spent_id,r=b.tracking_token;b=b.video_width;if(r==null||p==null)return;var t=babelHelpers["extends"]({duration:h==null?null:Number(h),lsp:Number((h=k)!=null?h:0),time:Number(p),loop_count:(k=j)!=null?k:0,seq_num:o.toString(),video_width:String(b)},s(g,l),{a_i:d,a_pk:e,nav_chain:(h=c("PolarisNavChain").getInstance())==null?void 0:h.getNavChainForSend(),pk:m,tracking_token:r,is_dash_eligible:String(i),playback_format:n,time_spent_id:q,pigeon_reserved_keyword_module:a});c("VideoFullViewedTimeFalcoEvent").log(function(){return t})}function q(b,a){var d=b.a_i,e=b.a_pk,g=b.carousel_media_id,h=b.duration,i=b.is_dash_eligible,j=b.loop_count,k=b.lsp,l=b.m_pk,m=b.pk,n=b.playback_format,o=b.seq_num,p=b.time,q=b.time_spent_id,r=b.tracking_token;b=b.video_width;if(r==null||p==null)return;var t=babelHelpers["extends"]({duration:h==null?null:Number(h),lsp:Number((h=k)!=null?h:0),time:Number(p),loop_count:(k=j)!=null?k:0,seq_num:o.toString(),video_width:String(b)},s(g,l),{a_i:d,a_pk:e,nav_chain:(h=c("PolarisNavChain").getInstance())==null?void 0:h.getNavChainForSend(),pk:m,tracking_token:r,is_dash_eligible:String(i),playback_format:n,time_spent_id:q,pigeon_reserved_keyword_module:a});c("VideoViewedTimeFalcoEvent").log(function(){return t})}function r(b,a){var d=b.a_i,e=b.a_pk,g=b.carousel_media_id,h=b.current_viewability_percentage,i=b.is_dash_eligible,j=b.m_pk,k=b.pk,l=b.playback_format,m=b.seq_num,n=b.time,o=b.time_spent_id,p=b.tracking_token,q=b.video_time_position;b=b.video_width;if(h==null)return;var r=babelHelpers["extends"]({current_viewability_percentage:h.toString(),seq_num:m.toString(),time:n==null?null:Number(n),video_time_position:q},s(g,j),{pk:k,a_i:d,a_pk:e,nav_chain:(h=c("PolarisNavChain").getInstance())==null?void 0:h.getNavChainForSend(),tracking_token:p,playback_format:l,time_spent_id:o,pigeon_reserved_keyword_module:a,is_dash_eligible:i.toString(),video_width:b==null?void 0:b.toString()});c("InstagramVideoViewabilityChangedFalcoEvent").log(function(){return r})}function s(a,b){return a==null?{m_pk:b}:{carousel_media_id:a,m_pk:b}}g.SUPPORTED_FALCO_EVENT_TYPES=b;g.logVideoFalcoEvent=a}),98);
__d("PolarisVideoLogger",["PolarisAdsGatingHelpers","PolarisLogger","PolarisNavChain","PolarisODS","PolarisPageID","PolarisPigeonLogger","PolarisVideoFalcoLogger","polarisIsUserLoggedIn","polarisUnexpected","qex"],(function(a,b,c,d,e,f,g){"use strict";e={audioDisabled:"video_audio_disabled",audioEnabled:"video_audio_enabled",bufferingFinished:"video_buffering_finished",bufferingStarted:"video_buffering_started",exited:"video_exited",failedPlaying:"video_failed_playing",formatChanged:"video_format_changed",fullViewedTime:"video_full_viewed_time",paused:"video_paused",playingUpdate:"video_playing_update",seek:"video_seek",shouldStart:"video_should_start",startedPlaying:"video_started_playing",viewabilityChanged:"instagram_video_viewability_changed",viewed:"video_viewed",viewedTime:"video_viewed_time"};function h(a){var b=a.carouselParentId,e=a.id,f=a.isAd,g=a.isDashEligible,h=a.ownerId,i=a.playbackFormat,j=a.trackingToken,k=babelHelpers.objectWithoutPropertiesLoose(a,["carouselParentId","id","isAd","isDashEligible","ownerId","playbackFormat","trackingToken"]);a=d("PolarisLogger").getExtra(a);a=a.ig_userid;h=h||"";e=e||"";b=b!=null?{carousel_media_id:e+"_"+h,m_pk:b+"_"+h}:{m_pk:e+"_"+h};return babelHelpers["extends"]({},k,b,{a_i:f===!0?"ad":"organic",a_pk:h,is_dash_eligible:g,nav_chain:(e=c("PolarisNavChain").getInstance())==null?void 0:e.getNavChainForSend(),pk:a,playback_format:i,time_spent_id:c("PolarisPageID"),tracking_token:j})}function a(a){return a!=null?Number(a.toFixed(2)):null}function b(b,e,a){if(!d("polarisIsUserLoggedIn").isUserLoggedIn())return;var g=h(e);if(g.tracking_token==null){c("polarisUnexpected")("Video: can't log event without a tracking token!");return}e.isAd===!0&&c("PolarisODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.ads."+a+"."+b);e=e.isAd===!0;e=(!e||d("PolarisAdsGatingHelpers").isWWWFalcoEnabledForVideoAds())&&d("PolarisVideoFalcoLogger").SUPPORTED_FALCO_EVENT_TYPES.includes(b)&&c("qex")._("645")===!0;e?d("PolarisVideoFalcoLogger").logVideoFalcoEvent(b,g,a):d("PolarisLogger").logPigeonEvent(d("PolarisPigeonLogger").createEvent(b,g,{module:a}))}g.VIDEO_EVENTS=e;g.normalizeVideoEvent=a;g.logVideoEvent=b}),98);
__d("PolarisOzConfigMobileDefault",[],(function(a,b,c,d,e,f){"use strict";a={abr_use_download_time:!1,allow_queueing_end_of_stream_when_update:!1,back_off_pdash_504_retry:!1,bandwidth_ignore_on_stream_write_samples:!1,bandwidth_use_response_time_adjustment:!1,buffer_when_waiting:!1,call_end_of_stream_in_quick_starter:!1,check_buffer_range_once_for_playhead_update:!1,cleanup_video_node_on_destroy:!1,clear_buffer_when_switch_representation_initiator_is_user:!1,clear_prepended_segments_count_on_append:!1,copy_new_manifest:!1,detach_media_source_manager:!1,disable_audio_scheduler:!1,enable_abr_for_first_request:!1,enable_adaptation:!0,enable_appends_on_wait_update_end_failure:!1,enable_network_manager_error:!1,enable_quickdashv2:!1,estimate_video_bandwidth_only:!1,exclude_prefetch_bandwidth_samples:!0,fallback_on_append_error:!1,fix_abr_default_representation:!1,fix_quick_starter_overhead:!0,fix_seek_performance:!1,fix_template_duration_artifact_in_manifest:!1,generate_mos_segment_appended_secs:!1,ignore_time_to_response_start:!1,lazy_parse_sidx:!1,live_audio_ibr:!0,live_catch_up_only_when_paused:!1,live_disable_mpd_updates_when_paused:!1,live_gracefully_handle_mpd_errors:!1,live_gracefully_handle_no_network:!1,live_no_segment_when_playhead_is_before_first_segment:!1,live_playhead_catch_up:!1,live_query_time_in_range:!1,log_appended_secs:!1,maybe_end_stream_if_prepended_segments:!1,no_new_loop_body_promise_when_stream_ongoing:!1,pausable_stream_throws_error_when_aborted:!1,pdash_continue_interrupt_from_error:!1,queue_data_with_error_handling:!1,reach_end_only_when_video_ended:!1,remove_src_attr_on_unload:!1,retry_fetch_on_prefetch_error:!1,sbm_recursively_waits_for_update_end:!1,sbm_waits_for_update_end:!0,seek_ahead_use_native_current_time:!1,seek_to_start_quick_starter:!1,set_source_buffer_append_window_end:!1,skip_videobuffer_gaps:!0,stop_manifest_update_when_static:!1,suppress_playing_event_while_buffering:!1,throw_network_error_during_stream:!1,throw_on_non_zero_r_d_mismatch:!1,touch_cb_key:!1,update_bandwidth_cache_on_sample:!1,update_duration_when_init_appended:!1,update_media_source_duration:!0,use_abr_for_missing_default_representation:!1,use_deferred_streaming_task:!1,use_loose_manifest_updates:!1,use_performance_entry_on_stream_close:!1,use_sc_timebased_segments:!1,use_scf_timebased_segments:!1,use_scheduler:!0,use_segment_request_cache:!1,use_stream_end_time_in_segment_locator:!1};b={abr_confidence_threshold:.9,abr_eval_buffer_threshold:0,abr_min_bandwidth_samples:0,abr_prevent_down_switch_buffer_threshold:11,abr_restrict_from_index:0,abr_restrict_to_index:0,append_byte_target_without_range:0,appends_per_segment:3,auto_seek_playhead_slack:0,bandwidth_boundary_standard_deviation_factor:1,bandwidth_estimator_half_life:6,bandwidth_estimator_outlier_exclusion_factor:50,bandwidth_estimator_std_dev_penalty_factor:0,bandwidth_estimator_variance_penalty_down_factor:0,bandwidth_estimator_variance_penalty_half_life:0,bandwidth_estimator_variance_penalty_up_factor:0,bandwidth_penalty_additional_video_start:0,bandwidth_penalty_per_additional_video:0,bandwidth_response_time_handicap:0,buffer_ahead_target:19,byte_count_per_sample:6e4,default_bandwidth_estimate:5e5,download_time_buffer_delta_penalty_factor:0,in_play_buffer_overflow_target:1,in_play_buffer_underflow_target:.1,initial_switch_interval:0,live_audio_ibr_bandwidth_percentage:.05,live_catch_up_fall_behind_threshold:20,live_catch_up_live_head_delta:6,live_max_try_attempts_on_404:1,live_numerical_error_epsilon:0,low_buffer_bandwidth_target_increase_factor:0,low_buffer_bandwidth_target_threshold:10,low_segment_stream_playhead_threshold:0,max_bandwidth_sample_count:30,maximum_bandwidth_sample_bandwidth:2e6,min_eval_interval:1e3,min_switch_interval:5e3,minimum_bandwidth_sample_duration:30,minimum_bytes_to_sample_on_close:25e3,minimum_download_additional_buffer_ms:0,network_seg_timeout_ms:0,paused_stream_segments_count:2,per_stream_duration_target:0,playhead_nudge_slack:0,pre_start_buffer_ahead_target:10,resolution_constraint_factor:2,seconds_to_stream:0,seconds_to_stream_near_bandwidth_boundary:0,seek_ahead_epsilon:0,segments_to_stream:5,segments_to_stream_near_bandwidth_boundary:5,segments_to_stream_under_playhead_threshold:0,start_buffer_underflow_target:.1,stream_interrupt_check_mpd_stale_count_threshold:0,time_to_first_byte_estimate_half_life_ms:500,timeline_offset_threshold:0};c={bandwidth_cache_key:"bandwidthEstimate",network_end_broadcasts_json:"[]",network_reload_mpd_json:"[]",network_retry_intervals_json:'{"0": 1000, "404": 2000, "502": 1000, "503": 1000, "504": 1000}',network_skip_json:"[]"};f.defaultBools=a;f.defaultNumbers=b;f.defaultStrings=c}),66);
__d("oz-player-polaris/configs/PolarisDummyOzConfig",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){a===void 0&&(a={}),this.$1=a}var b=a.prototype;b.getBool=function(a,b){return typeof this.$1[a]===typeof b?this.$1[a]:b};b.getNumber=function(a,b){return typeof this.$1[a]===typeof b?this.$1[a]:b};b.getString=function(a,b){return typeof this.$1[a]===typeof b?this.$1[a]:b};return a}();f["default"]=a}),66);
__d("usePolarisOzPlayer",["JSResourceForInteraction","PolarisMonitorErrors","PolarisODS","PolarisOzConfigMobileDefault","PolarisUA","asyncToGeneratorRuntime","gkx","justknobx","once","oz-player-polaris/configs/PolarisDummyOzConfig","oz-player-polaris/utils/PolarisOzError","polarisManifestHasUnsupportedCodecs","react"],(function(a,b,c,d,e,f,g){"use strict";f=d("react");var h=f.useEffect,i=f.useRef,j=f.useState;function a(a){if(!c("justknobx")._("90"))return!1;if(d("PolarisUA").isFirefox())return!1;a=a.dashInfo;if(a==null)return!1;var b=a.is_dash_eligible;a=a.video_dash_manifest;if(!b||a==null||!k())return!1;if(c("polarisManifestHasUnsupportedCodecs")(a)){c("PolarisODS").incr("web.video.unsupported.codec");return!1}return d("PolarisUA").isDesktop()}var k=c("once")(function(){var a=!0;c("PolarisODS").incr("web.video.oz_player_support_check");window.MediaSource||(a=!1,c("PolarisODS").incr("web.video.oz_player_media_source_failed"));(!window.fetch||!window.AbortController)&&(a=!1,c("PolarisODS").incr("web.video.oz_player_fetch_abort_failed"));var b=!!window.MediaKeys&&!!window.navigator&&!!window.navigator.requestMediaKeySystemAccess&&!!window.MediaKeySystemAccess&&!!window.MediaKeySystemAccess.prototype.getConfiguration;b||(a=!1,c("PolarisODS").incr("web.video.oz_player_drm_support_failed"));if(window.ReadableStream)try{new ReadableStream({})}catch(b){a=!1,c("PolarisODS").incr("web.video.oz_player_readable_stream_use_failed")}else a=!1,c("PolarisODS").incr("web.video.oz_player_readable_stream_failed");window.Headers||(a=!1,c("PolarisODS").incr("web.video.oz_player_headers_failed"));(!((b=window.URL)==null?void 0:b.createObjectURL)||!Blob)&&(a=!1,c("PolarisODS").incr("web.video.oz_player_blob_url_failed"));c("gkx")("4980")||(a=!1,c("PolarisODS").incr("web.video.oz_player_gk_failed"));a||c("PolarisODS").incr("web.video.oz_player_support_failed");return a}),l=c("once")(function(){var a=d("PolarisUA").isMobile()?Object.assign({},d("PolarisOzConfigMobileDefault").defaultBools,d("PolarisOzConfigMobileDefault").defaultNumbers,d("PolarisOzConfigMobileDefault").defaultStrings):{cleanup_video_node_on_destroy:!1};return new(c("oz-player-polaris/configs/PolarisDummyOzConfig"))(a)});function m(a,b,c){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){a===void 0&&(a=null);var e=(yield c("JSResourceForInteraction")("oz-player-polaris").__setRef("usePolarisOzPlayer").load()),f=l(),g={height:b.offsetHeight,width:b.offsetWidth};return a!=null?new e({config:f,customRepresentationParsers:d,dimensions:g,rawMpdXml:a,videoNodeOrQuickStarter:b}):new e({config:f,customRepresentationParsers:d,dimensions:g,videoNodeOrQuickStarter:b})});return n.apply(this,arguments)}function o(a){var b=["oz_player_error -"];b.push("name: "+a.name);b.push("message: "+a.message);a.description!=null&&a.description.length>0&&b.push("description: "+a.description);if(a instanceof c("oz-player-polaris/utils/PolarisOzError")){a=a.getExtra();a.code!=null&&b.push("code: "+a.code)}return b.join(" ")}function p(a,b,c){b!=null&&a.src!==b&&(a.src=b),c&&c()}function e(a,b,e,f,g){a===void 0&&(a=null);b===void 0&&(b=null);var k=j(!1),l=k[0],n=k[1],q=i(null),r=i(null),s=i(f);h(function(){if(e!=null&&q.current==null&&r.current==null){var f=s.current,h=f.customRepresentationParsers,i=f.onPlayerReady,j=f.onSwitchVideoRepresentation;f=m(b,e,h).then(function(b){q.current=b,b.onError(function(a){d("PolarisMonitorErrors").logError(new Error(o(a)))}),b.addListener("enter_buffering",function(){e.playbackRate=0}),b.addListener("leave_buffering",function(){e.playbackRate=1}),b.addListener("mpd_ready",function(){c("PolarisODS").incr("web.video.load_manifest_successful"),n(!0),i&&i()}),b.addListener("switchVideoRepresentation",function(){if(j!=null){var a=e.currentTime;a=b.getVideoRepresentationIDAtTime(a);a!=null&&j(a)}}),c("PolarisODS").incr("web.video.load_manifest_request"),b.load(a)})["catch"](function(){d("PolarisMonitorErrors").logError(new Error("oz_player_error: failed to create the oz player")),c("PolarisODS").incr("web.video.load_manifest_failed"),q.current!=null?q.current.destroy().then(function(){p(e,g,i)}):p(e,g,i)});r.current=f}return function(){r.current!=null&&(r.current=null),q.current!=null&&(q.current.destroy(),q.current=null)}},[g,a,b,e]);return{manifestLoaded:l,ozPlayer:q.current}}g.shouldUseOzForPostVideo=a;g.useOzPlayer=e}),98);
__d("polarisVideoUtils",["PolarisContainerModuleUtils","PolarisIsLoggedInDesktop","PolarisPanavisionQEHelpers","PolarisRelationshipTypes","PolarisUA","PolarisVideoConstants","PolarisVideoLogger","polarisIsUserLoggedIn","usePolarisOzPlayer"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){if(!o())return!1;a=h(c);return a!=null&&a>d("PolarisVideoConstants").VIDEO_PREVIEW_DURATION_SECONDS}function h(a){return a&&a.getCurrentTime()}function b(a){return d("usePolarisOzPlayer").shouldUseOzForPostVideo(a)?a.dashInfo:void 0}function c(a){return a?"metadata":"none"}function e(a){return(a==null?void 0:(a=a.followedByViewer)==null?void 0:a.state)===d("PolarisRelationshipTypes").FOLLOW_STATUS_FOLLOWING?"following":"not_following"}function f(a,b){if(a===d("PolarisVideoConstants").AUDIO_STATES.none)return!0;return b!==!0?!1:a!==d("PolarisVideoConstants").AUDIO_STATES.on}function i(a,b){a=a==null?void 0:a.getVideo();if(a===null)return!0;a=(a==null?void 0:a.muted)===!0||(a==null?void 0:a.volume)===0;return a&&b}function j(a){return n(a)&&d("PolarisIsLoggedInDesktop").isLoggedInDesktop()?!1:!0}function k(a){return a===d("PolarisVideoConstants").PLAYER_STATES.playing||a===d("PolarisVideoConstants").PLAYER_STATES.requestedPlay}function l(a){var b=h(a)||0;a=a&&a.getDuration();return a!=null&&a!==0?b/a:0}function m(a){return a&&a.getPauseTime()}function n(a){return a==="feed"||a==="feedPage"||a==="followingFeedPage"||a==="favoritesFeedPage"||a==="pastPostsFeedPage"}function o(){return!1}function p(a,b,c){d("polarisIsUserLoggedIn").isUserLoggedIn()&&d("PolarisVideoLogger").logVideoEvent(b,c,d("PolarisContainerModuleUtils").getContainerModule(a))}function q(a,b){if(o())return!0;b=n(a)&&!d("PolarisPanavisionQEHelpers").hasNoLetterboxing();return d("PolarisUA").isMobile()||b}function r(a,b){return o()}g.didReachEndOfIGTVPreview=a;g.getCurrentVideoTime=h;g.getDashInfo=b;g.getDeclarativeVideoPreload=c;g.getFollowingStatus=e;g.getShouldMuteAudio=f;g.getShouldStopVideoInBackground=i;g.getShouldStopVideoWhenNotVisible=j;g.getShouldVideoLoop=k;g.getTimeAsPercentage=l;g.getTimeAtVideoPause=m;g.isFeed=n;g.isIGTVFeedPreview=o;g.logVideoEventWrapper=p;g.shouldCenterCropPosterHeight=q;g.shouldCenterCropVideoHeight=r}),98);
__d("polarisVideoEventLogger",["PolarisODS","PolarisVideoLogger","polarisVideoUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.adTrackingToken,c=a.carouselParentId,d=a.dashInfo,e=a.extras,f=a.id,g=a.isAd,h=a.ownerId,i=a.playerImplementation,j=a.trackingToken;a=a.videoWidth;var k=(d==null?void 0:d.is_dash_eligible)?1:0;d=k&&(d==null?void 0:d.video_dash_manifest)!=null&&(i==="oz_v2"||i==="oz")?"dash":"progressive";e=babelHelpers["extends"]({},e,{carouselParentId:c,id:f||"",isAd:!1,isDashEligible:k,ownerId:(i=h)!=null?i:"",playbackFormat:d,trackingToken:g===!0&&b!=null?b:j});a!=null&&a!==0&&(e.video_width=a);g===!0&&(e.isAd=g);return e}function a(a){return a==null?null:{adTrackingToken:a==null?void 0:a.tracking_token,isAd:!!a}}function b(a){var b=a.adTrackingToken,c=a.analyticsContext,e=a.carouselParentId,f=a.currentVideoTime,g=a.dashInfo,i=a.duration,j=a.id,k=a.isAd,l=a.loopsCount,m=a.ownerId,n=a.playerImplementation,o=a.sequenceNumber,p=a.trackingToken;a=a.videoWidth;i={duration:d("PolarisVideoLogger").normalizeVideoEvent(i),loop_count:l,seq_num:o,time:d("PolarisVideoLogger").normalizeVideoEvent(f)};d("polarisVideoUtils").logVideoEventWrapper(c,d("PolarisVideoLogger").VIDEO_EVENTS.audioEnabled,h({adTrackingToken:b,carouselParentId:e,dashInfo:g,extras:i,id:j,isAd:k,ownerId:m,playerImplementation:n,trackingToken:p,videoWidth:a}))}function e(a){var b=a.adTrackingToken,c=a.analyticsContext,e=a.carouselParentId,f=a.currentVideoTime,g=a.dashInfo,i=a.duration,j=a.id,k=a.isAd,l=a.loopsCount,m=a.ownerId,n=a.playerImplementation,o=a.sequenceNumber,p=a.trackingToken;a=a.videoWidth;i={duration:d("PolarisVideoLogger").normalizeVideoEvent(i),loop_count:l,seq_num:o,time:d("PolarisVideoLogger").normalizeVideoEvent(f)};d("polarisVideoUtils").logVideoEventWrapper(c,d("PolarisVideoLogger").VIDEO_EVENTS.audioDisabled,h({adTrackingToken:b,carouselParentId:e,dashInfo:g,extras:i,id:j,isAd:k,ownerId:m,playerImplementation:n,trackingToken:p,videoWidth:a}))}function f(a){var b=a.adTrackingToken,c=a.analyticsContext,e=a.carouselParentId,f=a.dashInfo,g=a.followingStatus,i=a.id,j=a.isAd,k=a.lastStartPosition,l=a.loopsCount,m=a.ownerId,n=a.playerImplementation,o=a.postedAt,p=a.sequenceNumber,q=a.timeAsPercent,r=a.trackingToken;a=a.videoWidth;g={follow_status:(g=g)!=null?g:"not_following",loop_count:l,lsp:d("PolarisVideoLogger").normalizeVideoEvent(k),m_ts:o,playing_audio:1,radio_type:"none-none",seq_num:p,timeAsPercent:q};d("polarisVideoUtils").logVideoEventWrapper(c,d("PolarisVideoLogger").VIDEO_EVENTS.bufferingFinished,h({adTrackingToken:b,carouselParentId:e,dashInfo:f,extras:g,id:i,isAd:j,ownerId:m,playerImplementation:n,trackingToken:r,videoWidth:a}))}function i(a){var b=a.adTrackingToken,c=a.analyticsContext,e=a.carouselParentId,f=a.dashInfo,g=a.followingStatus,i=a.id,j=a.isAd,k=a.loopsCount,l=a.ownerId,m=a.playerImplementation,n=a.postedAt,o=a.sequenceNumber,p=a.timeAsPercent,q=a.trackingToken;a=a.videoWidth;g={follow_status:(g=g)!=null?g:"not_following",loop_count:k,m_ts:n,playing_audio:1,radio_type:"none-none",seq_num:o,timeAsPercent:p};d("polarisVideoUtils").logVideoEventWrapper(c,d("PolarisVideoLogger").VIDEO_EVENTS.bufferingStarted,h({adTrackingToken:b,carouselParentId:e,dashInfo:f,extras:g,id:i,isAd:j,ownerId:l,playerImplementation:m,trackingToken:q,videoWidth:a}))}function j(a){var b=a.adTrackingToken,e=a.analyticsContext,f=a.carouselParentId,g=a.dashInfo,i=a.duration,j=a.exitTime,k=a.hasPlayedVideo,l=a.id,m=a.isAd,n=a.lastStartPosition,o=a.loopsCount,p=a.ownerId,q=a.playerImplementation,r=a.sequenceNumber,s=a.trackingToken;a=a.videoWidth;if(k){k={duration:d("PolarisVideoLogger").normalizeVideoEvent(i),loop_count:o,lsp:d("PolarisVideoLogger").normalizeVideoEvent(n),playing_audio:1,seq_num:r,time:d("PolarisVideoLogger").normalizeVideoEvent(j)};c("PolarisODS").incr("web.video.old.log_video_exited");d("polarisVideoUtils").logVideoEventWrapper(e,d("PolarisVideoLogger").VIDEO_EVENTS.exited,h({adTrackingToken:b,carouselParentId:f,dashInfo:g,extras:k,id:l,isAd:m,ownerId:p,playerImplementation:q,trackingToken:s,videoWidth:a}))}}function k(a){var b=a.adTrackingToken,c=a.analyticsContext,e=a.carouselParentId,f=a.currentVideoTime,g=a.dashInfo,i=a.droppedFrameCount,j=a.id,k=a.isAd,l=a.lastStartPosition,m=a.loopsCount,n=a.ownerId,o=a.playerImplementation,p=a.representationId,q=a.sequenceNumber,r=a.totalFrameCount,s=a.trackingToken;a=a.videoWidth;m={loop_count:m,lsp:d("PolarisVideoLogger").normalizeVideoEvent(l),playing_audio:1,representation_id:p,seq_num:q,time:d("PolarisVideoLogger").normalizeVideoEvent(f)};r!=null&&i!=null&&(m.total_frame_count=r,m.dropped_frame_count=i);d("polarisVideoUtils").logVideoEventWrapper(c,d("PolarisVideoLogger").VIDEO_EVENTS.formatChanged,h({adTrackingToken:b,carouselParentId:e,dashInfo:g,extras:m,id:j,isAd:k,ownerId:n,playerImplementation:o,trackingToken:s,videoWidth:a}))}function l(a){var b=a.adTrackingToken,e=a.analyticsContext,f=a.carouselParentId,g=a.currentVideoTime,i=a.dashInfo,j=a.droppedFrameCount,k=a.duration,l=a.id,m=a.isAd,n=a.lastStartPosition,o=a.loopsCount,p=a.ownerId,q=a.playerImplementation,r=a.playingAudio;r=r===void 0?1:r;var s=a.representationID,t=a.sequenceNumber,u=a.totalFrameCount,v=a.trackingToken;a=a.videoWidth;k={duration:d("PolarisVideoLogger").normalizeVideoEvent(k),loop_count:o,lsp:d("PolarisVideoLogger").normalizeVideoEvent(n),playing_audio:r,seq_num:t,time:d("PolarisVideoLogger").normalizeVideoEvent(g)};u!=null&&j!=null&&(k.total_frame_count=u,k.dropped_frame_count=j);s!=null&&(k.representation_id=s);c("PolarisODS").incr("web.video.old.log_video_paused");d("polarisVideoUtils").logVideoEventWrapper(e,d("PolarisVideoLogger").VIDEO_EVENTS.paused,h({adTrackingToken:b,carouselParentId:f,dashInfo:i,extras:k,id:l,isAd:m,ownerId:p,playerImplementation:q,trackingToken:v,videoWidth:a}))}function m(a){var b=a.adTrackingToken,c=a.analyticsContext,e=a.carouselParentId,f=a.dashInfo,g=a.fromTime,i=a.id,j=a.isAd,k=a.ownerId,l=a.playerImplementation,m=a.sequenceNumber,n=a.toTime,o=a.trackingToken;a=a.videoWidth;g={from_time:d("PolarisVideoLogger").normalizeVideoEvent(g),radio_type:"none-none",seq_num:m,to_time:d("PolarisVideoLogger").normalizeVideoEvent(n)};d("polarisVideoUtils").logVideoEventWrapper(c,d("PolarisVideoLogger").VIDEO_EVENTS.seek,h({adTrackingToken:b,carouselParentId:e,dashInfo:f,extras:g,id:i,isAd:j,ownerId:k,playerImplementation:l,trackingToken:o,videoWidth:a}))}function n(a){var b=a.adTrackingToken,e=a.analyticsContext,f=a.carouselParentId,g=a.currentVideoTime,i=a.dashInfo,j=a.id,k=a.isAd,l=a.ownerId,m=a.playerImplementation,n=a.reason;n=n===void 0?"autoplay":n;var o=a.sequenceNumber,p=a.trackingToken;a=a.videoWidth;n={reason:n,seq_num:o,time:d("PolarisVideoLogger").normalizeVideoEvent(g)};c("PolarisODS").incr("web.video.old.log_video_should_start");d("polarisVideoUtils").logVideoEventWrapper(e,d("PolarisVideoLogger").VIDEO_EVENTS.shouldStart,h({adTrackingToken:b,carouselParentId:f,dashInfo:i,extras:n,id:j,isAd:k,ownerId:l,playerImplementation:m,trackingToken:p,videoWidth:a}))}function o(a){var b=a.adTrackingToken,e=a.analyticsContext,f=a.carouselParentId,g=a.currentVideoTime,i=a.dashInfo,j=a.droppedFrameCount,k=a.id,l=a.isAd,m=a.lastShouldStartTime,n=a.ownerId,o=a.playerImplementation,p=a.reason;p=p===void 0?"autoplay":p;var q=a.sequenceNumber,r=a.totalFrameCount,s=a.trackingToken;a=a.videoWidth;m=m===0?0:d("PolarisVideoLogger").normalizeVideoEvent(Date.now()-m);p={reason:p,seq_num:q,start_delay:m,time:d("PolarisVideoLogger").normalizeVideoEvent(g)};r!=null&&j!=null&&(p.total_frame_count=r,p.dropped_frame_count=j);c("PolarisODS").incr("web.video.old.log_video_started_playing");d("polarisVideoUtils").logVideoEventWrapper(e,d("PolarisVideoLogger").VIDEO_EVENTS.startedPlaying,h({adTrackingToken:b,carouselParentId:f,dashInfo:i,extras:p,id:k,isAd:l,ownerId:n,playerImplementation:o,trackingToken:s,videoWidth:a}))}function p(a){var b=a.adTrackingToken,c=a.analyticsContext,e=a.carouselParentId,f=a.dashInfo,g=a.duration,i=a.id,j=a.isAd,k=a.lastStartPosition,l=a.loopCount,m=a.ownerId,n=a.playerImplementation,o=a.sequenceNumber,p=a.timeAtVideoPause,q=a.trackingToken;a=a.videoWidth;g={duration:d("PolarisVideoLogger").normalizeVideoEvent(g),loop_count:l,lsp:d("PolarisVideoLogger").normalizeVideoEvent(k),seq_num:o,time:d("PolarisVideoLogger").normalizeVideoEvent(p)};d("polarisVideoUtils").logVideoEventWrapper(c,d("PolarisVideoLogger").VIDEO_EVENTS.fullViewedTime,h({adTrackingToken:b,carouselParentId:e,dashInfo:f,extras:g,id:i,isAd:j,ownerId:m,playerImplementation:n,trackingToken:q,videoWidth:a}))}function q(a){var b=a.adTrackingToken,c=a.analyticsContext,e=a.carouselParentId,f=a.dashInfo,g=a.duration,i=a.id,j=a.isAd,k=a.lastStartPosition,l=a.loopCount,m=a.ownerId,n=a.playerImplementation,o=a.sequenceNumber,p=a.timeAtVideoPause,q=a.trackingToken;a=a.videoWidth;g={duration:d("PolarisVideoLogger").normalizeVideoEvent(g),loop_count:l,lsp:d("PolarisVideoLogger").normalizeVideoEvent(k),seq_num:o,time:d("PolarisVideoLogger").normalizeVideoEvent(p)};d("polarisVideoUtils").logVideoEventWrapper(c,d("PolarisVideoLogger").VIDEO_EVENTS.viewedTime,h({adTrackingToken:b,carouselParentId:e,dashInfo:f,extras:g,id:i,isAd:j,ownerId:m,playerImplementation:n,trackingToken:q,videoWidth:a}))}function r(a){var b=a.adTrackingToken,c=a.analyticsContext,e=a.carouselParentId,f=a.currentVideoTime,g=a.currentViewabilityPercentage,i=a.dashInfo,j=a.id,k=a.isAd,l=a.ownerId,m=a.playerImplementation,n=a.sequenceNumber;a=a.trackingToken;g={current_viewability_percentage:g,seq_num:n,video_time_position:d("PolarisVideoLogger").normalizeVideoEvent(f)};d("polarisVideoUtils").logVideoEventWrapper(c,d("PolarisVideoLogger").VIDEO_EVENTS.viewabilityChanged,h({adTrackingToken:b,carouselParentId:e,dashInfo:i,extras:g,id:j,isAd:k,ownerId:l,playerImplementation:m,trackingToken:a}))}g.getAdLoggingParams=a;g.logAudioEnabled=b;g.logAudioDisabled=e;g.logVideoBufferingFinished=f;g.logVideoBufferingStarted=i;g.logVideoExitedEvent=j;g.logVideoFormatChanged=k;g.logVideoPausedEvent=l;g.logVideoSeekingEnded=m;g.logVideoShouldStart=n;g.logVideoStartedPlaying=o;g.logVideoFullViewedTime=p;g.logVideoViewedTime=q;g.logVideoViewabilityChanged=r}),98);
__d("PolarisVideoVolumeControls.react",["fbt","IGDSBox.react","IGDSIconButton.react","IGDSVolumeNonePanoFilledIcon","IGDSVolumeOffFilledIcon","IGDSVolumePanoFilledIcon","PolarisIGCoreButton","PolarisIGCoreToast","PolarisVideoConstants","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useState,k=1500,l="web-always-white",m=12,n=16,o={iconWrapperColor:{backgroundColor:"x1wunsqr",$$css:!0}},p=h._("__JHASH__sLFgHENJUFu__JHASH__");function q(a){var b=a.audioState,e=a.inPlayerControls,f=a.isStoryVideo;a=a.onClick;var g={color:l,size:f||e===!0?n:m},j;switch(b){case d("PolarisVideoConstants").AUDIO_STATES.on:j=i.jsx(c("IGDSVolumePanoFilledIcon"),babelHelpers["extends"]({alt:h._("__JHASH__r6uAailfqgq__JHASH__")},g));break;case d("PolarisVideoConstants").AUDIO_STATES.off:j=i.jsx(c("IGDSVolumeOffFilledIcon"),babelHelpers["extends"]({alt:h._("__JHASH__8KsFHY6-sgE__JHASH__")},g));break;case d("PolarisVideoConstants").AUDIO_STATES.none:j=i.jsx(c("IGDSVolumeNonePanoFilledIcon"),babelHelpers["extends"]({alt:h._("__JHASH__KOG1JIuxy1f__JHASH__")},g));break}if(j==null)return null;if(f===!0)return i.jsx(c("IGDSIconButton.react"),{"aria-label":p,onClick:a,children:j});b=e===!0?{color:"transparent",marginBottom:0,marginEnd:0,padding:0}:{marginBottom:4,marginEnd:4,padding:2,xstyle:o.iconWrapperColor};return i.jsx(c("IGDSBox.react"),{bottom:!0,position:e===!0?"relative":"absolute",right:!0,children:i.jsx(c("PolarisIGCoreButton"),{"aria-label":p,borderless:!0,onClick:a,children:i.jsx(c("IGDSBox.react"),babelHelpers["extends"]({},b,{shape:"circle",children:j}))})})}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b=a.absolutePositionToast;b=b===void 0?!0:b;var e=a.audioState,f=a.forceMuteReason,g=a.inPlayerControls,l=a.isStoryVideo,m=a.onClick;a=j(!1);var n=a[0],o=a[1];a=!(f==null||f==="");return i.jsxs(i.Fragment,{children:[i.jsx(q,{audioState:e,inPlayerControls:g,isStoryVideo:(g=l)!=null?g:!1,onClick:function(a){m(a),e===d("PolarisVideoConstants").AUDIO_STATES.none&&o(!0)}}),n&&i.jsx(c("PolarisIGCoreToast"),{absolutePosition:b,duration:k,onClose:function(){return o(!1)},wide:!0,children:a?String(f):h._("__JHASH__W75JnMJmjFS__JHASH__")})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisVideoPlayerXLogger",["gkx","polarisVideoEventLogger","qex"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a==null?null:{is_dash_eligible:a.isDashEligible,number_of_qualities:a.numberOfQualities,video_dash_manifest:a.videoDashManifest}}function i(a){return a.lastPlayReason==="loop_initiated"}function j(a){return a.paused&&a.ended&&(a.loopCount===-1||a.loopCurrent<a.loopCount)}function k(a,b){return b===0?0:a/b}function l(a){a=a.adInfo;return c("gkx")("8351")||a!=null&&c("qex")._("990")===!0}function m(){return"requestVideoFrameCallback"in HTMLVideoElement.prototype&&c("gkx")("6726")}a=function(){function a(a,b){var e=this;this.$1=!1;this.$2=!1;this.$3=0;this.$4=0;this.$5=0;this.$8=1;this.$9=0;this.$10=0;this.$11=0;this.$15=0;this.$18=null;this.$19=null;this.$20=null;this.$21=null;this.$24=function(a){var b=a.currentState,c=a.extraData;a=a.prevState;if(b.muted!==a.muted&&b.playing){a=b.muted?d("polarisVideoEventLogger").logAudioDisabled:d("polarisVideoEventLogger").logAudioEnabled;a(babelHelpers["extends"]({},e.$22(c),{loopsCount:e.$9}))}};this.$25=function(a){var b=a.currentState,c=a.extraData;a=a.prevState;(b.paused===!1&&a.paused===!0&&!i(b)||b.paused===!1&&b.seeking===!1&&a.seeking===!0&&e.$1)&&(d("polarisVideoEventLogger").logVideoShouldStart(e.$22(c)),e.$4=Date.now(),e.$2=!0,e.$1=!1)};this.$26=function(a){var b=a.currentState,c=a.extraData;a=a.prevState;if(b.playing===!0&&a.playing===!1&&e.$2){b.muted||d("polarisVideoEventLogger").logAudioEnabled(babelHelpers["extends"]({},e.$22(c),{loopsCount:e.$9}));d("polarisVideoEventLogger").logVideoStartedPlaying(babelHelpers["extends"]({},e.$22(c),e.$23(e.$7,c,b.videoRepresentationID),{lastShouldStartTime:e.$4}));e.$9=0;e.$4=0;e.$5=(a=c.currentVideoTime)!=null?a:e.$3}};this.$27=function(a){var b=a.currentState,c=a.extraData;a=a.prevState;(b.paused===!0&&a.paused===!1&&!j(b)||b.seeking===!0&&a.seeking===!1&&a.playing===!0)&&d("polarisVideoEventLogger").logVideoPausedEvent(babelHelpers["extends"]({},e.$22(c),e.$23(e.$7,c,b.videoRepresentationID),{lastStartPosition:e.$5,loopsCount:e.$9}))};this.$28=function(a){var b=a.currentState;a=a.prevState;j(b)===!0&&j(a)===!1&&a.playing===!0&&(e.$9++,e.$2=!1)};this.$29=function(a){a=a.extraData;a.viewabilityPercentage!=null&&a.viewabilityPercentage>=50&&e.$15<50&&e.$16==null&&a.currentVideoTime!=null&&(e.$16={lastStartPosition:a.currentVideoTime,loopCount:e.$9})};this.$30=function(a){a=a.extraData;if(a.viewabilityPercentage!=null&&a.viewabilityPercentage<50&&e.$15>=50){var b=e.$7.adInfo;e.$16!=null&&(b==null?void 0:b.tracking_token)!=null&&d("polarisVideoEventLogger").logVideoViewedTime(babelHelpers["extends"]({lastStartPosition:e.$16.lastStartPosition,loopCount:e.$9-e.$16.loopCount,timeAtVideoPause:a.currentVideoTime},e.$22(a)));e.$16=null}};this.$31=function(a){a=a.extraData;if(a.viewabilityPercentage!=null&&a.viewabilityPercentage!==e.$15){var b=e.$7.adInfo;(b==null?void 0:b.tracking_token)!=null&&c("gkx")("464")===!0&&a.viewabilityPercentage!=null&&d("polarisVideoEventLogger").logVideoViewabilityChanged(babelHelpers["extends"]({currentViewabilityPercentage:a.viewabilityPercentage},e.$22(a)))}};this.$32=function(a){a=a.extraData;a.viewabilityPercentage!=null&&a.viewabilityPercentage>=100&&e.$15<100&&e.$17==null&&a.currentVideoTime!=null&&(e.$17={lastStartPosition:a.currentVideoTime,loopCount:e.$9})};this.$33=function(a){a=a.extraData;if(a.viewabilityPercentage!=null&&a.viewabilityPercentage<100&&e.$15>=100){var b=e.$7.adInfo;e.$17!=null&&(b==null?void 0:b.tracking_token)!=null&&d("polarisVideoEventLogger").logVideoFullViewedTime(babelHelpers["extends"]({lastStartPosition:e.$17.lastStartPosition,loopCount:e.$9-e.$17.loopCount,timeAtVideoPause:a.currentVideoTime},e.$22(a)));e.$17=null}};this.$34=function(a){var b=a.currentState;a=a.prevState;b.seeking===!0&&a.seeking===!1&&b.paused===!1&&(e.$14=b.seekSourcePosition)};this.$35=function(a){var b=a.currentState,c=a.extraData;a=a.prevState;if(b.seeking===!1&&a.seeking===!0&&b.paused===!1){a=e.$14;b=b.seekTargetPosition;a!=null&&b!=null&&(d("polarisVideoEventLogger").logVideoSeekingEnded(babelHelpers["extends"]({},e.$22(c),{fromTime:a,toTime:b})),e.$1=!0);e.$14=null}};this.$36=function(a){var b=a.currentState,c=a.extraData;a=a.prevState;if(b.stalling===!0&&a.stalling===!1){d("polarisVideoEventLogger").logVideoBufferingStarted(babelHelpers["extends"]({},e.$22(c),{followingStatus:e.$7.followingStatus,loopsCount:e.$9,timeAsPercent:k((c=c.currentVideoTime)!=null?c:0,b.duration)}));j(a)===!1&&(e.$2=a.paused===!0)}};this.$37=function(a){var b=a.currentState,c=a.extraData;a=a.prevState;if(b.stalling===!1&&a.stalling===!0){d("polarisVideoEventLogger").logVideoBufferingFinished(babelHelpers["extends"]({},e.$22(c),{followingStatus:e.$7.followingStatus,lastStartPosition:e.$5,loopsCount:e.$9,timeAsPercent:k((a=c.currentVideoTime)!=null?a:0,b.duration)}))}};this.$38=function(a){var b=a.currentState,c=a.extraData;a=a.prevState;var f=b.videoRepresentationID;f!==a.videoRepresentationID&&f!=null&&a.videoRepresentationID!=null&&d("polarisVideoEventLogger").logVideoFormatChanged(babelHelpers["extends"]({},e.$22(c),e.$23(e.$7,c,b.videoRepresentationID),{lastStartPosition:e.$5,loopsCount:e.$9,representationId:f}))};this.$39=function(a,b){e.$19==null&&(e.$19=0);e.$19++;e.$20=b.presentedFrames;e.$21=(a=e.$18)==null?void 0:a.requestVideoFrameCallback(e.$39)};this.$7=a;this.$6=b}var b=a.prototype;b.$22=function(a){var b=this.$7,c=b.adInfo,e=b.dashInfo;b.followingStatus;b=babelHelpers.objectWithoutPropertiesLoose(b,["adInfo","dashInfo","followingStatus"]);var f=a.currentVideoTime,g=a.duration,i=a.playerImplementation;a=a.videoWidth;return babelHelpers["extends"]({},b,d("polarisVideoEventLogger").getAdLoggingParams(c),{currentVideoTime:f,dashInfo:h(e),duration:g,playerImplementation:i,sequenceNumber:this.$8++,videoWidth:a})};b.$23=function(a,b,c){if(l(a)){if(m())return this.$20==null||this.$19==null?null:{droppedFrameCount:this.$20-this.$19,representationID:c,totalFrameCount:this.$20};a=b.videoElementTotalFrameCount;if(a!=null)return{droppedFrameCount:b.videoElementDroppedFrameCount,representationID:c,totalFrameCount:a}}return null};b.setLoggerProps=function(a){this.$7=a};b.handleUnmount=function(){var a={currentVideoTime:this.$3,duration:this.$10,playerImplementation:this.$6.playerImplementationName,videoElement:null,videoElementDroppedFrameCount:this.$12,videoElementTotalFrameCount:this.$13,videoWidth:this.$11,viewabilityPercentage:this.$15};this.$6.playing===!0&&d("polarisVideoEventLogger").logVideoPausedEvent(babelHelpers["extends"]({},this.$22(a),this.$23(this.$7,a,this.$6.videoRepresentationID),{lastStartPosition:this.$5,loopsCount:this.$9}));if(a.viewabilityPercentage!=null&&a.viewabilityPercentage>=50){var b=this.$7.adInfo;this.$16!=null&&(b==null?void 0:b.tracking_token)!=null&&d("polarisVideoEventLogger").logVideoViewedTime(babelHelpers["extends"]({lastStartPosition:this.$16.lastStartPosition,loopCount:this.$9-this.$16.loopCount,timeAtVideoPause:a.currentVideoTime},this.$22(a)));this.$16=null}if(a.viewabilityPercentage!=null&&a.viewabilityPercentage>=100){b=this.$7.adInfo;this.$17!=null&&(b==null?void 0:b.tracking_token)!=null&&d("polarisVideoEventLogger").logVideoFullViewedTime(babelHelpers["extends"]({lastStartPosition:this.$17.lastStartPosition,loopCount:this.$9-this.$17.loopCount,timeAtVideoPause:a.currentVideoTime},this.$22(a)));this.$17=null}d("polarisVideoEventLogger").logVideoExitedEvent(babelHelpers["extends"]({},this.$22(a),{exitTime:a.currentVideoTime,hasPlayedVideo:this.$6.hasPlayEverBeenRequested,lastStartPosition:this.$5,loopsCount:this.$9}));if(this.$21!=null){(b=this.$18)==null?void 0:b.cancelVideoFrameCallback(this.$21)}};b.handleStateChange=function(a){var b=this,c=a.currentState,d=a.extraData;if(d.videoElement!=null&&d.videoElement!==this.$18){this.$18=d.videoElement;if(this.$21!=null){(a=this.$18)==null?void 0:a.cancelVideoFrameCallback(this.$21);this.$21=null}if(l(this.$7)&&m()){this.$21=(a=this.$18)==null?void 0:a.requestVideoFrameCallback(this.$39)}}a=[this.$24,this.$34,this.$35,this.$25,this.$36,this.$37,this.$26,this.$27,this.$28,this.$38,this.$29,this.$30,this.$32,this.$33,this.$31];a.forEach(function(a){return a({currentState:c,extraData:d,prevState:b.$6})});d.duration!=null&&d.duration>0&&(this.$10=d.duration);d.videoWidth!=null&&(this.$11=d.videoWidth);d.viewabilityPercentage!=null&&(this.$15=d.viewabilityPercentage);d.currentVideoTime!=null&&(d.currentVideoTime>0||c.playing===!1)&&(this.$3=d.currentVideoTime,this.$12=d.videoElementDroppedFrameCount,this.$13=d.videoElementTotalFrameCount);this.$6=c};return a}();g["default"]=a}),98);
__d("usePolarisVideoXControllerLogger",["PolarisVideoPlayerXLogger","VideoPlayerHooks","react","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a){var b=d("VideoPlayerHooks").useController(),e=c("useStable")(function(){return new(c("PolarisVideoPlayerXLogger"))(a,b.getCurrentState())});h(function(){e.setLoggerProps(a)});h(function(){var a=b.subscribe(function(){var a=b.internal_getStateMachineState();a=a==null?void 0:a.uncontrolledState;var c=b.getCurrentState(),d=b.internal_getVideoElement();e.handleStateChange({currentState:c,extraData:{currentVideoTime:d!=null?b.getPlayheadPosition():null,duration:d!=null?c.duration:null,playerImplementation:c.playerImplementationName,videoElement:d,videoElementDroppedFrameCount:a==null?void 0:a.videoElementDroppedFrameCount,videoElementTotalFrameCount:a==null?void 0:a.videoElementTotalFrameCount,videoWidth:d==null?void 0:d.videoWidth,viewabilityPercentage:a==null?void 0:a.viewabilityPercentage}})}),c=function(){e.handleUnmount()};window.addEventListener("beforeunload",c);return function(){window.removeEventListener("beforeunload",c),c(),a.remove()}},[b,e])}g["default"]=a}),98);
__d("InstagramAdActionMenuFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3374");b=d("FalcoLoggerInternal").create("instagram_ad_action_menu",a);e=b;g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("VideoPlayerWithThumbnail.react",["CometImage.react","CometVisualCompletionAttributes","VideoPlayerHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState,k={root:{alignItems:"x6s0dn4",bottom:"x1ey2m1c",boxSizing:"x9f619",display:"x78zum5",end:"xds687c",justifyContent:"xl56j7k",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",$$css:!0},thumbnail:{height:"x5yr21d",width:"x14atkfc",$$css:!0}};function a(a){var b=a.onLoad,e=a.src;a=a.thumbnailStyle;var f=d("VideoPlayerHooks").useVideoPlaybackEnded(),g=d("VideoPlayerHooks").usePaused(),l=j(!1),m=l[0],n=l[1];i(function(){g||n(!0)},[g]);return!f&&m?null:h.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x1ey2m1c x9f619 x78zum5 xds687c xl56j7k x10l6tqk x17qophe x13vifvy"},c("CometVisualCompletionAttributes").IGNORE,{children:h.jsx(c("CometImage.react"),{onLoad:b,src:e,xstyle:[k.thumbnail,a]})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDSMoreHorizontalFilledIcon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[h.jsx("circle",{cx:"12",cy:"12",r:"2.75"}),h.jsx("circle",{cx:"19.5",cy:"12",r:"2.75"}),h.jsx("circle",{cx:"4.5",cy:"12",r:"2.75"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("IGDSResharePanoOutlineIcon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:h.jsx("path",{d:"M19.998 9.497a1 1 0 0 0-1 1v4.228a3.274 3.274 0 0 1-3.27 3.27h-5.313l1.791-1.787a1 1 0 0 0-1.412-1.416L7.29 18.287a1.004 1.004 0 0 0-.294.707v.001c0 .023.012.042.013.065a.923.923 0 0 0 .281.643l3.502 3.504a1 1 0 0 0 1.414-1.414l-1.797-1.798h5.318a5.276 5.276 0 0 0 5.27-5.27v-4.228a1 1 0 0 0-1-1Zm-6.41-3.496-1.795 1.795a1 1 0 1 0 1.414 1.414l3.5-3.5a1.003 1.003 0 0 0 0-1.417l-3.5-3.5a1 1 0 0 0-1.414 1.414l1.794 1.794H8.27A5.277 5.277 0 0 0 3 9.271V13.5a1 1 0 0 0 2 0V9.271a3.275 3.275 0 0 1 3.271-3.27Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("IGDSWarningPanoOutline24Icon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:h.jsx("path",{d:"M12 7.875a1.1 1.1 0 0 0-1.141 1.134l.359 5.005a.79.79 0 0 0 1.565 0l.36-5.005A1.1 1.1 0 0 0 12 7.875Zm0 8.184a1.137 1.137 0 1 0 1.137 1.136A1.137 1.137 0 0 0 12 16.06Zm10.325.63L15.03 4.08a3.5 3.5 0 0 0-6.059 0L1.677 16.688a3.5 3.5 0 0 0 3.029 5.253h14.59a3.5 3.5 0 0 0 3.03-5.253Zm-1.73 2.501a1.484 1.484 0 0 1-1.3.751H4.706a1.5 1.5 0 0 1-1.297-2.25l7.295-12.608a1.5 1.5 0 0 1 2.596 0l7.295 12.607a1.484 1.484 0 0 1 .001 1.5Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("PolarisSponsoredStoryLoggingConstants",[],(function(a,b,c,d,e,f){"use strict";a=2e3;b=6e4;f.ADBLOCK_CHECK_DELAY=a;f.SUB_IMPRESSION_GAP=b}),66);
__d("InstagramAdReelImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3435");b=d("FalcoLoggerInternal").create("instagram_ad_reel_impression",a);e=b;g["default"]=e}),98);
__d("InstagramAdReelSubImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3436");b=d("FalcoLoggerInternal").create("instagram_ad_reel_sub_impression",a);e=b;g["default"]=e}),98);
__d("usePolarisSponsoredStoryReelImpressionLogger",["InstagramAdReelImpressionFalcoEvent","InstagramAdReelSubImpressionFalcoEvent","PolarisContainerModuleUtils","PolarisMonitorErrors","PolarisODS","PolarisReactRedux","PolarisSponsoredStoryLoggingConstants","PolarisStoriesLoggingUtils","PolarisViewpointActionUtils","cometGHLContentDisplayCheck","err","polarisRelationshipSelectors","polarisStorySelectors","setTimeout","usePartialViewImpression","usePolarisAnalyticsContext","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=new Set();function a(a,b,e){var f=c("usePolarisViewer")(),g=d("PolarisReactRedux").useSelector(function(a){return d("polarisStorySelectors").getReel(a,b)}),j=d("PolarisReactRedux").useSelector(function(a){return a.stories.currentReelItemIndex}),k=d("PolarisReactRedux").useSelector(d("polarisStorySelectors").getStoriesContent),l=k.traySession,m=d("PolarisReactRedux").useSelector(function(a){return a.stories.viewerSession}),n=d("PolarisReactRedux").useSelector(function(a){return a.stories.currentTrayOrder.indexOf(b)});k=d("polarisRelationshipSelectors").useRelationship((k=a.ownerId)!=null?k:"");var o=k!=null?d("PolarisViewpointActionUtils").getFollowStatus(k):null,p=c("usePolarisAnalyticsContext")(),q=e==null?void 0:e.ad_id;return c("usePartialViewImpression")({onImpressionStart:function(k){var r,s=k.entry;if(q==null||(e==null?void 0:e.tracking_token)==null||(f==null?void 0:f.id)==null){if(a.isSponsored===!0){k=c("err")("Missing critical logging field for InstagramAdReelImpressionFalcoEvent.");d("PolarisMonitorErrors").logError(k)}return}var t=h.get(b),u=Date.now();k=d("PolarisStoriesLoggingUtils").StoriesLoggingSession.getData();var v=d("PolarisContainerModuleUtils").getContainerModule(p),w={a_pk:a.ownerId,ad_id:q,ad_inserted_position:n.toString(),follow_status:o,m_pk:d("PolarisViewpointActionUtils").getMPKForStoryMedia(a.id,a.owner),m_t:Number(d("PolarisStoriesLoggingUtils").getMediaTypeFromPost(a)).toString(),m_ts:(r=a.postedAt)==null?void 0:r.toString(),pigeon_reserved_keyword_module:v,pk:f==null?void 0:f.id,post_id:a.id,reel_id:b,reel_position:j.toString(),reel_size:g==null?void 0:(r=g.itemIds)==null?void 0:r.length.toString(),reel_type:d("PolarisStoriesLoggingUtils").getTypeForLogging(g==null?void 0:g.type),reel_viewer_position:k.reelPositionInTray.toString(),session_reel_counter:k.reelCounter.toString(),source_of_action:v,tracking_token:e==null?void 0:e.tracking_token,tray_session_id:l,viewer_session_id:m};if(i.has(q))return;i.add(q);c("setTimeout")(function(){var a=c("cometGHLContentDisplayCheck")(s.target);t==null?a?(c("PolarisODS").incr("web.ads.story.reel.impression"),c("InstagramAdReelImpressionFalcoEvent").log(function(){return w}),h.set(b,u)):c("PolarisODS").incr("web.ads.story.reel.impression.hidden"):u-t>=d("PolarisSponsoredStoryLoggingConstants").SUB_IMPRESSION_GAP&&(a?(c("PolarisODS").incr("web.ads.story.reel.sub_impression"),c("InstagramAdReelSubImpressionFalcoEvent").log(function(){return w}),h.set(b,u)):c("PolarisODS").incr("web.ads.story.reel.sub_impression.hidden"));i["delete"](q)},d("PolarisSponsoredStoryLoggingConstants").ADBLOCK_CHECK_DELAY)}})}g["default"]=a}),98);
__d("PolarisStoriesIntegrityGuards.react",["CometPlaceholder.react","JSResourceForInteraction","PolarisReactRedux","PolarisStoriesProvider.react","lazyLoadComponent","nullthrows","polarisStorySelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGWebBloksApp").__setRef("PolarisStoriesIntegrityGuards.react"));function a(a){var b,e=c("nullthrows")(d("PolarisReactRedux").useSelector(d("polarisStorySelectors").getCurrentPost));a=d("PolarisStoriesProvider.react").useStoriesContext();var f=a.shareClickCount,g=a.updateStoriesContext;a=i(function(){return{media_id:e.id,module:"reel_feed_timeline"}},[e.id]);return h.jsx(h.Fragment,{children:f>0&&((b=e.sharingFrictionInfo)==null?void 0:b.bloksAppUrl)!=null&&h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(j,{appId:e.sharingFrictionInfo.bloksAppUrl,bridgeOverrides_DEPRECATED:{onOpenShareSheetClick:function(){g({isPlaybackDisabled:!0,isStoryShareSheetActive:!0,shareClickCount:0})},onResumeStoryPlayback:function(){g({shareClickCount:0})}},params:a},f)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisOrganicStoryImpression",["InstagramOrganicImpressionFalcoEvent","PolarisLoggerUtils","PolarisNavChain","PolarisStoriesLoggingUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set();function a(a,b,e,f,g){return function(i){if(h.has(b)===!0)return;if(i.state==="entered"){var j=d("PolarisStoriesLoggingUtils").StoriesLoggingSession.getData();c("InstagramOrganicImpressionFalcoEvent").log(function(){var h;return{m_pk:d("PolarisLoggerUtils").getFormattedMediaID(b,e||""),module_name:j.containermodule||"",nav_chain:(h=c("PolarisNavChain").getInstance())==null?void 0:h.getNavChainForSend(),pigeon_reserved_keyword_module:j.containermodule||"",reel_id:a,tray_session_id:f,viewer_session_id:g}})}h.add(b)}}g.makeOrganicStoryImpressionAction=a}),98);
__d("usePolarisStoryImpressionViewpointLogging",["PolarisOrganicStoryImpression","PolarisStoriesLoggingUtils","PolarisViewpointActionUtils","PolarisViewpointReact.react","PolarisVpvdImpressionAction","polarisStorySelectors","usePolarisAnalyticsContext","usePolarisSelector"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,e=a.hasLoggedStoryPogImpression,f=a.post,g=a.reel,h=a.reelItemIndex;a=a.setHasLoggedStoryPogImpression;var i=c("usePolarisAnalyticsContext")(),j=c("usePolarisSelector")(d("polarisStorySelectors").getStoriesContent);j=j.traySession;var k=c("usePolarisSelector")(function(a){return a.stories.viewerSession}),l=c("usePolarisSelector")(d("polarisStorySelectors").getContainerModule);l=l.containerModule;b=(b=(b=d("PolarisStoriesLoggingUtils").StoriesLoggingSession.getData())==null?void 0:b.containermodule)!=null?b:l;l=d("PolarisViewpointActionUtils").getMPKForReel(g,h);l=d("PolarisVpvdImpressionAction").makeStoriesVpvdImpressionAction(g.id,l,h,j,k,i,b,e,a);i=g.id;a=(e=((b=g.itemIds)!=null?b:[])[h])!=null?e:"";b=i+a;h=[l];i=d("PolarisOrganicStoryImpression").makeOrganicStoryImpressionAction(g.id,f.id,(e=f.owner)==null?void 0:e.id,j,k);h.push(i);return d("PolarisViewpointReact.react").useViewpoint({action:h,id:b})}g["default"]=a}),98);
__d("PolarisStoryViewer.react",["PolarisReactRedux","PolarisStoriesIntegrityGuards.react","PolarisStoriesProvider.react","cr:4398","deferredLoadComponent","nullthrows","polarisPostSelectors","polarisStorySelectors","react","requireDeferred","usePolarisStoryImpressionViewpointLogging"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useEffect,j=e.useState,k=c("deferredLoadComponent")(c("requireDeferred")("PolarisStoryModals.react").__setRef("PolarisStoryViewer.react"));function a(a){var e=a.adImpressionRef,f=a.postId,g=a.reelId,l=a.reelItemIndex,m=a.viewerHeight,n=a.viewerWidth;a=c("nullthrows")(d("PolarisReactRedux").useSelector(function(a){return d("polarisStorySelectors").getReel(a,g)}));var o=j(!1),p=o[0],q=o[1];o=d("PolarisReactRedux").useSelector(function(a){return d("polarisPostSelectors").getPostById(a,f)});var r=d("PolarisStoriesProvider.react").useStoriesContext(),s=r.updateStoriesContext;i(function(){m!=null&&n!=null&&s({viewerHeight:m,viewerWidth:n})},[s,m,n]);i(function(){q(!1)},[g]);r=c("usePolarisStoryImpressionViewpointLogging")({hasLoggedStoryPogImpression:p,post:o,reel:a,reelItemIndex:l,setHasLoggedStoryPogImpression:q});return h.jsxs(h.Fragment,{children:[h.jsx(b("cr:4398"),{innerRef:o.isSponsored===!0&&e!=null?e:r,post:o,reel:a,reelItemIndex:l}),h.jsx(c("PolarisStoriesIntegrityGuards.react"),{}),h.jsx(k,{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("InstagramAdReelImpressionSecondChannelFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3582");b=d("FalcoLoggerInternal").create("instagram_ad_reel_impression_second_channel",a);e=b;g["default"]=e}),98);
__d("InstagramAdReelSubImpressionSecondChannelFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3859");b=d("FalcoLoggerInternal").create("instagram_ad_reel_sub_impression_second_channel",a);e=b;g["default"]=e}),98);
__d("usePolarisSponsoredStoryReelImpressionSecondChannelLogger",["InstagramAdReelImpressionSecondChannelFalcoEvent","InstagramAdReelSubImpressionSecondChannelFalcoEvent","PolarisContainerModuleUtils","PolarisInteractionsLogger","PolarisODS","PolarisSponsoredStoryLoggingConstants","PolarisViewpointActionUtils","cometGHLContentDisplayCheck","setTimeout","usePolarisAnalyticsContext","usePolarisViewer","useScrollBasedImpressionTracker"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=new Set();function a(a,b){var e=c("usePolarisAnalyticsContext")(),f=c("usePolarisViewer")(),g=a==null?void 0:a.ad_id,j=a==null?void 0:a.tracking_token;return c("useScrollBasedImpressionTracker")(function(a){if(g!=null&&j!=null&&(f==null?void 0:f.id)!=null&&e!=null){if(a.status!=="ENTER")return;var k=h.get(g),l=Date.now(),m={ad_id:g,container_module:d("PolarisContainerModuleUtils").getContainerModule(e),m_pk:d("PolarisViewpointActionUtils").getMPKForFeedMedia(b),m_t:d("PolarisInteractionsLogger").getMediaTypeFromPost(b).toString(),tracking_token:j};if(i.has(g))return;i.add(g);c("setTimeout")(function(){var b=c("cometGHLContentDisplayCheck")(a.target);k==null?b?(c("PolarisODS").incr("web.ads.story.reel.impression.second_channel"),c("InstagramAdReelImpressionSecondChannelFalcoEvent").log(function(){return m}),h.set(g,l)):c("PolarisODS").incr("web.ads.story.reel.impression.second_channel.hidden"):l-k>=d("PolarisSponsoredStoryLoggingConstants").SUB_IMPRESSION_GAP&&(b?(c("PolarisODS").incr("web.ads.story.reel.sub_impression.second_channel"),c("InstagramAdReelSubImpressionSecondChannelFalcoEvent").log(function(){return m}),h.set(g,l)):c("PolarisODS").incr("web.ads.story.reel.sub_impression.second_channel.hidden"));i["delete"](g)},d("PolarisSponsoredStoryLoggingConstants").ADBLOCK_CHECK_DELAY)}})}g["default"]=a}),98);
__d("PolarisSponsoredStory.react",["PolarisAdsGatingHelpers","PolarisErrorBoundary.react","PolarisStoryViewer.react","PolarisTrackingCodeProvider.react","PolarisViewpointActionUtils","polarisAdsSelectors","qex","react","useMergeRefs","usePolarisPost","usePolarisSponsoredElTracker","usePolarisSponsoredStoryReelImpressionLogger","usePolarisSponsoredStoryReelImpressionSecondChannelLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=c("qex")._("367");var i=b===!0?c("usePolarisSponsoredStoryReelImpressionSecondChannelLogger"):function(a,b){return null};function j(a){var b=a.postId,e=a.reelId,f=a.reelItemIndex,g=a.viewerHeight;a=a.viewerWidth;var j=d("polarisAdsSelectors").useStoryAdInfo(b,function(a){return a}),k=d("polarisAdsSelectors").useStoryAdPosition(e,function(a){return a}),l=d("usePolarisPost").usePost(b,function(a){return a}),m=l.owner,n=c("usePolarisSponsoredStoryReelImpressionLogger")(l,e,j);l=i(j,l);k=c("usePolarisSponsoredElTracker")({mediaType:0,position:(k=k)!=null?k:-2,postId:e,trackingToken:(k=j==null?void 0:j.tracking_token)!=null?k:""});n=c("useMergeRefs")(n,l,d("PolarisAdsGatingHelpers").shouldUseAdblockerDetectionLogging()&&d("PolarisAdsGatingHelpers").isUserPartofAdblockerDetectionLoggerGK()?k:null);return h.jsx(c("PolarisTrackingCodeProvider.react"),{isSponsored:!0,m_pk:(l=d("PolarisViewpointActionUtils").getMPKForStoryMedia(b,m))!=null?l:"",trackingToken:(k=j==null?void 0:j.tracking_token)!=null?k:"",children:h.jsx(c("PolarisStoryViewer.react"),{adImpressionRef:n,postId:b,reelId:e,reelItemIndex:f,viewerHeight:g,viewerWidth:a})})}j.displayName=j.name+" [from "+f.id+"]";function a(a){return h.jsx(c("PolarisErrorBoundary.react"),{errorRenderer:function(a){return null},children:h.jsx(j,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryConstants",["IGDSThemeConstantsHelpers"],(function(a,b,c,d,e,f,g){"use strict";a=d("IGDSThemeConstantsHelpers").getNumericValue("story-progressbar-update-tick");b=a*1e3;c=5;e=82;f=26;g.STORY_UPDATE_TICK_S=a;g.STORY_UPDATE_TICK_MS=b;g.STORY_IMAGE_DURATION_S=c;g.STORY_DESKTOP_MARGIN_TOP_PX=e;g.STORY_DESKTOP_MARGIN_BOTTOM_PX=f}),98);
__d("usePolarisReelNotAvailable",["IGRouter","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useLayoutEffect;function a(a,b){var c=d("IGRouter").useIGHistory(),e=a===!1&&(b===null||(b==null?void 0:(a=b.itemIds)==null?void 0:a.length)===0);h(function(){e&&c.push("/")},[c,e]);return e}g["default"]=a}),98);
__d("usePolarisStoryOpenShareDialog",["IGDContactSearchDialogType.flow","IGDSecureShareSheetDialogPlaceholder.react","PolarisLogger","PolarisPostTypeUtils","react","useIGDSLazyDialog","useIGDSecureShareSheetInteractionLogger","usePolarisAnalyticsContext","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.dialogResource,e=a.onClose,f=a.post,g=a.reelId;a=c("useIGDSLazyDialog")(b,function(a){return h.jsx(c("IGDSecureShareSheetDialogPlaceholder.react"),{onClose:a})});var j=a[0],k=c("usePolarisAnalyticsContext")(),l=d("useIGDSecureShareSheetInteractionLogger").useLogShareSheetInteraction();return i(function(){d("PolarisLogger").logAction("shareClick",{source:k,type:d("PolarisPostTypeUtils").getPostType(f)});var a=c("uuidv4")();l("igd_sharesheet_open",{flowInstanceId:a,shareType:d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET,source:k});j({flowInstanceId:a,post:f,reelId:g},e)},[k,l,j,f,g,e])}g["default"]=a}),98);
__d("usePolarisStorySensitivityOverlayLogger",["PolarisInstagramMediaOverlayFalcoEvent","PolarisLogger","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useMemo;function j(a){var b=a.button,c=a.containerModule,e=a.customAction,f=a.customSourceOfAction,g=a.entityID,h=a.event;a=a.mediaOverlayCoverInfo;a=(a=a)!=null?a:{};var i=a.overlayLayout,j=a.overlayType;d("PolarisInstagramMediaOverlayFalcoEvent").InstagramMediaOverlayFalcoEvent.log(function(){return d("PolarisInstagramMediaOverlayFalcoEvent").InstagramMediaOverlayFalcoEvent.buildPayloadForLog({button:b,containerModule:c,customAction:e,customSourceOfAction:f,entityID:g,event:h,overlayLayout:i,overlayType:j})})}function k(a,b){d("PolarisLogger").logGatingEvent_DEPRECATED(a,b)}function a(){var a=h(function(a){var b=a.button,c=a.containerModule,e=a.mediaId;a=a.mediaOverlayCoverInfo;j({button:b,containerModule:c,entityID:e,event:d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.ACTION,mediaOverlayCoverInfo:a})},[]),b=h(function(a){var b=a.containerModule,c=a.gatingEvent_DEPRECATED,e=a.mediaId;a=a.mediaOverlayCoverInfo;j({containerModule:b,customAction:"story_see_post_confirmation_continue",customSourceOfAction:"see_post_confirmation",entityID:e,event:d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.ACTION,mediaOverlayCoverInfo:a});k("reel_instagram_organic_gate_clear_dialog_accepted",c)},[]),c=h(function(a){var b=a.containerModule,c=a.mediaId;a=a.mediaOverlayCoverInfo;j({containerModule:b,customAction:"story_see_post_confirmation_dismiss",customSourceOfAction:"see_post_confirmation",entityID:c,event:d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.ACTION,mediaOverlayCoverInfo:a});k("reel_instagram_organic_gate_clear_dialog_dismiss")},[]),e=h(function(b){var c=b.button,d=b.containerModule,e=b.gatingEvent_DEPRECATED,f=b.mediaId;b=b.mediaOverlayCoverInfo;a({button:c,containerModule:d,mediaId:f,mediaOverlayCoverInfo:b});k("reel_instagram_organic_gate_clear_dialog_shown",e)},[a]),f=h(function(a){var b=a.containerModule,c=a.gatingEvent_DEPRECATED,e=a.mediaId;a=a.mediaOverlayCoverInfo;j({containerModule:b,entityID:e,event:d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.IMPRESSION,mediaOverlayCoverInfo:a});k("reel_instagram_organic_gate_impression",c)},[]);return i(function(){return{logButtonClick:a,logConfirmationDialogAccept:b,logConfirmationDialogDismiss:c,logConfirmationDialogShow:e,logImpression:f}},[a,e,b,c,f])}g["default"]=a}),98);
__d("usePolarisStorySetup",["PolarisReactRedux","PolarisStoriesLoggingUtils","PolarisStoriesProvider.react","nullthrows","polarisGetPostFromGraphMediaInterface","polarisStorySelectors","react","usePolarisEventListener","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect;function a(a,b){var e=d("PolarisStoriesProvider.react").useStoriesContext(),f=e.updateStoriesContext,g=d("PolarisReactRedux").useSelector(function(b){return b.stories.currentTrayOrder.indexOf(a.id)}),j=d("PolarisReactRedux").useSelector(function(b){return d("polarisStorySelectors").getInitialReelIndex(b,a.id)}),k=c("nullthrows")(d("PolarisReactRedux").useSelector(d("polarisStorySelectors").getTrayEntrypoint));i(function(){d("PolarisStoriesLoggingUtils").StoriesLoggingSession.start(k,g),d("PolarisStoriesLoggingUtils").StoriesLoggingSession.startNewReel(g,j)},[]);i(function(){return function(){d("PolarisStoriesLoggingUtils").StoriesLoggingSession.clear()}},[]);var l=c("usePrevious")(a.id);i(function(){l!=null&&a.id!=null&&l!==a.id&&d("PolarisStoriesLoggingUtils").StoriesLoggingSession.startNewReel(g,j)},[l,g,j,a.id]);i(function(){d("polarisGetPostFromGraphMediaInterface").getMediaOverlayMediaCoverInfoFromPost(b)!=null&&f({postIDThatShouldShowSensitiveContentOverlay:b.id})},[b,f]);i(function(){var a;f({shouldMuteAudio:(a=b.mutingInfo)==null?void 0:a.should_mute_audio,shouldMuteAudioReason:(a=b.mutingInfo)==null?void 0:a.should_mute_audio_reason})},[b,f]);e=h(function(){f({isHidden:document.hidden})},[f]);var m=h(function(){f({hasFocus:document.hasFocus()})},[f]);c("usePolarisEventListener")(document,"visibilitychange",e);c("usePolarisEventListener")(window,"focus",m);c("usePolarisEventListener")(window,"blur",m)}g["default"]=a}),98);
__d("usePolarisStoryTapToPlayOverlayLogger",["PolarisLogger","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useMemo,i=b.useRef;function a(){var a=i(!1);return h(function(){return{logImpression:function(){a.current||(a.current=!0,d("PolarisLogger").logAction("storiesTapToPlayOverlaySeen"))},logTapToPlay:function(){d("PolarisLogger").logAction("storiesTapToPlayOverlayTapped")}}},[a])}g["default"]=a}),98);
__d("PolarisCloseFriendsLabel.react",["cx","IGDSBox.react","IGDSText.react","PolarisIGCoreButton","PolarisStoriesStrings","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.textSize==="small"?i.jsx(c("IGDSText.react").Body2Emphasized,{color:"webAlwaysWhite",children:d("PolarisStoriesStrings").CLOSE_FRIENDS}):i.jsx(c("IGDSText.react").BodyEmphasized,{color:"webAlwaysWhite",children:d("PolarisStoriesStrings").CLOSE_FRIENDS});return i.jsx(c("PolarisIGCoreButton"),{borderless:!0,onClick:a.onClick,children:i.jsx("div",{className:"_abwp _abwr",children:i.jsx(c("IGDSBox.react"),{height:"100%",paddingX:2,paddingY:2,position:"relative",width:"100%",children:b})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoriesImmersiveReshareAttribution.react",["fbt","IGDSResharePanoOutlineIcon","IGDSText.react","PolarisFastLink.react","PolarisUserAvatar.react","XPolarisProfileControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={avatar:{marginStart:"xsgj6o6",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",$$css:!0},username:{marginStart:"xsgj6o6",$$css:!0}};function a(a){var b=a.profilePicUrl;a=a.username;var d=c("XPolarisProfileControllerRouteBuilder").buildUri({username:a}).toString();return i.jsxs(c("PolarisFastLink.react"),{"data-testid":void 0,href:d,xstyle:j.root,children:[i.jsx(c("IGDSResharePanoOutlineIcon"),{alt:h._("__JHASH__ytCypQ1s_m5__JHASH__"),size:12}),i.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:b,size:14,xstyle:j.avatar}),i.jsx("div",{className:"xsgj6o6",children:i.jsx(c("IGDSText.react").Footnote,{color:"textOnMedia",children:a})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryAdDebugger.react",["polarisAdsSelectors","react","usePolarisSelector"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.postId;a=d("polarisAdsSelectors").useStoryAdInfo(a,function(a){return a});var b=c("usePolarisSelector")(function(a){return a.ads.storyAdInjectionData}),e=c("usePolarisSelector")(function(a){return a.stories.currentTrayOrder.indexOf(a.stories.currentReelId)});return a?h.jsxs("div",{className:"x1qjc9v5 x1msgd8p x1rmk8rf xhjfva7 x6y76el xmezrkt x1lcm9me x1yr5g0i xrt01vj x10y3i5r x9f619 x1awj2ng x78zum5 xdt5ytf x2lah0s x1c3i2sq xu06os2 xyamay9 x1pi30zi x1l90r2v x1swvt13 x11njtxf",children:[h.jsxs("p",{className:"x1gslohp x11i5rnm x12nagc x1mh8g0r",children:["Ad ID: ",a.ad_id]}),h.jsxs("p",{className:"x1gslohp x11i5rnm x12nagc x1mh8g0r",children:["Entry Point Index: ",b==null?void 0:b.entryPointIndex]}),h.jsxs("p",{className:"x1gslohp x11i5rnm x12nagc x1mh8g0r",children:["Ad Request Index: ",b==null?void 0:b.adRequestIndex]}),h.jsxs("p",{className:"x1gslohp x11i5rnm x12nagc x1mh8g0r",children:["Current Insertion Index: ",e]})]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryFooterCTA.react",["cx","CometPressable.react","IGDSBox.react","IGDSChevronIcon","IGDSText.react","PolarisExternalLink.react","PolarisGenericStrings","PolarisIGTheme.react","PolarisUA","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.color,e=a.disableAnimation,f=a.externalURL,g=a.icon,h=a.isActive,j=a.onClick,k=a.showChevron;k=k===void 0?!1:k;var l=a.text,m=a.textAlign;m=m===void 0?"center":m;a=a.textThemedColor;var n=d("PolarisIGTheme.react").useTheme(),o=g!=null;g=o?i.jsxs(i.Fragment,{children:[i.jsx(c("IGDSBox.react"),{flex:"none",position:"relative",children:g}),i.jsx(c("IGDSBox.react"),{marginEnd:3,position:"relative"})]}):null;k=k?i.jsxs(i.Fragment,{children:[i.jsx(c("IGDSBox.react"),{flex:"grow",height:"100%",marginEnd:7,position:"relative",right:!0}),i.jsx(c("IGDSChevronIcon"),{alt:d("PolarisGenericStrings").RIGHT_CHEVRON,color:a!=null?a:"ig-tertiary-icon",direction:"next",size:16})]}):null;var p=i.jsx("span",{style:{fontSize:12,lineHeight:"16px"},children:l});n=n.getTheme()===d("PolarisIGTheme.react").IGTheme.Dark?a==null?void 0:a.dark:a==null?void 0:a.light;n!=null&&(p=i.jsx("span",{style:{color:n,fontSize:12,lineHeight:"16px"},children:l}));a=i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"start",position:"relative",width:"100%",children:[g,i.jsx(c("IGDSBox.react"),{flex:"shrink",position:"relative",children:i.jsx(c("IGDSText.react").BodyEmphasized,{color:b,textAlign:m,children:p})}),k]});f!=null?a=i.jsx(c("PolarisExternalLink.react"),{href:f,onClick:j,children:a}):j!=null&&(a=i.jsx(c("CometPressable.react"),{expanding:!0,onPress:j,overlayDisabled:!0,children:a}));n=d("PolarisUA").isMobile();return i.jsxs("div",{className:"_ac5d"+(h?" _ac5e":""),children:[i.jsx("div",{className:"_ac5f"+(h?" _ac5g":"")+(e?"":" _ac5h")+(o?" _ac5i":""),children:a}),n&&i.jsx("div",{className:"_ac5j",children:i.jsx("div",{className:h?"_ac5k":""})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryMediaDebugger",["cx","PolarisNetworkInfo","PolarisStoryAdDebugger.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){var b=a.currentSrc,c=a.imageResources;a=a.videoResources;return i.jsxs(i.Fragment,{children:[i.jsx("p",{children:"Available Qualities"}),i.jsx("ul",{className:"_ac4a",children:(c=(c=c)!=null?c:a)==null?void 0:c.map(function(a){var c=a.src===b;return i.jsx("li",{className:c?"_ac4b":"",children:i.jsxs("p",{children:[a.configWidth,"w x ",a.configHeight,"h"]})})})})]})}function a(a){var b=a.imageRef;b=b===void 0?null:b;var e=a.newVideoPlayer,f=a.post;a=a.videoRef;a=a===void 0?null:a;var g="";b!=null&&(g=b.currentSrc);a!=null&&(g=a.currentSrc);var h=b==null?"Video":"Image";h==="Video"&&(e===!0?h="Video (Next gen player)":h="Video (Legacy player)");return i.jsxs("div",{className:"_aigk",children:[i.jsx(c("PolarisStoryAdDebugger.react"),{postId:f.id}),i.jsxs("div",{className:"_ac49",children:[i.jsxs("p",{children:["Media type: ",h]}),i.jsxs("p",{children:["Post ID: ",f.id]}),i.jsxs("p",{children:["Has audio: ",f.hasAudio===!0?"true":"false"]}),i.jsxs("p",{children:["Browser Bandwidth Estimate: ",(e=d("PolarisNetworkInfo").getNavigatorConnection())==null?void 0:e.downlink," Mbps"]}),b!==null&&i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:["Element Size: ",b==null?void 0:b.width,"w x ",b==null?void 0:b.height,"h"]}),i.jsx(j,{currentSrc:g,imageResources:f.displayResources})]}),a!==null&&i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:["Element Size: ",a==null?void 0:a.clientWidth,"w x ",a==null?void 0:a.clientHeight,"h"]}),i.jsx(j,{currentSrc:g,videoResources:f.videoResources})]})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryMediaOverlayInfoFooterCTA.react",["fbt","CometPlaceholder.react","IGDSInfoPanoOutlineIcon","IGDSWarningPanoOutline24Icon","JSResourceForInteraction","PolarisInstagramMediaOverlayFalcoEvent","PolarisMediaOverlayInfoTypes","PolarisMisinformationConstants","PolarisStoryFooterCTA.react","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useMemo,l=b.useRef,m=b.useState,n=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGWebBloksApp").__setRef("PolarisStoryMediaOverlayInfoFooterCTA.react"));function o(a){a=a.bannerInfo;var b=a.bannerButton,e=a.iconAltText;a=a.iconGlyph;b=b.text_color;e=e!=null?h._("__JHASH__tZoHuCBQNgF__JHASH__",[h._param("text",e)]):d("PolarisMisinformationConstants").POST_FOOTER_CTA_ALT_TEXT;if(a===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_ICON_GLYPHS.INFO)return i.jsx(c("IGDSInfoPanoOutlineIcon"),{alt:e,color:b!=null?b:"ig-primary-icon",size:16});else if(a===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_ICON_GLYPHS.WARNING)return i.jsx(c("IGDSWarningPanoOutline24Icon"),{alt:e,color:"ig-error-or-destructive",size:16});return null}function a(a){var b=m(!1),e=b[0],f=b[1];b=m(0);var g=b[0],h=b[1];b=a.bannerInfo;var l=a.entityID,q=a.onCloseBloksApp,r=a.onOpenBloksApp,s=a.trayEntrypoint,t=b.animationInfo,u=b.bannerButton,v=b.overlayLayout,w=b.overlayType;b=b.text;var x=t.canAnimateSlideIn,y=t.isHidden,z=u.action;t=u.action_url;var A=u.has_chevron,B=u.is_text_centered,C=u.text_color,D=z===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_ACTIONS.OPEN_EXTERNAL_URL?t:void 0,E=p(a),F=E!==l;j(function(){(F||e===!1)&&y!==!0?f(!0):F&&f(!1)},[y,F,e,f]);E=function(){if(z===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_ACTIONS.NO_OP)return;d("PolarisInstagramMediaOverlayFalcoEvent").InstagramMediaOverlayFalcoEvent.log(function(){return d("PolarisInstagramMediaOverlayFalcoEvent").InstagramMediaOverlayFalcoEvent.buildPayloadForLog({button:u,containerModule:d("PolarisInstagramMediaOverlayFalcoEvent").InstagramMediaOverlayFalcoEvent.getLoggableContainerModuleFromAnalyticsContext(s),entityID:l,event:d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.ACTION,overlayLayout:v,overlayType:w})});z===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_ACTIONS.OPEN_BLOKS_APP&&(r==null?void 0:r());h(g+1)};var G=k(function(){return{media_id:l,module:s||""}},[l,s]);return i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisStoryFooterCTA.react"),{disableAnimation:!x,externalURL:D,icon:o(a),isActive:!y,onClick:E,showChevron:(x=A)!=null?x:!1,text:b,textAlign:B===!0?"center":"start",textThemedColor:C}),z===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_ACTIONS.OPEN_BLOKS_APP&&g>0&&t!=null&&i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(n,{appId:t,bridgeOverrides_DEPRECATED:{onResumeStoryPlayback:function(){q==null?void 0:q(),h(0)}},params:G},g)})]})}a.displayName=a.name+" [from "+f.id+"]";function p(a){var b=a.entityID,c=l();j(function(){c.current=b});return c.current}g["default"]=a}),98);
__d("PolarisStoryProgressBars.react",["cx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(){return i.jsxs("div",{className:"_ac3n","data-testid":void 0,children:[i.jsx("div",{className:"_ac3o"}),i.jsx("div",{className:"_ac3p",style:{width:"100%"}})]})}j.displayName=j.name+" [from "+f.id+"]";function k(){return i.jsx("div",{className:"_ac3n",children:i.jsx("div",{className:"_ac3o"})})}k.displayName=k.name+" [from "+f.id+"]";function l(a){a=a.percentage;return i.jsxs("div",{className:"_ac3n",children:[i.jsx("div",{className:"_ac3o"}),i.jsx("div",{className:"_ac3p _ac3q",style:{width:a+"%"}})]})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.count,c=a.currentIndex,d=a.percentage;return i.jsx("div",{className:"_ac3r",children:Array.from(Array(b).keys()).map(function(a){if(a<c)return i.jsx(j,{},a);else if(a>c)return i.jsx(k,{},a);else return i.jsx(l,{percentage:d},a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryReplyReaction.react",["fbt","CometPressable.react","FocusGroup.react","IGDSBox.react","IGDSText.react","PolarisEmojiHelper","PolarisUA","focusScopeQueries","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__3kFjrMcD8aZ__JHASH__");b=51;e=8;var k=(b+2*e)*4,l=d("PolarisEmojiHelper").emojiListFromCodePoint([[128514],[128558],[128525],[128546]]),m=d("PolarisEmojiHelper").emojiListFromCodePoint([[128079],[128293],[127881],[128175]]),n={desktopEmoji:{fontSize:"xcg35fi",lineHeight:"xo5v014","@media screen and (min-height: 1220px)_fontSize":"x1skpowl","@media screen and (min-height: 1220px)_lineHeight":"x1c2o835","@media screen and (min-height: 900px)_fontSize":"xfczyey","@media screen and (min-height: 900px)_lineHeight":"xsdrrl",$$css:!0},mobileEmoji:{fontSize:"x13wtedm",lineHeight:"xo5v014",$$css:!0},root:{pointerEvents:"x67bb7w",$$css:!0}};h=d("FocusGroup.react").createFocusGroup(d("focusScopeQueries").tabbableScopeQuery);var o=h[0],p=h[1];function q(a){var b=a.emoji,e=a.onReactToStory;return i.jsx(p,{children:i.jsx(c("IGDSBox.react"),{margin:2,position:"relative",children:i.jsx(c("CometPressable.react"),{onPress:function(){return e(b)},overlayDisabled:!0,children:i.jsx("span",{className:c("stylex")(d("PolarisUA").isMobile()&&n.mobileEmoji,!d("PolarisUA").isMobile()&&n.desktopEmoji),children:b})})})})}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b=a.onReactToStory;a=a.xstyle;var e=d("PolarisUA").isMobile()?k:void 0,f=d("PolarisUA").isMobile()?17:4;return i.jsx(o,{orientation:"horizontal",tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrap:!0,children:i.jsx(c("IGDSBox.react"),{alignItems:"center",position:"relative",xstyle:a,children:i.jsxs("div",{className:"x67bb7w",children:[i.jsx(c("IGDSText.react"),{color:"textOnMedia",size:"title",textAlign:"center",weight:"semibold",children:j}),i.jsxs(c("IGDSBox.react"),{direction:"row",display:"flex",justifyContent:"center",marginBottom:f,marginTop:6,position:"relative",width:e,wrap:!0,children:[i.jsx(c("IGDSBox.react"),{direction:"row",display:"flex",position:"relative",children:l.map(function(a){return i.jsx(q,{emoji:a,onReactToStory:b},a)})}),i.jsx(c("IGDSBox.react"),{direction:"row",display:"flex",position:"relative",children:m.map(function(a){return i.jsx(q,{emoji:a,onReactToStory:b},a)})})]})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStorySensitivityOverlayCoverContents.react",["IGDSBox.react","IGDSText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.centerButtonNode,d=a.children,e=a.description,f=a.icon;a=a.title;return h.jsxs(c("IGDSBox.react"),{alignContent:"center",direction:"column",height:"100%",justifyContent:"center",paddingX:8,position:"relative",children:[f,h.jsx(c("IGDSBox.react"),{marginBottom:6,marginTop:7,position:"relative",children:h.jsx(c("IGDSText.react").Headline1,{color:"textOnMedia",textAlign:"center",children:a})}),h.jsx(c("IGDSBox.react"),{marginBottom:6,position:"relative",children:h.jsx(c("IGDSText.react").Body,{color:"textOnMedia",textAlign:"center",children:e})}),d,h.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"center",position:"relative",width:"100%",children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStorySensitivityOverlayMediaOverlayInfoCoverContents.react",["PolarisSensitivityOverlayCenterButton.react","PolarisSensitivityOverlayIcon.react","PolarisStorySensitivityOverlayCoverContents.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,d=a.mediaOverlayCoverInfo,e=a.onMediaOverlayInfoButtonClick,f=d.centerButton;a=d.description;var g=d.rootIconGlyph,i=d.title,j=f!=null?h.jsx(c("PolarisSensitivityOverlayCenterButton.react"),{buttonText:f.text,onClick:function(){e(d,f)}}):null;g=h.jsx(c("PolarisSensitivityOverlayIcon.react"),{mediaOverlayIconGlyph:g});return h.jsx(c("PolarisStorySensitivityOverlayCoverContents.react"),{centerButtonNode:j,description:a,icon:g,title:i,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryTapToPlay.react",["IGDSBox.react","IGDSButton.react","IGDSText.react","PolarisIGCoreConstants","PolarisStoriesStrings","PolarisUserAvatar.react","react","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.onTapToPlay;a=a.username;var e=c("usePolarisViewer")(),f=e==null?void 0:e.username;e=e==null?void 0:e.profilePictureUrl;return h.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"column",display:"flex",children:[e!=null&&h.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:e,size:c("PolarisIGCoreConstants").AVATAR_SIZES.XL}),f!=null&&h.jsx(c("IGDSBox.react"),{marginTop:6,position:"relative",children:h.jsx(c("IGDSText.react"),{color:"webAlwaysWhite",size:"title",textAlign:"center",weight:"semibold",children:d("PolarisStoriesStrings").viewStoryTitleText(f)})}),a!=null&&h.jsx(c("IGDSBox.react"),{marginTop:4,position:"relative",children:h.jsx(c("IGDSText.react"),{color:"webAlwaysWhite",size:"body",textAlign:"center",children:d("PolarisStoriesStrings").viewStorySubtitleText(a)})}),h.jsx(c("IGDSBox.react"),{marginTop:8,position:"relative",children:h.jsx(c("IGDSButton.react"),{"data-testid":void 0,display:"block",label:d("PolarisStoriesStrings").VIEW_STORY,onClick:b,size:"large",variant:"white"})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryVideoContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");c=d("react");var i=c.useContext,j=c.useRef,k={loggerValuesRef:{current:{initialShouldStarted:!0,initialStartedPlaying:!0,lastShouldStartTime:0,lastStartPosition:0,loggingSequenceNumber:1}},ref:{current:null}},l=h.createContext(k);function a(){return i(l)}function b(a){a=a.children;var b=j(k.ref.current),c=j(k.loggerValuesRef.current);return h.jsx(l.Provider,{value:{loggerValuesRef:c,ref:b},children:a})}b.displayName=b.name+" [from "+f.id+"]";g.StoryVideoContext=l;g.useStoryVideoContext=a;g.StoryVideoContextProvider=b}),98);
__d("PolarisDirectActionActionToStory",["PolarisDirectAPI","PolarisDirectActionThreadLoaded","PolarisDirectActionsLogger","PolarisDirectStrings","PolarisToastActions","polarisDirectSelectors"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e,f,g){return function(h,i){i=d("polarisDirectSelectors").getThreadIdForUserId(i(),a);d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_attempt",{type:g});return i!=null?f(b,c,i,e).then(function(){d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{type:g})})["catch"](function(a){d("PolarisDirectActionsLogger").directActionsLogger.logError("reply_to_story_failed_existing_thread",a,{type:g}),h(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))}):d("PolarisDirectAPI").createGroupThread([a]).then(function(a){var i=a.thread_id;h(d("PolarisDirectActionThreadLoaded").threadLoaded(a));f(b,c,i,e).then(function(){d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{type:g})})["catch"](function(a){d("PolarisDirectActionsLogger").directActionsLogger.logError("reply_to_story_failed_new_thread",a,{type:g}),h(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))})},function(a){d("PolarisDirectActionsLogger").directActionsLogger.logError("reply_to_story_failed_thread_creation",a,{type:g}),h(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))})}}g.actionToStory=a}),98);
__d("PolarisDirectActionReactToStory",["PolarisDirectAPI","PolarisDirectActionActionToStory","PolarisDirectConstants"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){return d("PolarisDirectActionActionToStory").actionToStory(a,b,c,e,d("PolarisDirectAPI").reelReact,d("PolarisDirectConstants").ThreadItemType.REEL_REACT)}g.reactToStory=a}),98);
__d("PolarisDirectActionReplyToStory",["PolarisDirectAPI","PolarisDirectActionActionToStory","PolarisDirectConstants"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){return d("PolarisDirectActionActionToStory").actionToStory(a,b,c,e,d("PolarisDirectAPI").reelShare,d("PolarisDirectConstants").ThreadItemType.REEL_SHARE)}g.replyToStory=a}),98);
__d("PolarisStoriesAppInstallDialog.react",["fbt","IGCoreDialog","IGDSButton.react","PolarisConfig","PolarisConfigConstants","PolarisLogger","PolarisOpenInApp","PolarisReactRedux","polarisNavigationSelectors","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__eYXq4ehXgyn__JHASH__"),k=h._("__JHASH__ysCwXzHm8aV__JHASH__");h._("__JHASH__ZkUEVz34LaQ__JHASH__");var l=h._("__JHASH__przBOMgnPTR__JHASH__"),m=h._("__JHASH__QxtkzLVtWAv__JHASH__"),n=h._("__JHASH__BrhM5kbNiVq__JHASH__");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),j=0;j<f;j++)g[j]=arguments[j];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$1=function(a){a.preventDefault(),d("PolarisLogger").logAction("storiesStickerUnsupportedAppsellClick",{medium:"installLink",platform:d("PolarisConfig").getAppPlatform(),source:"storySticker",stickerType:e.props.fallbackType}),d("PolarisOpenInApp").openInApp(e.props.android,e.props.ios,e.props.originalPath)},e.$2=function(){d("PolarisLogger").logAction("storiesStickerUnsupportedAppsellDismiss",{stickerType:e.props.fallbackType}),e.props.onClose()},e.$3=h._("__JHASH__jK2FyqoAhEm__JHASH__",[h._param("app store",i.jsx(c("IGDSButton.react"),{display:"block",label:h._("__JHASH__DRhCeBJULE6__JHASH__"),onClick:e.$1,target:"_blank",variant:"primary_link"})),h._param("play store",i.jsx(c("IGDSButton.react"),{display:"block",label:h._("__JHASH__6ssrLZhPCrg__JHASH__"),onClick:e.$1,target:"_blank",variant:"primary_link"}))]),b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.render=function(){var a=d("PolarisConfig").getAppPlatform();switch(a){case d("PolarisConfigConstants").appPlatformTypes.ANDROID:case d("PolarisConfigConstants").appPlatformTypes.IOS:return i.jsxs(d("IGCoreDialog").IGCoreDialog,{body:k,onModalClose:this.$2,title:j,children:[i.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:"ig-primary-button",onClick:this.$1,children:l}),i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:this.$2,children:m})]});default:return i.jsx(d("IGCoreDialog").IGCoreDialog,{body:this.$3,onModalClose:this.$2,title:j,children:i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:this.$2,children:n})})}};return b}(i.Component);function a(a){return babelHelpers["extends"]({},d("polarisNavigationSelectors").getDeepLink__DEPRECATED(a))}e=d("PolarisReactRedux").connect(a)(b);g["default"]=e}),98);
__d("PolarisInstagramReelViewerAppAttributionNavFalcoEvent",["PolarisFalcoLogger"],(function(a,b,c,d,e,f,g){"use strict";var h={falco:!0,pigeon:!1};a={log:function(a){d("PolarisFalcoLogger").FalcoLogger.log("reel_viewer_app_attribution_nav",a(),{},h)}};b=a;g["default"]=b}),98);
__d("polarisMaybeBuildPlayStoreUrl",[],(function(a,b,c,d,e,f){"use strict";function a(a){return!a.match(/^([A-Za-z]{1}[A-Za-z\d_]*\.)+[A-Za-z][A-Za-z\d_]*$/)?null:"https://play.google.com/store/apps/details?id="+a}f["default"]=a}),66);
__d("usePolarisNeedsTapToStart",["usePolarisViewer","useRouteReferrer"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useRouteReferrer")(),d=c("usePolarisViewer")();d=d!=null&&d.id===a;return d===!1&&((b==null?void 0:b.navigationType)==="initial"||(b==null?void 0:b.navigationType)==="reload")}g["default"]=a}),98);
__d("PolarisStoriesComponent.react",["PolarisReactRedux","cr:2883","cr:3914","cr:4381","cr:4689","err","polarisStorySelectors","react","usePolarisNeedsTapToStart"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e,f=d("PolarisReactRedux").useSelector(d("polarisStorySelectors").getCurrentReel);e=c("usePolarisNeedsTapToStart")((e=f==null?void 0:f.userId)!=null?e:null);var g=d("PolarisReactRedux").useSelector(function(a){return a.stories.isLoading});g=a.isLoggedOutHighlightViewer===!0&&(g===!0||a.initializing===!0);var i=a.isLoggedOutHighlightViewer===!0&&g===!1&&f!=null&&f.itemIds!=null&&f.itemIds.length>=0;g=function(){if(b("cr:3914"))return a.viewerIsLoggedIn?b("cr:3914"):b("cr:2883");if(b("cr:4689"))return a.viewerIsLoggedIn||i?b("cr:4689"):b("cr:4381")};f=g();if(f==null)throw c("err")("No root story component");return h.jsx("div",{style:{height:"100vh",position:"fixed",width:"100%"},children:h.jsx(f,babelHelpers["extends"]({},a,{needsTapToStart:e}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoriesMediaRoot.react",["PolarisLinkBuilder","PolarisReactRedux","PolarisStoriesComponent.react","PolarisStoryActions","nullthrows","polarisIsUserLoggedIn","polarisStorySelectors","promiseDone","react","usePolarisSelector"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState;function a(a){a=a.props;var b=a.routeParams,e=b.initial_media_id;b=b.username;a=a.routeProps;var f=a.show_qr_modal,g=a.user,k=d("PolarisReactRedux").useDispatch();a=j(!1);var l=a[0],m=a[1];a=d("polarisIsUserLoggedIn").isUserLoggedIn();var n=c("usePolarisSelector")(function(a){return d("polarisStorySelectors").getTrayEntrypoint(a)});n=n==="story_ad_activity";if(!a&&b!=null){var o=d("PolarisLinkBuilder").buildUserStoryLink(b);k(d("PolarisStoryActions").initStoryAuth(o))}o=d("PolarisReactRedux").useSelector(d("polarisStorySelectors").getCurrentStoryPosition);var p=n?o==null?void 0:o.reelId:g.id;n=c("usePolarisSelector")(function(a){return d("polarisStorySelectors").getReel(a,c("nullthrows")(p))});var q=!n||n.itemIds==null||o==null;i(function(){!l&&q&&c("promiseDone")(k(d("PolarisStoryActions").initStoryPage({initialMediaId:e,owner:g})).then(function(){m(!0)}))},[q,k,e,l,g]);return h.jsx(c("PolarisStoriesComponent.react"),{initializing:q&&l===!1,showQRModal:f,username:b,viewerIsLoggedIn:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("useViewabilityImpression",["useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.onIntersection;return c("useVisibilityObserver")({onIntersection:a,options:{thresholdOverride:"MODERATE"}})}g["default"]=a}),98);
__d("IGDSStoryHighlightPanoFilled24Icon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:h.jsx("path",{d:"M12 .5A11.5 11.5 0 1 0 23.5 12 11.513 11.513 0 0 0 12 .5Zm2.809 14.005c-.137.12-.275.238-.412.36l-.424.38c-1.053.941-1.428 1.273-1.633 1.406a.628.628 0 0 1-.68 0c-.215-.139-.666-.54-1.584-1.362l-.473-.424q-.198-.175-.396-.346C8.122 13.576 7 12.6 7 11.072a2.92 2.92 0 0 1 2.793-3.028A2.555 2.555 0 0 1 11.994 9.2c.002.002.003.004.008.001a2.544 2.544 0 0 1 2.205-1.157A2.92 2.92 0 0 1 17 11.072c0 1.532-1.114 2.498-2.191 3.433Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("IGDSStoryHighlightPanoOutline24Icon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[h.jsx("path",{d:"M3.915 5.31q.337-.407.713-.779m-3.121 7.855Q1.5 12.194 1.5 12a10.505 10.505 0 0 1 .516-3.265m3.243 11.338a10.55 10.55 0 0 1-2.89-3.864m14.482 5.108a10.547 10.547 0 0 1-8.163.65M12.002 1.5a10.504 10.504 0 0 1 7.925 17.39",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),h.jsx("path",{d:"M12.002 9.201c-.005.003-.006.001-.008 0a2.555 2.555 0 0 0-2.201-1.157A2.92 2.92 0 0 0 7 11.072c0 1.528 1.122 2.504 2.207 3.447q.198.171.396.346l.473.424c.918.821 1.369 1.223 1.584 1.362a.628.628 0 0 0 .68 0c.205-.133.58-.465 1.633-1.406l.424-.38c.137-.122.275-.24.412-.36 1.077-.935 2.191-1.9 2.191-3.433a2.92 2.92 0 0 0-2.793-3.028 2.544 2.544 0 0 0-2.205 1.157Z",fillRule:"evenodd"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("PolarisFullscreenShellWithLogo.react",["fbt","ix","IGCoreImage","IGDSIconButton.react","IGDSXPanoFilledIcon","PolarisFastLink.react","PolarisFullscreenShell.react","PolarisGenericStrings","XPolarisFeedControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={buttons:{backgroundColor:"xjbqb8w",cursor:"x1ypdohk",marginTop:"xw7yly9",marginEnd:"xktsk01",marginBottom:"x1yztbdb",marginStart:"x1d52u69",position:"x10l6tqk",top:"x13vifvy",$$css:!0},close:{end:"xds687c",$$css:!0},home:{start:"x17qophe",$$css:!0},shell:{backgroundColor:"x5qyhuo",height:"x5yr21d",justifyContent:"xl56j7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};function a(a){var b=a.children;a=a.onClose;var e=c("XPolarisFeedControllerRouteBuilder").buildURL({});return j.jsxs(c("PolarisFullscreenShell.react"),{xstyle:k.shell,children:[b,j.jsx("div",{className:"xjbqb8w x1ypdohk xw7yly9 xktsk01 x1yztbdb x1d52u69 x10l6tqk x13vifvy x17qophe",children:j.jsx(c("PolarisFastLink.react"),{href:e,children:j.jsx(c("IGCoreImage"),{alt:h._("__JHASH__EubW9vzR0uu__JHASH__"),src:{light:i("163077")}})})}),j.jsx("div",{className:"xjbqb8w x1ypdohk xw7yly9 xktsk01 x1yztbdb x1d52u69 x10l6tqk x13vifvy xds687c",children:j.jsx(c("IGDSIconButton.react"),{onClick:a,children:j.jsx(c("IGDSXPanoFilledIcon"),{alt:d("PolarisGenericStrings").CLOSE_TEXT,color:"web-always-white"})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisStoryPreviewImpressionLogger",["PolarisInstagramReelSessionSummaryFalcoEvent","PolarisLoggerUtils","PolarisStoriesLoggingUtils","usePolarisSponsoredStoryLoggingParams","useViewabilityImpression"],(function(a,b,c,d,e,f,g){"use strict";var h="web_story_preview",i={previewedStoryIds:new Set([]),prevViewerSession:""};function a(a,b){b=c("usePolarisSponsoredStoryLoggingParams")(a,b);var e=b.followStatus,f=b.isReelSponsored,g=b.loggingData,j=b.ownerId,k=b.reelId,l=b.storyAdInjectionData,m=b.traySession,n=b.viewerSession,o=((b=l==null?void 0:l.seenStoryAdIds)!=null?b:[]).length+((b=l==null?void 0:l.injectedStoryAdIds)!=null?b:[]).length+((b=l==null?void 0:l.availableStoryAdIds)!=null?b:[]).length;return c("useViewabilityImpression")({onIntersection:function(b){b=b.isElementVisible;n!==i.prevViewerSession&&i.previewedStoryIds.clear();if(k==null||i.previewedStoryIds.has(k)||!b)return;c("PolarisInstagramReelSessionSummaryFalcoEvent").log(function(){var b;return{a_pk:(b=j)!=null?b:"",action:h,ad_delivered_count:o,ad_photos_consumed:0,ad_videos_consumed:0,delivery_class:f?"ad":"organic",follow_status:(b=e)!=null?b:"unknown",is_ad:f,live_videos_consumed:0,pause_duration:Number(d("PolarisLoggerUtils").msToLogSeconds(g.reelPauseTime)),photos_consumed:g.photoCounter,pigeon_reserved_keyword_module:g.containermodule||"",reel_id:k,reel_size:(a==null?void 0:a.itemIds)?a==null?void 0:a.itemIds.length:0,reel_type:d("PolarisStoriesLoggingUtils").getTypeForLogging(a==null?void 0:a.type),replay_videos_consumed:0,session_reel_counter:g.reelCounter,time_elapsed:Number(d("PolarisLoggerUtils").msToLogSeconds(g.reelTotalTime-g.reelPauseTime)),tray_position:g.containermodule==="reel_feed_timeline"?g.reelPositionInTray:-1,tray_session_id:m,videos_consumed:g.videoCounter,viewer_session_ad_media_consumed:0,viewer_session_ad_reels_consumed:0,viewer_session_id:n,viewer_session_media_consumed:g.mediaCounter,viewer_session_reels_consumed:g.reelCounter}});i.previewedStoryIds.add(k);i.prevViewerSession=n}})}g["default"]=a}),98);
__d("PolarisDesktopSponsoredStoriesFooter.react",["PolarisEventLoop","PolarisSponsoredStoriesFooterCTA.react","PolarisStoryShareButtonWithDialog.react","PolarisStoryViewerToast.react","polarisAdsSelectors","react","usePolarisStoriesFooter"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState;function a(a){var b=a.post;a=a.reel;var e=d("usePolarisStoriesFooter").usePolarisStoriesFooter(b,a),f=e.canReshare,g=e.ctaUrl,k=e.handleShareStory,l=e.setToastMessage,m=e.storyOwnerId;e=e.toastMessage;var n=j(!1),o=n[0],p=n[1];n=f?h.jsx(c("PolarisStoryShareButtonWithDialog.react"),{currentPost:b,handleShareStory:k,reelId:a.id,referrer:"DesktopStoriesFooter"}):null;f=d("polarisAdsSelectors").useStoryAdInfo(b.id,function(a){return a});k=f==null?void 0:(k=f.ctaItems)==null?void 0:(a=k.get(b.id))==null?void 0:a.ctaLinkText;i(function(){p(!1);var a=c("PolarisEventLoop").setTimeout(function(){p(!0)},d("usePolarisStoriesFooter").DELAY_BEFORE_CTA_ACTIVE);return function(){return c("PolarisEventLoop").clearTimeout(a)}},[f]);a=k!=null&&g!=null?h.jsx(c("PolarisSponsoredStoriesFooterCTA.react"),{ctaUrl:g,isActive:o,text:k}):null;return b.isSponsored!==!0||m==null?null:h.jsx("div",{className:"x1qjc9v5 x155pf6g x1ey2m1c x9f619 x78zum5 xdt5ytf x2lah0s x1pg5gke x18dl8mb x13a6bvl xr1yuqi x11i5rnm xat24cr x1mh8g0r xexx8yu x1pi30zi x1l90r2v x1swvt13 x47corl x10l6tqk x17qophe x11njtxf xh8yej3 x14g40p9",children:h.jsxs("div",{className:"x6s0dn4 x9f619 x78zum5 xdt5ytf x2lah0s xl56j7k xr1yuqi x11i5rnm xat24cr x1mh8g0r xexx8yu x4uap5 x18d9i69 xkhd6sd x1n2onr6 x11njtxf",children:[g!=null&&a,h.jsx("div",{className:"xds687c x10l6tqk",children:n}),h.jsx(c("PolarisStoryViewerToast.react"),{message:e,onClose:function(){return l("")}})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoriesFooterHighlightButtons.react",["fbt","IGDSStoryHighlightPanoFilled24Icon","IGDSStoryHighlightPanoOutline24Icon","PolarisIGCoreButton","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.iconVariant;a=a.onClick;return i.jsx(c("PolarisIGCoreButton"),{borderless:!0,onClick:a,children:i.jsx("div",{className:"xrb244j x4r51d9 x67bb7w x10l6tqk",children:b==="FILLED"?i.jsx(c("IGDSStoryHighlightPanoFilled24Icon"),{alt:h._("__JHASH__PH6d14DytVf__JHASH__"),color:"web-always-white",size:20}):i.jsx(c("IGDSStoryHighlightPanoOutline24Icon"),{alt:h._("__JHASH__PH6d14DytVf__JHASH__"),color:"web-always-white",size:20})})})}a.displayName=a.name+" [from "+f.id+"]";g.PolarisAddStoryToHighlightButton=a}),98);
__d("PolarisStoryVideoLogger",["PolarisVideoLogger","polarisVideoEventLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){var f=b.id,g=b.owner,h=b.postedAt;b=b.trackingToken;a=a.current;c=c.current;c.loggingSequenceNumber++;return babelHelpers["extends"]({analyticsContext:"StoriesPage",currentVideoTime:d("PolarisVideoLogger").normalizeVideoEvent(a==null?void 0:a.currentTime),dashInfo:null,duration:d("PolarisVideoLogger").normalizeVideoEvent(a==null?void 0:a.duration),id:f||"",ownerId:g==null?void 0:g.id,postedAt:h,sequenceNumber:c.loggingSequenceNumber,trackingToken:b,videoWidth:a==null?void 0:a.videoWidth},d("polarisVideoEventLogger").getAdLoggingParams(e))}g.getStoryVideoLoggingParams=a}),98);
__d("usePolarisDesktopStoriesGalleryIds",["PolarisReactRedux","polarisStorySelectors"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c=Math.abs(b-4);b=Math.abs(a.length-b-5);c=Array(c).fill(null);b=Array(b).fill(null);return[].concat(c,a,b)}function a(){var a=d("PolarisReactRedux").useSelector(d("polarisStorySelectors").getReelGalleryReelIds),b=d("PolarisReactRedux").useSelector(function(a){return a.stories.currentReelId});if(b==null)return[];b=a.indexOf(b);return h(a,b)}g.padReelIdsForLayout=h;g.useDesktopStoriesGalleryIds=a}),98);
__d("usePolarisDesktopStoriesGallerySize",["PolarisDesktopStoriesGalleryConstants","useWindowSize"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useWindowSize")(),b=a.innerHeight,e=a.innerWidth;a=(a=d("PolarisDesktopStoriesGalleryConstants").ASPECT_RATIOS.find(function(a){return b/e>=a.height/a.width}))!=null?a:d("PolarisDesktopStoriesGalleryConstants").ASPECT_RATIOS[d("PolarisDesktopStoriesGalleryConstants").ASPECT_RATIOS.length-1];var f=Math.min(e,b*(a.width/a.height)),g=Math.min(b,e*(a.height/a.width));return{aspectRatio:a,maxGalleryHeight:g,maxGalleryWidth:f}}g["default"]=a}),98);
__d("usePolarisDesktopStoriesGallerySprings",["Locale","PolarisDesktopStoriesGalleryConstants","react","react-spring-wwwig","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function i(a){return(a=d("PolarisDesktopStoriesGalleryConstants").GALLERY[a])!=null?a:d("PolarisDesktopStoriesGalleryConstants").STORY_GALLERY_ITEM_SCALES.preview}function j(a,b,c){b=a+b;return c?i(b):i(a)}function k(a,b,c,e,f,g){var h=a;e?h=a+c:h=a;c=d("PolarisDesktopStoriesGalleryConstants").GALLERY.slice(0,Math.max(0,h)).reduce(function(a,c){return a+b.viewer.width*c+b.gutter.width},b.gutter.width);h=b.viewer.width*d("PolarisDesktopStoriesGalleryConstants").STORY_GALLERY_ITEM_SCALES.preview;var i=2*(h+b.gutter.width);if(f===d("PolarisDesktopStoriesGalleryConstants").PREVIEW_COUNT_1_5_CROP){var j=.5*h;i=i+j+b.gutter.width}if(f===d("PolarisDesktopStoriesGalleryConstants").PREVIEW_COUNT_0_5_CROP){j=1.5*h;i=i+j+b.gutter.width*2}h=0;f===d("PolarisDesktopStoriesGalleryConstants").PREVIEW_COUNT_2_CROP&&(!e&&a===1&&(h=-2),!e&&a===d("PolarisDesktopStoriesGalleryConstants").GALLERY.length-2&&(h=2));j=c-i+h;g&&(j*=-1);return j}function l(a,b){if(a.length!==b.length)return null;var c=a.length-1;for(var d=a.length-1;d>=0;d--)if(a[d]!==null){c=d;break}d=b.indexOf(a[c]);if(d!==-1)return c-d;c=0;for(d=0;d<a.length;d++)if(a[d]!==null){c=d;break}d=b.indexOf(a[c]);return d!==-1?c-d:null}function m(a,b,d,e,f,g){e===void 0&&(e=2);f===void 0&&(f=!1);var h=c("Locale").isRTL();return function(c){c===void 0&&(c=0);var i=j(c,d,!0),l=j(c,d,!1),m=k(c,b,d,!0,e,h),n=k(c,b,d,!1,e,h),o=c===4;return{from:{scale:i,x:m},immediate:f,onRest:g!=null&&o?function(){return g(a[c])}:function(){},to:{scale:l,x:n}}}}function n(a,b){a=a*b;return{height:a,width:a*d("PolarisDesktopStoriesGalleryConstants").STORY_VIEWER_ASPECT_RATIO_W_H}}function a(a,b,e,f,g){var i=n(e,d("PolarisDesktopStoriesGalleryConstants").STORY_VIEWER_LARGE_HEIGHT_PCT),j={gutter:{height:0,width:0},viewer:i};e=d("PolarisDesktopStoriesGalleryConstants").VISIBLE_GALLERY.reduce(function(a,b){return a+i.width*b},0);var k=(f-e)/6;if(b.previewCount===d("PolarisDesktopStoriesGalleryConstants").PREVIEW_COUNT_1_5_CROP){var o=i.width*d("PolarisDesktopStoriesGalleryConstants").STORY_GALLERY_ITEM_SCALES.preview;e-=o;k=(f-e)/4}if(b.previewCount===d("PolarisDesktopStoriesGalleryConstants").PREVIEW_COUNT_0_5_CROP){o=i.width*d("PolarisDesktopStoriesGalleryConstants").STORY_GALLERY_ITEM_SCALES.preview*3;e-=o;k=(f-e)/2}j.gutter.width=k;o=d("react-spring-wwwig").useSprings(a.length,m(a,j,0,b.previewCount,!0,g));f=o[0];var p=o[1],q=c("usePrevious")(a),r=c("usePrevious")(j.viewer.height),s=c("usePrevious")(j.gutter.width);h(function(){var c=q!=null&&q.join()!==a.join(),d=r!=null&&r!==j.viewer.height||s!=null&&s!==j.gutter.width;if(c||d){c=l((c=q)!=null?c:[],a);d=c===null||d;c=(c=c)!=null?c:0;p(m(a,j,c,b.previewCount,d,g))}},[a,j,q,p,r,s,b.previewCount,g]);return[i.height,i.width,f]}g.calcX=k;g.calcIndexAdjustment=l;g.useDesktopStoriesGallerySprings=a}),98);
__d("PolarisDesktopStoriesFooterCTA.react",["cx","fbt","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){a=a.onOpenCta;return j.jsx("div",{className:"_adip",onClick:a,role:"button",tabIndex:"0",children:j.jsx("div",{className:"_adiq",children:i._("__JHASH__6pmWQbO1xBr__JHASH__")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoriesFooter.react",["cx","IGDSBox.react","PolarisDesktopStoriesFooterCTA.react","PolarisDirectStrings","PolarisLikeButton.react","PolarisReactRedux","PolarisStoriesFooterHighlightButtons.react","PolarisStoriesProvider.react","PolarisStoryReplyComposer.react","PolarisStoryShareButtonWithDialog.react","PolarisStoryViewerButton.react","PolarisStoryViewerToast.react","polarisPostSelectors","qex","react","usePolarisStoriesFooter","usePolarisStoryLikes"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback;function a(a){var b=a.post;a=a.reel;var e=d("PolarisStoriesProvider.react").useStoriesContext(),f=e.updateStoriesContext;e=d("usePolarisStoriesFooter").usePolarisStoriesFooter(b,a);var g=e.canReply,h=e.canReshare,k=e.ctaUrl,l=e.handleShareStory,m=e.isViewingOwnStory,n=e.mediaId,o=e.onOpenCta,p=e.setToastMessage,q=e.storyOwnerId;e=e.toastMessage;l=h?i.jsx(c("PolarisStoryShareButtonWithDialog.react"),{currentPost:b,handleShareStory:l,reelId:a.id,referrer:"DesktopStoriesFooter"}):null;var r=j(function(){f({isHighlightsTrayActive:!0})},[f]),s=n.split("_"),t=s[0];s[1];s=d("PolarisReactRedux").useSelector(function(a){return d("polarisPostSelectors").doesViewerLikePost(a,t)});var u=c("usePolarisStoryLikes")(t);if(q==null)return null;n=i.jsx(c("PolarisStoryReplyComposer.react"),{handleStoryLike:u,likedByViewer:s,mediaId:n,onSendMessage:function(){p(d("PolarisDirectStrings").SENT_TOAST_TEXT)},post:b,reelId:a.id,shareButton:l,storyOwnerId:q,supportsReelReactions:!m});return b.isSponsored===!0?null:i.jsxs("div",{className:"_ac11",children:[i.jsxs("div",{className:"_ac12",children:[g?n:i.jsxs(c("IGDSBox.react"),{direction:"row",flex:"grow",justifyContent:"end",position:"relative",children:[!m&&i.jsx("div",{className:"_ac13",children:i.jsx(c("PolarisLikeButton.react"),{color:"ig-stroke-on-media",isLiked:s,onChange:u})}),h&&c("qex")._("953")===!0&&l]}),i.jsx(c("PolarisStoryViewerToast.react"),{message:e,onClose:function(){return p("")}})]}),i.jsx(c("PolarisStoryViewerButton.react"),{}),k!=null&&i.jsx(c("PolarisDesktopStoriesFooterCTA.react"),{onOpenCta:o}),m&&a.type!=="GraphHighlightReel"&&c("qex")._("129")===!0&&i.jsx(d("PolarisStoriesFooterHighlightButtons.react").PolarisAddStoryToHighlightButton,{iconVariant:((g=(q=b.highlightReelIds)==null?void 0:q.length)!=null?g:0)>0?"FILLED":"OUTLINE",onClick:r})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoriesHeaderV2.react",["cx","IGDSBox.react","PolarisCloseFriendsLabel.react","PolarisExclusiveStoryLabel.react","PolarisSharedStoryHeaderInfo.react","PolarisStoriesHeaderOwnerV2.react","PolarisStoriesProvider.react","PolarisStoryOptionsButton.react","PolarisStoryProgressBars.react","PolarisStoryVideoContext.react","PolarisStoryVideoLogger","nullthrows","polarisAdsSelectors","polarisStorySelectors","polarisVideoEventLogger","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useEffect;function a(a){var b=a.currentReelItemIndex,e=a.itemCount,f=a.onModalOpen,g=a.playPercentage,h=a.post,k=a.postAuthor,l=a.reel,m=a.reelOwner;a=a.trayEntrypoint;var n=d("PolarisStoriesProvider.react").useStoriesContext(),o=n.isMuted,p=n.isPaused,q=n.needsTapToStart,r=n.postIDThatShouldShowSensitiveContentOverlay,s=n.shouldMuteAudio,t=n.shouldMuteAudioReason,u=n.updateStoriesContext;n=h.audience==="MediaAudience.BESTIES";var v=h.audience==="MediaAudience.FAN_CLUB";r=r==null&&!q;var w=d("polarisAdsSelectors").useStoryAdInfo(h.id,function(a){return a});q=d("PolarisStoryVideoContext.react").useStoryVideoContext();var x=q.loggerValuesRef,y=q.ref;j(function(){h.hasAudio===!0&&!o&&d("polarisVideoEventLogger").logAudioEnabled(babelHelpers["extends"]({},d("PolarisStoryVideoLogger").getStoryVideoLoggingParams(y,h,x,w),{loopsCount:0}))},[h]);q=function(){h.hasAudio===!0&&y.current!=null&&(o?d("polarisVideoEventLogger").logAudioEnabled(babelHelpers["extends"]({},d("PolarisStoryVideoLogger").getStoryVideoLoggingParams(y,h,x,w),{loopsCount:0})):d("polarisVideoEventLogger").logAudioDisabled(babelHelpers["extends"]({},d("PolarisStoryVideoLogger").getStoryVideoLoggingParams(y,h,x,w),{loopsCount:0}))),u({isMuted:!o})};return i.jsxs("header",{className:"_ac0k",children:[i.jsx(c("PolarisStoryProgressBars.react"),{count:e,currentIndex:b,percentage:g}),i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",position:"relative",children:[i.jsx("div",{className:"_ac0l",children:i.jsx(c("PolarisStoriesHeaderOwnerV2.react"),{appAttribution:h.storyAppAttribution,audience:h.audience,isAffiliate:h.isAffiliate===!0,isPaidPartnership:h.isPaidPartnership===!0,postAuthor:k,postedAt:c("nullthrows")(h.postedAt),postId:h.id,reel:l,reelOwner:m,resharedStoryMediaAuthor:h.resharedStoryMediaAuthor,sponsors:h.sponsors,title:(e=d("polarisStorySelectors").getReelTitle(l,m))!=null?e:"",trayEntrypoint:a})}),i.jsx("div",{className:"_ac0m",children:r&&i.jsxs(i.Fragment,{children:[n&&i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"center",position:"relative",children:[i.jsx(c("PolarisCloseFriendsLabel.react"),{onClick:function(){u({isCloseFriendsDialogActive:!0})},textSize:"small"}),i.jsx(c("IGDSBox.react"),{marginEnd:2,position:"relative"})]}),v&&i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"center",position:"relative",children:[i.jsx(c("PolarisExclusiveStoryLabel.react"),{onClick:function(){u({isExclusiveStoryDialogActive:!0})},textSize:"small"}),i.jsx(c("IGDSBox.react"),{marginEnd:2,position:"relative"})]}),i.jsx(c("PolarisSharedStoryHeaderInfo.react"),{hidePlayControl:!1,isMuted:o,isPaused:p,post:h,shouldMuteAudio:s,shouldMuteAudioReason:t,toggleStoryMuteState:q,toggleStoryPauseState:function(){u({isPaused:!p})}}),i.jsx(c("PolarisStoryOptionsButton.react"),{"data-testid":void 0,onClick:f,post:h,reel:l})]})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoriesV2ReelStandaloneViewer.react",["IGDSBox.react","PolarisMonitorErrors","PolarisReactRedux","PolarisSizing","PolarisStoryViewer.react","err","polarisPostSelectors","polarisStorySelectors","react","usePolarisSelector","usePolarisStorySetup","useWindowSize"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=d("PolarisReactRedux").useSelector(function(a){return a.stories.currentReelId}),e=d("PolarisReactRedux").useSelector(d("polarisStorySelectors").getCurrentPostId);a=d("PolarisReactRedux").useSelector(function(a){return a.stories.currentReelItemIndex});var f=c("useWindowSize")();f=f.innerHeight;f=d("PolarisSizing").getViewerDimensionsFromHeightV2(f);var g=f.height;f=f.width;var i=c("usePolarisSelector")(function(a){return d("polarisStorySelectors").getReel(a,(a=b)!=null?a:"")}),j=c("usePolarisSelector")(function(a){return d("polarisPostSelectors").getPostById(a,(a=e)!=null?a:"")});if(i==null){var k=c("err")("Unexpected null story reel in desktop standalone story viewer");d("PolarisMonitorErrors").logError(k);throw c("err")}c("usePolarisStorySetup")(i,j);return b==null||e==null?null:h.jsx(c("IGDSBox.react"),{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",position:"relative",children:h.jsx("div",{style:{height:g,width:f},children:h.jsx(c("PolarisStoryViewer.react"),{postId:e,reelId:b,reelItemIndex:a,viewerHeight:g,viewerWidth:f})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoriesV2ReelPreviewOverlays.react",["cx","PolarisSensitivityOverlayIcon.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return i.jsx("div",{className:"_ac07"})}a.displayName=a.name+" [from "+f.id+"]";function b(){return i.jsx("div",{className:"_ac08","data-testid":void 0})}b.displayName=b.name+" [from "+f.id+"]";function e(){return i.jsx("div",{className:"_ac09","data-testid":void 0,children:i.jsx(c("PolarisSensitivityOverlayIcon.react"),{mediaOverlayIconGlyph:null})})}e.displayName=e.name+" [from "+f.id+"]";g.DesktopStoriesPreviewObscurityOverlay=a;g.DesktopStoriesPreviewSeenOverlay=b;g.DesktopStoriesPreviewSensitivityOverlay=e}),98);
__d("PolarisDesktopStoriesV2ReelPreview.react",["cx","fbt","ix","IGCoreImage","IGDSBox.react","IGDSText.react","PolarisAdsGatingHelpers","PolarisDesktopStoriesV2ReelPreviewOverlays.react","PolarisGroupProfileUtils","PolarisIGCorePressable","PolarisReactRedux","PolarisResponsiveImage.react","PolarisSponsoredLabel.react","PolarisTimestamp.react","PolarisUserAvatarWithStories.react","nullthrows","polarisAdsSelectors","polarisGetPostFromGraphMediaInterface","polarisPostSelectors","polarisStorySelectors","polarisUserSelectors","qex","react","useMergeRefs","usePolarisSelector","usePolarisSponsoredElTracker","usePolarisStoryPreviewImpressionLogger"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react"),l={whiteText:{color:"xh93fs4",$$css:!0}},m="reel_feed_timeline";function n(a){var b=a.isSponsored,e=a.pictureUrl,f=a.post,g=a.postedAt,h=a.reelIsSeen,i=a.title;a=a.user;f=d("polarisAdsSelectors").useStoryAdInfo(f.id,function(a){return a==null?void 0:a.label});b=b&&f!=null;b=b?k.jsx(c("PolarisSponsoredLabel.react"),{"data-testid":void 0,label:c("nullthrows")(f),xstyle:l.whiteText}):k.jsx(c("PolarisTimestamp.react"),{isLong:!1,value:g});return k.jsxs(c("IGDSBox.react"),{alignItems:"center",bottom:!0,height:"100%",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:[h?null:k.jsx(d("PolarisDesktopStoriesV2ReelPreviewOverlays.react").DesktopStoriesPreviewObscurityOverlay,{}),k.jsxs("div",{className:"_ac0h _advu",children:[k.jsx(c("PolarisUserAvatarWithStories.react"),{isClickable:!1,isLink:!1,profilePictureUrl:e,showLivePulse:!1,showLiveRing:!1,size:56,storyEntrypoint:m,username:a.username}),k.jsxs("div",{className:"_afgd",children:[k.jsx(c("IGDSBox.react"),{marginTop:4,position:"relative",children:k.jsx(c("IGDSText.react").BodyEmphasized,{color:"webAlwaysWhite",children:i})}),k.jsx(c("IGDSBox.react"),{marginTop:2,position:"relative",children:k.jsx(c("IGDSText.react").Body,{color:"webAlwaysWhite",children:b})})]})]})]})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.onClick,e=a.reelId,f=d("PolarisReactRedux").useSelector(function(a){return d("polarisStorySelectors").getReel(a,e)}),g=d("PolarisReactRedux").useSelector(function(a){var b=f==null?void 0:f.itemIds;if(b!=null&&b.length>0&&f!=null){b=(b=d("polarisStorySelectors").getInitialReelIndex(a,f.id))!=null?b:0;b=c("nullthrows")(f==null?void 0:f.itemIds)[b];if(b)return d("polarisPostSelectors").getPostById(a,b)}return null});a=d("polarisAdsSelectors").useStoryAdInfo(g==null?void 0:g.id,function(a){return a});var h=d("polarisAdsSelectors").useStoryAdPosition(e,function(a){return a}),l=g!=null&&d("polarisGetPostFromGraphMediaInterface").getMediaOverlayMediaCoverInfoFromPost(g)!=null,m=d("polarisUserSelectors").useUser(f==null?void 0:f.userId),o=c("usePolarisSelector")(function(a){return(a=a.ads.storyAdInjectionData)==null?void 0:a.seenStoryAdIds}),p=d("PolarisReactRedux").useSelector(function(a){var b;b=g==null?void 0:(b=g.owner)==null?void 0:b.id;return b!=null?d("polarisUserSelectors").getUserById(a,b):null});m=d("PolarisGroupProfileUtils").getIsUserGroupProfile(m)?m:p;p=c("usePolarisStoryPreviewImpressionLogger")(f,g);a=c("usePolarisSponsoredElTracker")({mediaType:0,position:(h=h)!=null?h:-2,postId:e,trackingToken:(h=a==null?void 0:a.tracking_token)!=null?h:""});h=(f==null?void 0:f.isSponsored)===!0&&d("PolarisAdsGatingHelpers").shouldUseAdblockerDetectionLogging()&&d("PolarisAdsGatingHelpers").isUserPartofAdblockerDetectionLoggerGK();p=c("useMergeRefs")(d("PolarisAdsGatingHelpers").hasPreviewImpressionLogging()?p:null,h?a:null);if(f!=null){h=f.isSponsored===!0;o=h?(a=o==null?void 0:o.includes(f.id))!=null?a:!1:d("polarisStorySelectors").isReelSeen(f);a=f.type==="GraphHighlightReel";return k.jsx("div",{className:"_ac0i","data-testid":void 0,ref:p,children:g==null||m==null?k.jsx(c("IGCoreImage"),{alt:i._("__JHASH__65y6vsno5QG__JHASH__"),src:{light:j("163057")}}):k.jsxs(c("PolarisIGCorePressable"),{className:"_ac0j",keyPress:["Enter"],onPress:function(){return b(e)},children:[o?k.jsx(d("PolarisDesktopStoriesV2ReelPreviewOverlays.react").DesktopStoriesPreviewSeenOverlay,{}):null,l?k.jsx(d("PolarisDesktopStoriesV2ReelPreviewOverlays.react").DesktopStoriesPreviewSensitivityOverlay,{}):null,g==null?null:k.jsx(c("PolarisResponsiveImage.react"),{decoding:"sync",src:g.src,srcSet:g.displayResources,style:o===!1&&c("qex")._("972")?{filter:"blur("+(c("qex")._("973")||0)+"px)",height:"100%",objectFit:"cover",transform:"translateZ(0)",width:"100%",willChange:"transform"}:{height:"100%",objectFit:"cover",width:"100%"}}),k.jsx(n,{isSponsored:h,pictureUrl:a?f.thumbnailUrl:m.profilePictureUrl,post:g,postedAt:c("nullthrows")(g.postedAt),reelIsSeen:o,title:a?f.title:m.username,user:c("nullthrows")(m)})]})})}return k.jsx(k.Fragment,{})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoriesViewerOrPreview.react",["PolarisDesktopStoriesV2ReelPreview.react","PolarisReactRedux","PolarisSponsoredStory.react","PolarisStoryActions","PolarisStoryViewer.react","nullthrows","polarisStorySelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,e=a.reelId,f=a.viewerHeight;a=a.viewerWidth;var g=d("PolarisReactRedux").useDispatch(),i=d("PolarisReactRedux").useSelector(function(a){return a.stories.currentReelId}),j=d("PolarisReactRedux").useSelector(d("polarisStorySelectors").getCurrentPostId),k=d("PolarisReactRedux").useSelector(function(a){return a.stories.currentReelItemIndex});b=(b=d("PolarisReactRedux").useSelector(function(a){return d("polarisStorySelectors").getReel(a,(a=e)!=null?a:"")}))==null?void 0:b.isSponsored;var l=e==null;if(l)return null;l=i===e;if(l){if(e==null||j==null)return null;return b===!0?h.jsx(c("PolarisSponsoredStory.react"),{postId:j,reelId:e,reelItemIndex:k,viewerHeight:f,viewerWidth:a},e):h.jsx(c("PolarisStoryViewer.react"),{postId:j,reelId:e,reelItemIndex:k,viewerHeight:f,viewerWidth:a})}return h.jsx(c("PolarisDesktopStoriesV2ReelPreview.react"),{onClick:function(){return g(d("PolarisStoryActions").navigateToClickedGalleryReel(c("nullthrows")(e)))},reelId:c("nullthrows")(e)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoriesV2ReelsGallery.react",["cx","IGDSBox.react","Locale","PolarisDesktopStoriesViewerOrPreview.react","PolarisIGAnimate","nullthrows","polarisPostSelectors","polarisStorySelectors","react","react-spring-wwwig","stylex","usePolarisDesktopStoriesGalleryIds","usePolarisDesktopStoriesGallerySize","usePolarisDesktopStoriesGallerySprings","usePolarisSelector","usePolarisStorySetup"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={animated:{position:"x10l6tqk",start:"x17qophe",$$css:!0},transformOriginLeft:{transformOrigin:"x19w6rv",$$css:!0},transformOriginRight:{transformOrigin:"xee5nap",$$css:!0}};function a(a){var b=d("usePolarisDesktopStoriesGalleryIds").useDesktopStoriesGalleryIds();a=c("usePolarisDesktopStoriesGallerySize")();var e=a.aspectRatio,f=a.maxGalleryHeight;a=a.maxGalleryWidth;e=d("usePolarisDesktopStoriesGallerySprings").useDesktopStoriesGallerySprings(b,e,f,a,function(){});var g=e[0],h=e[1];e=e[2];var k=c("usePolarisSelector")(function(a){return a.stories.currentReelId}),l=c("usePolarisSelector")(d("polarisStorySelectors").getCurrentPostId),m=c("nullthrows")(c("usePolarisSelector")(function(a){return d("polarisStorySelectors").getReel(a,(a=k)!=null?a:"")})),n=c("usePolarisSelector")(function(a){return d("polarisPostSelectors").getPostById(a,(a=l)!=null?a:"")});c("usePolarisStorySetup")(m,n);return i.jsx("div",{className:"_ac0n",style:{maxHeight:f,maxWidth:a},children:i.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",height:"100%",position:"relative",children:e.map(function(a,e){var f=a.scale;a=a.x;return i.jsx(d("PolarisIGAnimate").Animated.div,{className:c("stylex")(j.animated,c("Locale").isRTL()?j.transformOriginRight:j.transformOriginLeft),style:{height:g,transform:d("react-spring-wwwig").interpolate([a,f],function(a,b){return"translate("+a+"px) scale("+b+")"}),width:h},children:i.jsx(c("PolarisDesktopStoriesViewerOrPreview.react"),{reelId:b[e],viewerHeight:g,viewerWidth:h})},e)})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoriesPage.react",["fbt","IGDSDialogBackwardsCompatibilityWrapper.react","IGDSSpinner.react","PolarisAsyncEntityQRModal","PolarisDesktopStoriesV2ReelStandaloneViewer.react","PolarisDesktopStoriesV2ReelsGallery.react","PolarisFullscreenShellWithLogo.react","PolarisPageMetadata.react","PolarisReactRedux","PolarisStoriesProvider.react","PolarisStoryActions","PolarisStoryVideoContext.react","polarisStorySelectors","react","usePolarisReelNotAvailable"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useState,l="StoriesPage",m=h._("__JHASH__SkrEOF7TPUU__JHASH__");function a(a){var b=a.highlightReelId,e=a.initializing,f=a.needsTapToStart,g=a.showQRModal;a=a.viewerIsLoggedIn;g=k(g);var h=g[0],n=g[1];g=d("PolarisReactRedux").useSelector(function(a){return a.stories.isLoading});g=g===!0||e===!0;e=d("PolarisReactRedux").useSelector(function(a){return a.stories.currentTrayOrder});e=g!==!0&&e.length>1;var o=g!==!0&&e!==!0,p=d("PolarisReactRedux").useDispatch(),q=j(function(a){a===void 0&&(a="tap_exit");return p(d("PolarisStoryActions").closeReels(a))},[p]),r=d("PolarisReactRedux").useSelector(d("polarisStorySelectors").getCurrentReel),s=c("usePolarisReelNotAvailable")(g,r);return s?null:i.jsxs(c("PolarisFullscreenShellWithLogo.react"),{onClose:function(){q("tap_exit")},children:[i.jsx(c("PolarisPageMetadata.react"),{id:l,title:m}),g!==!0?i.jsxs(i.Fragment,{children:[i.jsx(d("PolarisStoriesProvider.react").StoriesContextProvider,{initialState:{needsTapToStart:f,viewerIsLoggedIn:a},children:i.jsxs(d("PolarisStoryVideoContext.react").StoryVideoContextProvider,{children:[e?i.jsx(c("PolarisDesktopStoriesV2ReelsGallery.react"),{}):null,o?i.jsx(c("PolarisDesktopStoriesV2ReelStandaloneViewer.react"),{}):null]})}),h&&i.jsx(c("IGDSDialogBackwardsCompatibilityWrapper.react"),{children:i.jsx(c("PolarisAsyncEntityQRModal"),{entityID:(s=b==null?void 0:b.toString())!=null?s:r==null?void 0:(g=r.itemIds)==null?void 0:g[0],onClose:function(){return n(!1)},source:"DIRECT_NAVIGATION"})})]}):i.jsx(c("IGDSSpinner.react"),{color:"light",position:"absolute",size:"medium"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoriesV2ReelViewer.react",["cx","fbt","Locale","PolarisDesktopSponsoredStoriesFooter.react","PolarisDesktopStoriesFooter.react","PolarisDesktopStoriesHeaderV2.react","PolarisDesktopStoryEventZone.react","PolarisReactRedux","PolarisSponsoredStoryMedia.react","PolarisStoriesProvider.react","PolarisStoryActions","PolarisStoryMedia.react","PolarisStoryMediaPrefetcher.react","PolarisTrackingNodeProvider.react","nullthrows","polarisStorySelectors","polarisUserSelectors","react","usePolarisUpdateStorySeen"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useCallback,l=b.useState;function a(a){var b,e=a.innerRef,f=a.post,g=a.reel;a=a.reelItemIndex;var h=c("nullthrows")(d("PolarisReactRedux").useSelector(d("polarisStorySelectors").getTrayEntrypoint)),m=d("PolarisReactRedux").useSelector(function(a){return a.stories.currentTrayOrder});b=d("polarisUserSelectors").useUser((b=f.owner)==null?void 0:b.id);var n=d("polarisUserSelectors").useUser(g.userId),o=d("PolarisReactRedux").useSelector(function(a){return g.itemIds==null?[]:g.itemIds.map(function(b){return c("nullthrows")(a.posts.byId.get(b))}).filter(function(a){return a!=null})}),p=m[0];p=g.id===p&&a===0;m=a===o.length-1&&m[m.length-1]===g.id;var q=h==="story_ad_activity",r=d("PolarisReactRedux").useDispatch(),s=l(0),t=s[0],u=s[1];s=d("polarisStorySelectors").isReelItemExpired(f.expiringAt,g);var v=d("PolarisStoriesProvider.react").useStoriesContext(),w=v.isInitialLoad,x=v.needsTapToStart,y=v.postIDThatShouldShowSensitiveContentOverlay,z=v.updateStoriesContext;v=k(function(a){a===void 0&&(a="tap_exit"),r(d("PolarisStoryActions").closeReels(a))},[r]);var A=k(function(a){a===void 0&&(a="tap_forward"),u(0),r(d("PolarisStoryActions").nextReelItem(a))},[r]),B=k(function(a){a===void 0&&(a="swipe_forward"),u(0),r(d("PolarisStoryActions").nextReel(a))},[r]),C=c("usePolarisUpdateStorySeen")(),D=k(function(){u(0),r(d("PolarisStoryActions").prevReelItem("tap_back"))},[r]),E=k(function(){u(0),r(d("PolarisStoryActions").prevReel("swipe_back"))},[r]),F=k(function(){z({isInitialLoad:!1,isPaused:!1})},[z]),G=f.isSponsored===!0&&h!=="story_ad_activity"?c("PolarisSponsoredStoryMedia.react"):c("PolarisStoryMedia.react"),H=f.isSponsored===!0?c("PolarisDesktopSponsoredStoriesFooter.react"):c("PolarisDesktopStoriesFooter.react"),I=c("Locale").isRTL(),J=j.jsx("div",{className:(I?"_9zm0":"")+(I?"":" _9zm2")});I=j.jsx("div",{className:(I?"":"_9zm0")+(I?" _9zm2":"")});return j.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:321,children:j.jsx("section",{className:"_ac0a","data-testid":void 0,ref:e,children:j.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:15,children:j.jsxs("div",{className:"_ac0b",children:[!p&&!x&&j.jsx("button",{"aria-label":i._("__JHASH__wLBVljvWo_D__JHASH__"),className:"_ac0c",onClick:D,children:I}),j.jsx(G,{autoPlay:!0,currentReelItemIndex:a,eventZone:c("PolarisDesktopStoryEventZone.react"),isExpired:s,isFirstStory:p,isInitialLoad:w,onClose:v,onNext:A,onNextReel:B,onPause:function(){},onPlay:F,onPostSeen:C,onPrev:D,onPrevReel:E,onUpdatePlayPercentage:u,onUpdatePreplayPercentage:u,post:f,preload:"auto",reelId:g.id,trayEntrypoint:h},f.id),j.jsx(c("PolarisStoryMediaPrefetcher.react"),{prefetchContext:"stories"}),j.jsx(c("PolarisDesktopStoriesHeaderV2.react"),{currentReelItemIndex:a,itemCount:o.length,onModalOpen:function(){return z({isModalActive:!0})},playPercentage:t,post:f,postAuthor:c("nullthrows")(b),reel:g,reelOwner:c("nullthrows")(n),trayEntrypoint:h}),!x&&(!q||!m)&&j.jsx("button",{"aria-label":i._("__JHASH__EIdmgfpCblf__JHASH__"),className:"_ac0d",onClick:function(){return A("tap_forward")},children:J}),y==null&&!x&&!s&&j.jsx(H,{post:f,reel:g})]})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("oz-player/configs/OzPlayerConfigDefaults",[],(function(a,b,c,d,e,f){a={bandwidth_ignore_on_stream_write_samples:!1,bandwidth_use_response_time_adjustment:!1,catchup_use_timeline_range_end_time_as_end:!1,clear_on_seek:!0,debug_live_replay:!1,do_not_end_stream:!1,enable_alternative_audio_tracks:!1,enable_bandwidth_navigator_estimation:!1,fix_dom_exception_as_message:!0,fix_live_rewind_user_selected_playback_speed:!0,ignore_reset_after_seek_if_bufferahead:!1,latencymanager_stalled_edgelatency_sec_on:!1,ms_promise_for_null:!1,normalize_mpd_fetch_errors:!0,pdash_use_pdash_segmentlocator:!1,player_emit_mpdparsed_early:!1,playhead_manager_buffered_timerange_update_on_timeupdate:!0,playhead_manager_clamp_initial_playback_position:!1,reset_catchup_timeout_after_play_sec_on_overwrite:!0,retry_video_element_error:!0,sidx_parser_memory_optimization:!1,skip_videobuffer_gaps:!0,skip_videobuffer_gaps_on_buffer_updated:!0,stub_safari_source_buffer_abort:!1,use_live_latency_manager:!1,use_scf_timebased_segments:!1,use_strict_resolution_constraint:!0,vtt_caption_representation:!0};b={abr_confidence_threshold:.9,abr_eval_buffer_threshold:0,abr_min_bandwidth_samples:0,abr_prevent_down_switch_buffer_threshold:11,abr_restrict_from_index:0,abr_restrict_to_index:0,append_byte_target_without_range:1e5,appends_per_segment:6,auto_seek_playhead_slack:.5,bandwidth_boundary_standard_deviation_factor:1,bandwidth_estimator_half_life:6,bandwidth_estimator_outlier_exclusion_factor:50,bandwidth_estimator_std_dev_penalty_factor:0,bandwidth_header_expire_threshold:0,bandwidth_response_time_handicap:0,bandwidth_ttfb_samples_to_save:5,buffer_ahead_target:22,buffer_target_constraint_append_succeeded_reward:.2,buffer_target_constraint_minimum_sec:2,buffer_target_constraint_quota_exceeded_penalty:.3,byte_count_per_sample:2e5,catchup_timeout_after_buffering_sec:0,catchup_timeout_after_play_sec:0,clear_buffer_around_playhead_boundary_ms:5e3,clear_buffer_on_seek_epsilon_s:0,clear_buffer_on_seek_nudge_s:0,default_bandwidth_estimate:1e6,download_cursor_buffer_ahead_time_max_sec:0,download_cursor_total_buffer_max_sec:0,dvl_initial_segment_ignore_count:1,dvl_update_interval_ms:0,dynamic_mpd_initial_playback_position_offset_modifier:4,initial_manifest_request_retry_count:3,initial_switch_interval:0,in_play_buffer_overflow_target:1,in_play_buffer_underflow_target:.1,latencymanager_stalled_edgelatency_sec:0,live_audio_ibr_bandwidth_percentage:.05,live_numerical_error_epsilon:1e-4,loop_body_handle_error_interval_ms:1,low_buffer_bandwidth_target_increase_factor:0,low_buffer_bandwidth_target_threshold:10,low_segment_stream_playhead_threshold:0,manifest_initial_update_delay_ms:0,manifest_update_frequency_ms:0,max_bandwidth_sample_count:30,maximum_bandwidth_sample_bandwidth:1e8,max_start_eme_attempts:3,min_eval_interval:100,minimum_bandwidth_sample_duration:10,minimum_bytes_to_sample_on_close:25e3,min_switch_interval:100,mpd_updater_network_request_timeout_ms:2e4,ms_promise_for_null_ms:0,network_seg_timeout_ms:0,overwrite_livehead_fall_behind_block_threshold:0,overwrite_live_time_range_block_margin:0,partial_playback_buffer_overflow:.75,paused_stream_segments_count:2,pdash_download_cursor_between_catchups_seg:0,pdash_download_cursor_catchup_threshold_gop_multiplier:0,pdash_download_cursor_catchup_threshold_sec:0,pdash_download_cursor_catchup_tolerance_sec:0,per_stream_duration_target:0,pixels_above_viewport_to_observe:0,pixels_below_viewport_to_observe:0,playback_speed_enabled_delay_sec:4,playback_speed_latency_adjustment_rate:0,playback_speed_latency_slowdown_adjustment_rate:0,playback_speed_latency_speedup_adjustment_rate:0,playback_speed_min_buffer_sec:1,playback_speed_min_duration_sec:2,playback_speed_min_sharpness_factor:3,playback_speed_restore_min_duration_sec:1,playhead_manager_buffered_auto_seek_playhead_slack:.5,playhead_manager_buffered_is_near_gap_threshold:1.5,playhead_manager_buffered_numerical_error:.01,playhead_manager_timeupdate_throttle_ms:1e3,pre_start_buffer_ahead_target:16.924449682236,prioritize_by_viewport_static_penalty:0,recent_buffer_in_play_buffer_overflow_target:3,recent_buffer_timeout_ms:1e4,resolution_constraint_factor:2,seconds_to_stream:10,seconds_to_stream_near_bandwidth_boundary:10,seek_ahead_epsilon:.05,segments_to_stream:5,segments_to_stream_near_bandwidth_boundary:5,segments_to_stream_under_playhead_threshold:0,sidx_segment_retry_attempts:9999,sidx_segment_retry_interval_ms:100,skip_videobuffer_gaps_max_gap_size_sec:0,stale_mpd_buffer_ahead_target:0,start_buffer_underflow_target:.1,steadystate_minbuffer_buckets:0,steadystate_minbuffer_buckets_sec:1,steadystate_minbuffer_sec:0,stream_interrupt_buffer_target_timeout_ms:1e4,stream_interrupt_check_mpd_stale_count_threshold:6,stream_interrupt_in_play_buffer_overflow_target:1,timeline_offset_threshold:10,time_to_first_byte_estimate_half_life_ms:500,time_to_first_byte_ignore_above_threshold_ms:0};c={bandwidth_estimate_header_key:"",bandwidth_estimate_key:"",block_representation_status_codes_json:"[500, 503]",block_representation_status_codes_temporarily_json:"{}",cdn_experiment_id:"",stream_types_eligible_for_partial_playback:""};e.exports={defaultBools:a,defaultNumbers:b,defaultStrings:c}}),null);
__d("oz-player/configs/OzPlayerConfig",["oz-player/configs/OzPlayerConfigDefaults"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){a===void 0&&(a={}),this.$1=a}var b=a.prototype;b.getBool=function(a){return typeof this.$1[a]==="boolean"?this.$1[a]:d("oz-player/configs/OzPlayerConfigDefaults").defaultBools[a]};b.getNumber=function(a){return typeof this.$1[a]==="number"?this.$1[a]:d("oz-player/configs/OzPlayerConfigDefaults").defaultNumbers[a]};b.getString=function(a){return typeof this.$1[a]==="string"?this.$1[a]:d("oz-player/configs/OzPlayerConfigDefaults").defaultStrings[a]};b.getLegacyConfig=function(){var a=this;return{getBool:function(b,c){return typeof a.$1[b]==="boolean"?a.$1[b]:(b=d("oz-player/configs/OzPlayerConfigDefaults").defaultBools[b])!=null?b:c},getNumber:function(b,c){return typeof a.$1[b]==="number"?a.$1[b]:(b=d("oz-player/configs/OzPlayerConfigDefaults").defaultNumbers[b])!=null?b:c},getString:function(b,c){return typeof a.$1[b]==="string"?a.$1[b]:(b=d("oz-player/configs/OzPlayerConfigDefaults").defaultStrings[b])!=null?b:c}}};return a}();g["default"]=a}),98);
__d("oz-player/drm/OzDrmUtils",[],(function(a,b,c,d,e,f){"use strict";a=function(a){return Uint8Array.from(window.atob(a),function(a){return a.charCodeAt(0)})};b=function(a){return window.btoa(String.fromCharCode.apply(null,new Uint8Array(a)))};f.base64ToUint8Array=a;f.arrayBufferToBase64=b}),66);
__d("oz-player/manifests/OzSegmentOptions",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=!1,this.$2=null}var b=a.prototype;b.setSegmentNumDecisionTime=function(a){this.$2=a};b.getSegmentNumDecisionTime=function(){return this.$2};b.setIsDVLEnabled=function(a){this.$1=a};b.isDVLEnabled=function(){return this.$1};return a}();f["default"]=a}),66);
__d("oz-player/shims/www/OzURIWWWImplConstUri",["ConstUriUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.getQueryParams();var b={};a.forEach(function(a,c){typeof a==="string"||typeof a==="number"?b[c]=a:b[c]=String(a)});return b}a=function(){function a(a){this.$1=d("ConstUriUtils").getUri(a);if(this.$1==null)throw new Error("Invalid URI passed to OzURI");this.$2=h(this.$1)}var b=a.prototype;b.addQueryData=function(a,b){var c=this.$1;if(typeof a==="string"){var d;c=(d=c)==null?void 0:d.addQueryParam(a,b===void 0?"":b)}else{var e=new Map();Object.keys(a).forEach(function(b){e.set(b,a[b])});c=(d=c)==null?void 0:d.addQueryParams(e)}c!=null&&(this.$1=c,this.$2=h(this.$1))};b.getQueryData=function(){return this.$2};b.getDomain=function(){var a;return(a=(a=this.$1)==null?void 0:a.getDomain())!=null?a:""};b.toString=function(){var a;return(a=(a=this.$1)==null?void 0:a.toString())!=null?a:""};b.getPath=function(){var a;return(a=(a=this.$1)==null?void 0:a.getPath())!=null?a:""};return a}();g["default"]=a}),98);
__d("oz-player/shims/www/OzURIWWW",["oz-player/shims/www/OzURIWWWImplConstUri"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzURIWWWImplConstUri")}),98);
__d("oz-player/shims/OzURI",["oz-player/shims/www/OzURIWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzURIWWW")}),98);
__d("oz-player/shims/www/ozvariantWWW",["invariant"],(function(a,b,c,d,e,f,g,h){a=h;g["default"]=a}),98);
__d("oz-player/shims/ozvariant",["oz-player/shims/www/ozvariantWWW"],(function(a,b,c,d,e,f,g){g["default"]=c("oz-player/shims/www/ozvariantWWW")}),98);
__d("oz-player/utils/OzNumericalHelper",[],(function(a,b,c,d,e,f){"use strict";var g=1e-5;function h(a,b,c){c===void 0&&(c=g);return Math.abs(b-a)<=c}function i(a,b,c){c===void 0&&(c=g);return a>b&&!h(a,b,c)}function j(a,b,c){c===void 0&&(c=g);return a<b&&!h(a,b,c)}function a(a,b,c){c===void 0&&(c=g);return j(a,b,c)||h(a,b,c)}function b(a,b,c){c===void 0&&(c=g);return i(a,b,c)||h(a,b,c)}f.equalTo=h;f.greaterThan=i;f.lessThan=j;f.lessThanOrEqual=a;f.greaterThanOrEqual=b}),66);
__d("oz-player/utils/OzNumericalRangeUtil",["oz-player/utils/OzNumericalHelper"],(function(a,b,c,d,e,f,g){"use strict";var h=.01;function i(a,b){b=b.rangeEnd;return b==null?!1:Math.abs(a.rangeStart-b)>h&&a.rangeStart>b}function j(a,b){a=a.rangeEnd;b=b.rangeEnd;if(a==null)return!0;return b==null?!1:Math.abs(a-b)>h&&a>b}function k(a,b,c,d){a=c.rangeEnd;return a==null?!1:b===a||Math.abs(b-a)>((c=d)!=null?c:h)&&b>a}function a(a,b,c){var d=b.rangeEnd;if(d==null)return!1;c=(c=c)!=null?c:h;return a-b.rangeStart>=c&&d-a>=c}function l(a,b){return a>b-h}function b(a){if(!a.length)return[];var b=[],c=a[0];b.push(c);for(var d=1;d<a.length;d++){var e=a[d];if(!j(e,c))continue;else i(e,c)?(c={rangeStart:e.rangeStart,rangeEnd:e.rangeEnd},b.push(c)):c.rangeEnd=e.rangeEnd}return b}function c(a,b,c){return b.reduceRight(function(b,d){k(a,d.rangeStart,c)||k(a,c.rangeStart,d)?b.push(d):(c.rangeEnd!=null&&(d.rangeEnd==null||k(a,d.rangeEnd,c))&&b.push({rangeStart:c.rangeEnd,rangeEnd:d.rangeEnd}),l(c.rangeStart,d.rangeStart)&&b.push({rangeStart:d.rangeStart,rangeEnd:c.rangeStart}));return b},[]).filter(function(a){return a.rangeEnd==null||a.rangeStart<a.rangeEnd}).reverse()}function e(a,b,c,d){d===void 0&&(d=h);for(var e=0;e<c.length;e++){var f=c[e],g=f.rangeStart;if(l(b,g)&&!k(a,b,f,d))return e}return-1}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d=d.rangeStart;if(!l(a,d))return c}return-1}function m(a,b,c){return a>=b?0:c.reduceRight(function(c,d){var e=d.rangeStart;d=d.rangeEnd;if(b<e||d!=null&&a>d)return c;else if(d==null||b<=d)return Math.min(b-e,b-a)+c;else if(a>=e)return Math.min(d-a,b-a)+c;else return d-e+c},0)}function n(a,b){var c;c=a.length==0?(c=b[b.length-1])!=null?c:null:null;for(var e=0;e<a.length;e++){var f=a[e];for(var g=e;g<b.length;g++){var h=b[g];if(d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeStart,h.rangeStart)&&f.rangeEnd!=null&&h.rangeEnd!=null&&d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeEnd,h.rangeEnd))break;else if(h.rangeEnd!=null&&f.rangeEnd!=null&&!d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeStart,h.rangeStart)){c={rangeStart:h.rangeStart,rangeEnd:h.rangeEnd};break}else if(h.rangeEnd!=null&&f.rangeEnd!=null&&d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeStart,h.rangeStart)&&!d("oz-player/utils/OzNumericalHelper").equalTo(f.rangeEnd,h.rangeEnd)){c={rangeStart:f.rangeEnd,rangeEnd:h.rangeEnd};break}}if(c!==null)break}return c}function o(a){var b=[];for(var c=0;c<a.length;c++)b.push({rangeStart:a[c].startTime,rangeEnd:a[c].endTime});return b}g.isAfter=k;g.isWithin=a;g.isLargerThan=l;g.mergeSortedRanges=b;g.diffSortedRanges=c;g.findCurrentRangeIndex=e;g.findNextRangeIndex=f;g.findDiffCoveredByRanges=m;g.firstAddedInSortedRanges=n;g.convertFromTimeRanges=o}),98);
__d("oz-player/manifests/SegmentTemplateSegmentsContainer",["oz-player/manifests/OzSegmentOptions","oz-player/shims/OzEventEmitter","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f,g){"use strict";var h=1e-4;a=function(){function a(a,b,d,e,f,g){g===void 0&&(g=!1),this.$7=new(c("oz-player/shims/OzEventEmitter"))(),this.$10=null,this.$8=a,this.$2=b,this.$3=d,this.$1=f,this.$4=e,this.$5=this.$11(this.$4),this.$6=g,this.$9=this.$8.getNumber("live_numerical_error_epsilon")}var b=a.prototype;b.getSegmentByTime=function(a){a=this.$12(a);a=a*this.$3;var b=null;for(var c=this.$4.length-1;c>=0;c--){var e=this.$4[c];if(d("oz-player/utils/OzNumericalHelper").lessThanOrEqual(e.t+e.d*(e.r+1),a,this.$9))break;b=e}if(b===null)return null;if(d("oz-player/utils/OzNumericalHelper").greaterThan(b.t,a,this.$9))return null;e=Math.max(0,Math.floor((a-b.t+this.$9)/b.d));return this.$13(b,e)};b.getSegment=function(a){var b=0;a=a;while(a>=0&&b<this.$4.length){var c=this.$4[b];c=c.r;c=c+1;if(a>=c){a-=c;b++;continue}break}c=this.$4[b];return!c?null:this.$13(c,a)};b.getSegmentAfter=function(a){a=a.getTimeRange().endTime;return this.getSegmentByTime(a)};b.getPredictedSegmentAfter=function(a){return null};b.canPredict=function(){return!1};b.canApproximateId=function(){return!1};b.isEndingSegment=function(a){if(!this.$4||!this.$4.length||!this.$6)return!1;var b=this.$4[this.$4.length-1],c=b.r;b=this.$13(b,c);return Math.abs(b.getTimeRange().startTime-a.getTimeRange().startTime)+Math.abs(b.getTimeRange().endTime-a.getTimeRange().endTime)<h};b.updateWith=function(b){b instanceof a||c("oz-player/shims/ozvariant")(0,646),this.$6=b.$6,this.$14(b.$4),this.$15(b.$4),this.$7.emit("segment_updated")};b.getTimeRanges=function(){return this.$10?this.$16(this.$5,this.$10):this.$5};b.blockTimeRange=function(a){this.$10=a};b.$16=function(a,b){return d("oz-player/utils/OzNumericalRangeUtil").diffSortedRanges(this.$8,a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}),{rangeStart:b.startTime,rangeEnd:b.endTime}).map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd==null?Infinity:a.rangeEnd}})};b.addUpdateListener=function(a){return this.$7.addListener("segment_updated",a)};b.$12=function(a){var b=a,c=d("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(this.$8,a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));if(c===-1){c=d("oz-player/utils/OzNumericalRangeUtil").findNextRangeIndex(a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));c!==-1&&(b=this.getTimeRanges()[c].startTime)}return b};b.$14=function(a){var b;(b=this.$4).splice.apply(b,[0,this.$4.length].concat(a));return};b.$15=function(a){a=this.$11(a);a=d("oz-player/utils/OzNumericalRangeUtil").mergeSortedRanges(this.$5.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}).concat(a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}})));this.$5=a.map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd==null?Infinity:a.rangeEnd}})};b.$11=function(a){var b=this;a=d("oz-player/utils/OzNumericalRangeUtil").mergeSortedRanges(this.$4.map(function(a){var c=b.$13(a,0).getTimeRange().startTime;a=b.$13(a,a.r).getTimeRange().endTime;return{rangeStart:c,rangeEnd:a}}));return a.map(function(a){var b=a.rangeStart;a=a.rangeEnd;a=a==null?Infinity:a;return{startTime:b,endTime:a}})};b.$13=function(a,b){var d=this;b===void 0&&(b=0);var e=a.t,f=a.d,g=a.r;a=a.id;var h=e+f*b,i=this.$8.getBool("use_scf_timebased_segments"),j=a!=null?a-(g-b):null,k=new(c("oz-player/manifests/OzSegmentOptions"))();return{getData:function(){return null},getURI:function(){var a=d.$1!=null&&j!=null?d.$1.replace("$Number$",j.toString()):d.$2.replace("$Time$",h.toString());a=new(c("oz-player/shims/OzURI"))(a);i&&a.addQueryData("_nc_scf",1);return a},getTimeRange:function(){return{startTime:h/d.$3,endTime:(h+f)/d.$3}},getByteRange:function(){return null},getSequenceNumber:function(){return null},getOptions:function(){return k}}};b.getSegmentGroups=function(){return this.$4};b.getEndingSegment=function(){if(this.$4.length==0)return null;var a=this.$4[this.$4.length-1],b=a.r;return this.$13(a,b)};b.forceParseIfNotParsed=function(){};b.getMaxGopSec=function(){return null};return a}();g["default"]=a}),98);
__d("oz-player/shims/www/OzPerformanceWWW",["performance","performanceNow"],(function(a,b,c,d,e,f,g){a={now:function(){return c("performanceNow")()},getEntriesByName:function(a,b){return typeof c("performance").getEntriesByName==="function"?c("performance").getEntriesByName(a,b):[]}};b=a;g["default"]=b}),98);
__d("oz-player/shims/OzPerformance",["oz-player/shims/www/OzPerformanceWWW"],(function(a,b,c,d,e,f,g){g["default"]=c("oz-player/shims/www/OzPerformanceWWW")}),98);
__d("oz-player/utils/OzResourceTimingUtils",["oz-player/shims/OzPerformance"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){a=c("oz-player/shims/OzPerformance").getEntriesByName(a,"resource");return a.reduce(function(a,b){return a==null?b:b.responseEnd<a.responseEnd?a:b},null)};g.getLatestResourceTimingEntry=a}),98);
__d("oz-player/networks/OzClientClock",["oz-player/shims/OzPerformance","oz-player/utils/OzResourceTimingUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a!==null){a=parseInt(a,10);if(!isNaN(a))return a}return null}a=function(){function a(){this.$1=null,this.$2=0,this.$2=Date.now()-c("oz-player/shims/OzPerformance").now()}var b=a.prototype;b.updateOffsetFromHeaderResponse=function(a,b){var c=h(b.get("x-fb-dynamic-server-wallclock-ms"));b=h(b.get("x-fb-dynamic-rtt-ms"));a=d("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry(a);if(c!==null&&b!==null&&a!=null&&(a.responseStart>0&&a.duration>10)){a=a.requestStart+this.$2;c=c-a-b/2;this.$1=c}};b.now=function(){var a;return c("oz-player/shims/OzPerformance").now()+this.$2+((a=this.$1)!=null?a:0)};b.getClientClockOffsetMs=function(){return this.$1};return a}();b=new a();g["default"]=b}),98);
__d("oz-player/shims/www/OzStreamsWWW",["cr:927622","cr:927623"],(function(a,b,c,d,e,f,g){"use strict";c=Boolean(b("cr:927622"));d=Boolean(b("cr:927623"));e=b("cr:927622")?b("cr:927622").ReadableStream:a.ReadableStream;f=b("cr:927623")?b("cr:927623").WritableStream:a.WritableStream;g.OzReadableStream=e;g.OzReadableStreamIsPolyfilled=c;g.OzWritableStream=f;g.OzWritableStreamIsPolyfilled=d}),98);
__d("oz-player/shims/OzStreams",["oz-player/shims/www/OzStreamsWWW"],(function(a,b,c,d,e,f,g){"use strict";g.OzReadableStream=d("oz-player/shims/www/OzStreamsWWW").OzReadableStream,g.OzReadableStreamIsPolyfilled=d("oz-player/shims/www/OzStreamsWWW").OzReadableStreamIsPolyfilled,g.OzWritableStream=d("oz-player/shims/www/OzStreamsWWW").OzWritableStream,g.OzWritableStreamIsPolyfilled=d("oz-player/shims/www/OzStreamsWWW").OzWritableStreamIsPolyfilled}),98);
__d("oz-player/networks/OzTransformStream",["oz-player/shims/OzEventEmitter","oz-player/shims/OzStreams","oz-player/utils/OzError"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this)||this;var f=(b=b==null?void 0:b.errorTransform)!=null?b:function(a){return a},g,h;e.writable=new(d("oz-player/shims/OzStreams").OzWritableStream)({start:function(a){h=a},write:function(a){e.emit("writableWrite",a);try{e.onDataWritten(a)}catch(a){g.error(new(c("oz-player/utils/OzError"))({type:"OZ_STREAM",description:"Error from write handler: "+e.constructor.name,extra:{code:"OZ_S-0",originalError:a}}))}g.enqueue(a)},close:function(){e.emit("writableClose");try{e.onClose()}catch(a){g.error(new(c("oz-player/utils/OzError"))({type:"OZ_STREAM",description:"Error from close handler: "+e.constructor.name,extra:{code:"OZ_S-1",originalError:a}}))}g.close()},abort:function(a){a=f(a);g.error(a)}});e.readable=new(d("oz-player/shims/OzStreams").OzReadableStream)({start:function(a){g=a},cancel:function(a){e.emit("readableCancel",a),h.error(a)}});return e}var e=b.prototype;e.onDataWritten=function(a){};e.onClose=function(){};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/utils/OzUrlHelper",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a;var b=a.indexOf("://"),c=a.indexOf("/",b+3);c>b&&(a=a.substring(c));return a}function g(a){a=a;var b=a.lastIndexOf("/"),c=a.lastIndexOf("://");b>c+2&&(a=a.substring(0,b+1));return a}function h(a){a=a;a=g(a);return a.endsWith("/")?g(a.substring(0,a.length-1)):a}function i(a,b){a=g(a);b=b;while(b.length)if(b.startsWith("./"))b=b.substring(2);else if(b.startsWith("../"))b=b.substring(3),a=h(a),a.endsWith("/")&&(a=a.substring(0,a.length-1));else if(b.startsWith(".."))b=b.substring(2),a=h(a);else if(b.startsWith("."))b=b.substring(1);else break;b&&b.length&&(a.endsWith("/")||(a+="/"),a+=b);return a}function j(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];if(!b||!b.length)return"";if(b.length===1)return b[0];var d=b.shift();while(b.length>0)d=i(d,b.shift());return d}function b(a,b){return k(b)?b:j(a,b)}function k(a){var b=/^https?:\/\//i;return b.test(a)}f.stripToPathAndQueryOnly=a;f.joinRelativeUrlPaths=j;f.joinUrlPaths=b}),66);
__d("oz-player/parsers/OzDefaultSegmentTimelineParser",["oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}a.parseSegments=function(a,b){a=[];b.SegmentTimeline[0].S&&(a=b.SegmentTimeline[0].S.map(function(a){return{t:Number.parseInt(a.$.t,10),d:Number.parseInt(a.$.d,10),r:Number.parseInt(a.$.r||"0",10),id:a.$.id?Number.parseInt(a.$.id,10):void 0}}));return a};var b=a.prototype;b.parseSegmentsContainer=function(b,e,f){return new(c("oz-player/manifests/SegmentTemplateSegmentsContainer"))(b,d("oz-player/utils/OzUrlHelper").joinUrlPaths(e.baseUrl,f.$.media),Number.parseInt(f.$.timescale,10),a.parseSegments(b,f),null,e.isStaticMpd)};return a}();g["default"]=a}),98);
__d("OzDOMEventListenerImpl",["CometEventListener"],(function(a,b,c,d,e,f,g){"use strict";a={listenDOMEvent:c("CometEventListener").listen,captureDOMEvent:c("CometEventListener").capture,suppressDOMEvent:c("CometEventListener").suppress};b=a;g["default"]=b}),98);
__d("oz-player/shims/www/OzDOMEventListenerWWW",["OzDOMEventListenerImpl"],(function(a,b,c,d,e,f){"use strict";a=b("OzDOMEventListenerImpl");f["default"]=a}),66);
__d("oz-player/shims/OzDOMEventListener",["oz-player/shims/www/OzDOMEventListenerWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzDOMEventListenerWWW")}),98);
__d("oz-player/shims/www/OzSubscriptionsHandlerWWW",["SubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("SubscriptionsHandler")}),98);
__d("oz-player/shims/OzSubscriptionsHandler",["oz-player/shims/www/OzSubscriptionsHandlerWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzSubscriptionsHandlerWWW")}),98);
__d("oz-player/shims/www/ozThrottleWWW",["throttle"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("throttle")}),98);
__d("oz-player/shims/ozThrottle",["oz-player/shims/www/ozThrottleWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/ozThrottleWWW")}),98);
__d("oz-player/utils/OzBufferingUtils",[],(function(a,b,c,d,e,f){"use strict";e=.1;var g=1,h=.2;function a(a,b,c){if(i(a,c))return!0;c=a.currentTime;var d=0;for(var e=0;e<a.buffered.length;e++){var f=a.buffered.start(e),g=a.buffered.end(e);if(f<=c&&g>=c){d=g;break}}return d-c>b}function i(a,b){var c=a.currentTime,d=0;for(var e=0;e<a.buffered.length;e++){var f=a.buffered.start(e),g=a.buffered.end(e);if(f<=c&&g>=c){d=g;break}}return Math.abs(d-b)<=h||Math.abs(c-b)<=h}function b(a,b){a=a?a.getSourceBufferState():null;if(!a)return 0;b=b.getCurrentTime();return j(b,a.getBufferedRanges())}function j(a,b){var c=null;for(var d=0;d<b.length;d++){var e=b[d];e.startTime<=a&&e.endTime>a&&(c=e)}return!c?0:c.endTime-a}function c(a){var b=[];for(var c=0;c<a.buffered.length;c++)b.push({rangeStart:a.buffered.start(c),rangeEnd:a.buffered.end(c)});return b}function d(a,b,c,d){if(c.length===0||b.size===0)return!1;var e=null;for(var f=0;f<c.length;f++){var g=c[f],h=b.get(g);if(l(a,0,h)){e=g;break}}if(e==null)return!1;var i=!0;b.forEach(function(c,b){if(e===b)return;b=c.getBufferedRanges();b.forEach(function(b){i=k(a,b,d,i)})});return!i}function k(a,b,c,d){return a>=b.startTime&&a<b.endTime+c?!1:d}function l(a,b,c){b===void 0&&(b=0);if(c){c=c.getBufferedRanges();for(var d=0;d<c.length;d++)if(c[d].startTime<=a&&c[d].endTime>a&&c[d].endTime-a>b)return!0}return!1}f.BUFFER_UNDERFLOW_THRESHOLD=e;f.BUFFER_OVERFLOW_THRESHOLD=g;f.BUFFER_FUDGE_FACTOR=h;f.hasEnoughBuffer=a;f.hasBufferedToOrReachedEnd=i;f.getBufferAheadFromPlaybackStates=b;f.getBufferAheadFromCurrentTime=j;f.getNumericalRangesFromSourceBuffer=c;f.hasEnoughPartialBuffer=d;f.hasBuffer=l}),66);
__d("oz-player/strategies/OzBufferingDetectorStates",["oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(a,b,c){this.$1=a,this.$2=b,this.$3=c}var b=a.prototype;b.handleEvent=function(a,b,c){if(a.type==="pause"||b.paused)return new i(this.$1,this.$2);a=this.$3 instanceof j?this.$1.getInPlayBufferOverflowTarget():this.$1.getStartBufferUnderflowTarget();return d("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(b,a,c)?new j(this.$1,this.$2):this};return a}(),i=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.handleEvent=function(a,b,c){return a.type==="play"||a.type==="playing"||!b.paused?d("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(b,this.$1.getStartBufferUnderflowTarget(),c)?new j(this.$1,this.$2):new h(this.$1,this.$2,this):this};return a}(),j=function(){function a(a,b){this.$1=a,this.$2=b,this.$3=b.getString("stream_types_eligible_for_partial_playback","").split(",")}var b=a.prototype;b.handleEvent=function(a,b,c,e){e===void 0&&(e=new Map());if(a.type==="pause"||b.paused)return new i(this.$1,this.$2);return!d("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(b,this.$1.getInPlayBufferUnderflowTarget(),c)&&!this.$4(a,b.currentTime,e)?new h(this.$1,this.$2,this):this};b.$4=function(a,b,c){return a.type==="waiting"?!1:d("oz-player/utils/OzBufferingUtils").hasEnoughPartialBuffer(b,c,this.$3,this.$2.getNumber("partial_playback_buffer_overflow",0))};return a}();g.OzVideoBufferingState=h;g.OzVideoPausedState=i;g.OzVideoPlayingState=j}),98);
__d("oz-player/strategies/OzBufferingStateThresholdManager",["oz-player/shims/OzPerformance","oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$2=!1,this.$3=-Infinity,this.$4=-Infinity,this.$1=a}var b=a.prototype;b.getInPlayBufferUnderflowTarget=function(){return this.$1.getNumber("in_play_buffer_underflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD)};b.getInPlayBufferOverflowTarget=function(){if(this.$5())return this.$1.getNumber("stream_interrupt_in_play_buffer_overflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD);return c("oz-player/shims/OzPerformance").now()-this.$4<this.$1.getNumber("recent_buffer_timeout_ms",0)?this.$1.getNumber("recent_buffer_in_play_buffer_overflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD):this.$1.getNumber("in_play_buffer_overflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_OVERFLOW_THRESHOLD)};b.getStartBufferUnderflowTarget=function(){return this.$1.getNumber("start_buffer_underflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD)};b.notifyBufferingEnd=function(){this.$4=c("oz-player/shims/OzPerformance").now()};b.notifyStreamInterrupted=function(){this.$2=!0};b.notifyStreamResumed=function(){this.$2=!1,this.$3=c("oz-player/shims/OzPerformance").now()};b.$5=function(){var a=this.$1.getNumber("stream_interrupt_buffer_target_timeout_ms",0);return a===0?!1:this.$2||c("oz-player/shims/OzPerformance").now()-this.$3<a};return a}();g["default"]=a}),98);
__d("oz-player/strategies/OzBufferingDetector",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/strategies/OzBufferingDetectorStates","oz-player/strategies/OzBufferingStateThresholdManager","oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=150;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e,f){var g;g=a.call(this)||this;g.$OzBufferingDetector3=new(c("oz-player/shims/OzSubscriptionsHandler"))();g.$OzBufferingDetector6=new Map();g.$OzBufferingDetector8=null;g.$OzBufferingDetector9=function(a){g.$OzBufferingDetector11(a)};g.$OzBufferingDetector2=b;g.$OzBufferingDetector4=e;g.$OzBufferingDetector5=f;g.$OzBufferingDetector7=new(c("oz-player/strategies/OzBufferingStateThresholdManager"))(e);g.$OzBufferingDetector2.paused?g.$OzBufferingDetector1=new(d("oz-player/strategies/OzBufferingDetectorStates").OzVideoPausedState)(g.$OzBufferingDetector7,g.$OzBufferingDetector4):g.$OzBufferingDetector1=d("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(g.$OzBufferingDetector2,g.$OzBufferingDetector7.getInPlayBufferUnderflowTarget(),g.$OzBufferingDetector5())?new(d("oz-player/strategies/OzBufferingDetectorStates").OzVideoPlayingState)(g.$OzBufferingDetector7,g.$OzBufferingDetector4):new(d("oz-player/strategies/OzBufferingDetectorStates").OzVideoBufferingState)(g.$OzBufferingDetector7,g.$OzBufferingDetector4,null);g.$OzBufferingDetector3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"pause",g.$OzBufferingDetector9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"play",g.$OzBufferingDetector9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"progress",c("oz-player/shims/ozThrottle")(g.$OzBufferingDetector9,h)),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"timeupdate",c("oz-player/shims/ozThrottle")(g.$OzBufferingDetector9,h)),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"seeked",g.$OzBufferingDetector9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"seeking",g.$OzBufferingDetector9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"waiting",g.$OzBufferingDetector9));g.$OzBufferingDetector3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"canplay",g.$OzBufferingDetector9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"canplaythrough",g.$OzBufferingDetector9));return g}var e=b.prototype;e.$OzBufferingDetector10=function(){var a=this,b="unavailable",c=this.$OzBufferingDetector7.getInPlayBufferUnderflowTarget();this.$OzBufferingDetector6.forEach(function(e,f){var g=a.$OzBufferingDetector2.currentTime;d("oz-player/utils/OzBufferingUtils").hasBuffer(g,c,e)||(b=b==="unavailable"?f:"audio/video")});return b};e.setSourceBufferState=function(a,b){this.$OzBufferingDetector6.set(a,b)};e.$OzBufferingDetector11=function(a){var b=this.$OzBufferingDetector1.handleEvent(a,this.$OzBufferingDetector2,this.$OzBufferingDetector5(),this.$OzBufferingDetector6),c=this.$OzBufferingDetector1;this.$OzBufferingDetector1=b;var e=b instanceof d("oz-player/strategies/OzBufferingDetectorStates").OzVideoBufferingState,f=c instanceof d("oz-player/strategies/OzBufferingDetectorStates").OzVideoBufferingState;if(b===c){e&&this.$OzBufferingDetector8&&this.$OzBufferingDetector8.cloneContext().getOperationLogger("buffering_handle_event").setInitiator(a.type).log();return b}if(e){e=c instanceof d("oz-player/strategies/OzBufferingDetectorStates").OzVideoPlayingState?"in_play":"start/unpause";this.$OzBufferingDetector8&&this.$OzBufferingDetector8.cloneContext().getOperationLogger("enter_buffering").setState("buffering").setType(e).setReason(this.$OzBufferingDetector10()).setInitiator(a.type).log();this.emit("enterBuffering",e)}else f&&(this.$OzBufferingDetector8&&this.$OzBufferingDetector8.cloneContext().getOperationLogger("leave_buffering").setInitiator(a.type).log(),this.$OzBufferingDetector7.notifyBufferingEnd(),this.emit("leaveBuffering",{domEventPerfTimestamp:a.timeStamp}));return b};e.notifyStreamInterrupted=function(){this.$OzBufferingDetector7.notifyStreamInterrupted()};e.notifyStreamResumed=function(){this.$OzBufferingDetector7.notifyStreamResumed()};e.attachPerfLoggerProvider=function(a){this.$OzBufferingDetector8=a};e.destroy=function(){this.$OzBufferingDetector3.release()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/utils/OzAbrUtils",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b,c,d){var e=a.getNumber("resolution_constraint_factor");if(e===0)return b;var f=b.filter(function(b){var f=b.getWidth()<=c.width*d*e;b=b.getHeight()<=c.height*d*e;return a.getBool("use_strict_resolution_constraint")?f&&b:f||b});return!f.length?[b[0]]:f};b=function(a,b,c,d,e,f){b=b?a.getNumber("min_switch_interval"):a.getNumber("initial_switch_interval");d=d>=a.getNumber("abr_min_bandwidth_samples");var g=a.getNumber("abr_eval_buffer_threshold");c=!g||c>=g;g=null;e+a.getNumber("min_eval_interval")>Date.now()?g="min_eval_interval":f+b>Date.now()?g="min_switch_interval":!d?g="min_bandwidth_samples":c||(g="buffer_threshold_not_satisfied");return g};f.excludeLargeRepresentations=a;f.getReasonToPreventEvaluation=b}),66);
__d("oz-player/utils/OzPlaybackRestrictionsUtils",[],(function(a,b,c,d,e,f){"use strict";var g=function(a,b){return a.getBandwidth()-b.getBandwidth()};a=function(a,b,c,d){if(d.length===0)return[];d.sort(g);a=b.reduce(function(a,b){return b.applyRestriction(a,c)},d);return a};f.applyVideoPlaybackRestrictions=a}),66);
__d("oz-player/utils/ozConcatUint8Arrays",["oz-player/utils/OzError"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=0;for(var d=0;d<a.length;++d)b+=a[d].byteLength;var e,f;try{e=new ArrayBuffer(b),f=new Uint8Array(e)}catch(a){throw new(c("oz-player/utils/OzError"))({type:"OZ_ALLOCATION_FAILURE",description:a.name+": "+a.message})}d=0;for(b=0;b<a.length;++b){var g=a[b];f.set(g,d);d+=g.byteLength}return{buffer:e,view:f}}g["default"]=a}),98);
__d("oz-player/utils/OzReadableStreamUtils",["oz-player/utils/ozConcatUint8Arrays"],(function(a,b,c,d,e,f,g){"use strict";var h=typeof TextDecoder!=="undefined"?function(a){return new TextDecoder("utf-8").decode(new Uint8Array(a))}:function(a){return String.fromCharCode.apply(null,a)};function i(a){var b=[],d=function c(){return a.read().then(function(a){var d=a.value;a=a.done;if(a)return null;if(!d)return null;b.push(d);return c()})};return d().then(function(){var a=c("oz-player/utils/ozConcatUint8Arrays")(b);a=a.view;return a})}function a(a){return i(a).then(function(a){return h(a)})}function b(a){var b=new Uint8Array(a.length);return b.map(function(b,c){return a.charCodeAt(c)})}g.pumpAllData=i;g.pumpString=a;g.stringToUint8Array=b}),98);
__d("TimeRanges",["invariant"],(function(a,b,c,d,e,f,g,h){a=function(){function a(a){this.$1=[],this.$1=a}var b=a.prototype;b.start=function(a){this.$1[a]||h(0,2205);return this.$1[a].startTime};b.end=function(a){this.$1[a]||h(0,2205);return this.$1[a].endTime};b.length=function(){return this.$1.length};return a}();g["default"]=a}),98);
__d("OzWidevineDrmProvider",["ConstUriUtils","FBLogger","isStringNullOrEmpty","oz-player/drm/OzDrmUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e,f,g){this.$2=[];this.$4=!0;this.$5=!1;c("isStringNullOrEmpty")(g)||(this.$1=d("oz-player/drm/OzDrmUtils").base64ToUint8Array(g));if(b!=null&&f!=null){b=(g=d("ConstUriUtils").getUri(b))==null?void 0:g.addQueryParam("access_token",f);if(b==null)throw c("FBLogger")("comet_video_player").mustfixThrow("Invalid Graph API license uri for video: %s",a);this.$3=b.toString();this.$5=!0;this.$4=!1}else{g=e["0"];if(g==null){g="/video/drm/getlicense";b=(f=d("ConstUriUtils").getUri(g))==null?void 0:f.addQueryParam("video_id",a);if(b==null)throw c("FBLogger")("comet_video_player").mustfixThrow("Invalid server license uri for video: %s",a);this.$3=b.toString()}else this.$3=g}}var b=a.prototype;b.getKeySystem=function(){return"com.widevine.alpha"};b.getSchemeId=function(){return"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};b.getInitDatas=function(){return this.$2};b.setInitDatas=function(a){this.$2=a};b.getRequireDistinctiveIdentifier=function(){return"optional"};b.getRequirePersistentState=function(){return"optional"};b.getInitDataTypes=function(){return};b.getDrmSessionTypes=function(){return["temporary"]};b.getAudioRobustness=function(){return""};b.getVideoRobustness=function(){return""};b.getServerCertificate=function(){return this.$1};b.getLicenseRequestInfo=function(a){var b={url:this.$3,method:"POST",body:"",headers:{},credentials:void 0};this.$4&&(b.credentials="include");a=d("oz-player/drm/OzDrmUtils").arrayBufferToBase64(a);if(this.$5){var c={request:a};b.body=JSON.stringify(c);b.headers["Content-Type"]="application/json"}else b.body=a,b.headers["Content-Type"]="application/text";return b};b.parseLicenseResponse=function(a){a=String.fromCharCode.apply(null,a);var b;try{b=JSON.parse(a)}catch(a){b=void 0}var e;if(b!==void 0&&b.data!==void 0&&b.data.length===1){b=b.data[0];b.error!=null||(e=b.license)}else e=a;if(!c("isStringNullOrEmpty")(e))try{return d("oz-player/drm/OzDrmUtils").base64ToUint8Array(e)}catch(a){if(a.name==="InvalidCharacterError")throw new Error("Endpoint returned error: "+e);else throw a}return null};return a}();g["default"]=a}),98);
__d("MaybeNativePromise",["Promise"],(function(a,b,c,d,e,f){"use strict";c=a.Promise||b("Promise");b("Promise").resolve();d=c;f["default"]=d}),66);/*FB_PKG_DELIM*/
__d("IGDContactSearchDialogType.flow",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({OMNIPICKER:"omnipicker",SHARESHEET:"sharesheet",FORWARD_MESSAGE:"forward_message"});f.IGDContactSearchDialogType=a}),66);
__d("PolarisAdCTAViewabilityAction",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return function(c){c=c.state;switch(c){case"entered":case"updated":a||b(!0);break;case"exited":b(!1);break;default:break}}}f.makeAdCTAViewabilityAction=a}),66);
__d("IgWebLoggingStatefulEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4350");b=d("FalcoLoggerInternal").create("ig_web_logging_stateful_event",a);e=b;g["default"]=e}),98);
__d("IgWebLoggingStatelessCriticalEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4338");b=d("FalcoLoggerInternal").create("ig_web_logging_stateless_critical_event",a);e=b;g["default"]=e}),98);
__d("IgWebLoggingStatelessEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4351");b=d("FalcoLoggerInternal").create("ig_web_logging_stateless_event",a);e=b;g["default"]=e}),98);
__d("IgWebLoggingStatelessImmediatelyEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4552");b=d("FalcoLoggerInternal").create("ig_web_logging_stateless_immediately_event",a);e=b;g["default"]=e}),98);
__d("PolarisIgWebLoggingDistilleryEventFalcoEvent",["PolarisFalcoLogger"],(function(a,b,c,d,e,f,g){"use strict";var h={falco:!0,pigeon:!1};a={log:function(a){d("PolarisFalcoLogger").FalcoLogger.log("ig_web_logging_distillery_event",a(),{},h)}};b=a;g["default"]=b}),98);
__d("PolarisFalcoBladeRunnerExperiment",["IgWebLoggingStatefulEventFalcoEvent","IgWebLoggingStatelessCriticalEventFalcoEvent","IgWebLoggingStatelessEventFalcoEvent","IgWebLoggingStatelessImmediatelyEventFalcoEvent","PolarisIgWebLoggingDistilleryEventFalcoEvent","gkx","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";function a(){if(c("gkx")("4033")){var a={event_id:c("uuidv4")(),from_distillery:!1,is_ad:!1},b=babelHelpers["extends"]({},a,{from_distillery:!0});c("IgWebLoggingStatefulEventFalcoEvent").log(function(){return a});c("IgWebLoggingStatelessEventFalcoEvent").log(function(){return a});c("IgWebLoggingStatelessImmediatelyEventFalcoEvent").logImmediately(function(){return a});c("IgWebLoggingStatelessCriticalEventFalcoEvent").logCritical(function(){return a});c("PolarisIgWebLoggingDistilleryEventFalcoEvent").log(function(){return b})}}g.logTestFalco=a}),98);
__d("InstagramAdImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1282");b=d("FalcoLoggerInternal").create("instagram_ad_impression",a);e=b;g["default"]=e}),98);
__d("PolarisInstagramAdImpressionFalcoEventImpl",["PolarisFalcoLogger"],(function(a,b,c,d,e,f,g){"use strict";var h={falco:!0,pigeon:!1};a={log:function(a){d("PolarisFalcoLogger").FalcoLogger.log("instagram_ad_impression",a(),{},h)}};b=a;g["default"]=b}),98);
__d("PolarisInstagramAdImpressionFalcoEvent",["InstagramAdImpressionFalcoEvent","PolarisFalcoLoggingMode","PolarisInstagramAdImpressionFalcoEventImpl","PolarisUA","qex"],(function(a,b,c,d,e,f,g){"use strict";a={log:function(a){var b=c("PolarisFalcoLoggingMode").DISTILLERY;if(!d("PolarisUA").isWindowsPWA()){var e;b=(e=c("qex")._("78"))!=null?e:c("PolarisFalcoLoggingMode").DISTILLERY}b===c("PolarisFalcoLoggingMode").NORMAL?c("InstagramAdImpressionFalcoEvent").log(a):b===c("PolarisFalcoLoggingMode").IMMEDIATELY?c("InstagramAdImpressionFalcoEvent").logImmediately(a):b===c("PolarisFalcoLoggingMode").CRITICAL?c("InstagramAdImpressionFalcoEvent").logCritical(a):c("PolarisInstagramAdImpressionFalcoEventImpl").log(a)}};b=a;g["default"]=b}),98);
__d("InstagramAdSubImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1283");b=d("FalcoLoggerInternal").create("instagram_ad_sub_impression",a);e=b;g["default"]=e}),98);
__d("PolarisInstagramAdSubImpressionFalcoEventImpl",["PolarisFalcoLogger"],(function(a,b,c,d,e,f,g){"use strict";var h={falco:!0,pigeon:!1};a={log:function(a){d("PolarisFalcoLogger").FalcoLogger.log("instagram_ad_sub_impression",a(),{},h)}};b=a;g["default"]=b}),98);
__d("PolarisInstagramAdSubImpressionFalcoEvent",["InstagramAdSubImpressionFalcoEvent","PolarisFalcoLoggingMode","PolarisInstagramAdSubImpressionFalcoEventImpl","PolarisUA","qex"],(function(a,b,c,d,e,f,g){"use strict";a={log:function(a){var b=c("PolarisFalcoLoggingMode").DISTILLERY;if(!d("PolarisUA").isWindowsPWA()){var e;b=(e=c("qex")._("78"))!=null?e:c("PolarisFalcoLoggingMode").DISTILLERY}b===c("PolarisFalcoLoggingMode").NORMAL?c("InstagramAdSubImpressionFalcoEvent").log(a):b===c("PolarisFalcoLoggingMode").IMMEDIATELY?c("InstagramAdSubImpressionFalcoEvent").logImmediately(a):b===c("PolarisFalcoLoggingMode").CRITICAL?c("InstagramAdSubImpressionFalcoEvent").logCritical(a):c("PolarisInstagramAdSubImpressionFalcoEventImpl").log(a)}};b=a;g["default"]=b}),98);
__d("cometGHLContentDisplayCheck",["cr:1824699"],(function(a,b,c,d,e,f,g){"use strict";var h=!0,i=!1;function a(a){var c=document.body;c=c==null||!c.contains(a);b("cr:1824699")&&b("cr:1824699").flap(a,{notMounted:c});if(c)return h;c=a.offsetHeight===0;b("cr:1824699")&&b("cr:1824699").flap(a,{zeroHeight:c});if(c)return i;c=Array.from(a.getElementsByTagName("img"));var d=c.length===0;b("cr:1824699")&&b("cr:1824699").flap(a,{noImages:d});if(c.length===0)return h;d=c.find(j)!=null;b("cr:1824699")&&b("cr:1824699").flap(a,{hasImageWithSize:d});if(d)return h;c=Array.from(a.getElementsByTagName("svg"));if(c.find(k)!=null)return h;d=Array.from(a.getElementsByTagName("i"));if(d.find(k)!=null)return h;b("cr:1824699")&&b("cr:1824699").flap(a,{noSuccessfulChecks:!0});return i}var j=function(a){return a.offsetHeight+a.offsetWidth>0},k=function(a){a=a.getBoundingClientRect();return a.height*a.width>0};g["default"]=a}),98);
__d("getPolarisODSKeyWithSurfaceDimension",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if((b==null?void 0:b.isMobile)===!0)return a+".msite";else return a}f["default"]=a}),66);
__d("PolarisAdImpressionAction",["PolarisContainerModuleUtils","PolarisFalcoBladeRunnerExperiment","PolarisInstagramAdImpressionFalcoEvent","PolarisInstagramAdSubImpressionFalcoEvent","PolarisLogger","PolarisNavChain","PolarisODS","PolarisUA","PolarisViewpointActionUtils","cometGHLContentDisplayCheck","cr:6627","getPolarisODSKeyWithSurfaceDimension","memoizeStringOnly","qex","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qex")._("1229"),i=c("qex")._("586")===!0?"test":"control",j=2e3,k=5e3,l=6e4,m=c("memoizeStringOnly")(function(a){return new Map()}),n=new Set();function o(a,b,e,f,g,h){g===void 0&&(g=l);return function(i){var l=m(a||"");if(i.state!=="entered")return;if(n.has(b))return;n.add(b);var o=l.get(b),p=i.snapshotTime,q=function(a){var b=a.isSubImpression;return c("setTimeout")(function(){var a=!c("cometGHLContentDisplayCheck")(i.element);a?b?(c("PolarisODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY(c("getPolarisODSKeyWithSurfaceDimension")("web.ads.feed.sub_impression.hidden.delayed",{isMobile:h})),d("PolarisLogger").logAction("adSubImpressionHiddenDelayed")):(c("PolarisODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY(c("getPolarisODSKeyWithSurfaceDimension")("web.ads.feed.impression.hidden.delayed",{isMobile:h})),d("PolarisLogger").logAction("adImpressionHiddenDelayed")):c("PolarisODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY(b?"web.ads.feed.sub_impression.delayed":"web.ads.feed.impression.delayed")},k-j)};c("setTimeout")(function(){var a=c("cometGHLContentDisplayCheck")(i.element);o==null?a?(e(),l.set(b,i.snapshotTime),q({isSubImpression:!1})):(c("PolarisODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY(c("getPolarisODSKeyWithSurfaceDimension")("web.ads.feed.impression.hidden",{isMobile:h})),d("PolarisLogger").logAction("adImpressionHidden")):o!=null&&p-o>=g&&(a?(f(),l.set(b,i.snapshotTime),q({isSubImpression:!0})):(c("PolarisODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY(c("getPolarisODSKeyWithSurfaceDimension")("web.ads.feed.sub_impression.hidden",{isMobile:h})),d("PolarisLogger").logAction("adSubImpressionHidden")));n["delete"](b)},j)}}function a(a,e,f,g){var j,k=d("PolarisViewpointActionUtils").getMPKForFeedMedia(a)||"",m=d("PolarisUA").isMobile(),n=babelHelpers["extends"]({m_pk:k,nav_chain:(j=c("PolarisNavChain").getInstance())==null?void 0:j.getNavChainForSend(),pigeon_reserved_keyword_module:d("PolarisContainerModuleUtils").getContainerModule(e)},f),p=[JSON.stringify({is_sponsored:!0,m_pk:k,tracking_token:f.tracking_token})];j=function(){g&&c("PolarisODS").incr("web.ads.feed.impression.viewpoint"),a.isVideo===!0&&m&&c("PolarisODS").incr("web.ads.msite.feed.video_ads.impression"),c("PolarisODS").incr("web.ads.feed.impression"),c("PolarisInstagramAdImpressionFalcoEvent").log(function(){return n}),h===!0&&b("cr:6627")!=null&&b("cr:6627").log(function(){return{event:"impression_client",qe_infos:["ig_web_h1_2023_feed:has_relay_feed:"+i],tracking:p}}),d("PolarisFalcoBladeRunnerExperiment").logTestFalco()};f=function(){c("PolarisODS").incr("web.ads.feed.sub_impression"),c("PolarisInstagramAdSubImpressionFalcoEvent").log(function(){return n}),h===!0&&b("cr:6627")!=null&&b("cr:6627").log(function(){return{event:"sub_impression_client",qe_infos:["ig_web_h1_2023_feed:has_relay_feed:"+i],tracking:p}})};return o(e,k,j,f,l,m)}function e(a){return function(b){var d;if(b.state!=="entered")return;var e=m("");d=((d=a)!=null?d:"")+".cta_impression";var f=e.get(d);f==null&&(c("PolarisODS").incr("web.ads.feed.cta_impression"),e.set(d,b.snapshotTime))}}g.makePostAdImpressionAction=a;g.makeAdCTAImpressionAction=e}),98);
__d("usePolarisSponsoredPostCTAFooterDominantColor",["DateConsts","PolarisAdCTAViewabilityAction","PolarisAdImpressionAction","PolarisViewpointReact.react","polarisAdsSelectors","react","useDebounced"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef,j=b.useState,k=4*d("DateConsts").MS_PER_SEC;function a(a){var b=a.isMediaRendered,e=a.mediaId;a=a.post;var f=d("polarisAdsSelectors").useFeedAdInfo(a.id,function(a){return a}),g=j(null),l=g[0],m=g[1];g=j(!1);var n=g[0];g=g[1];var o=i(!1),p=a.isVideo,q=c("useDebounced")(m,k);h(function(){var a;if(e==null||!b&&p===!1)return;a=f==null?void 0:(a=f.ctaItems)==null?void 0:a.get(e);if(a==null)return;if(n){if(q.isPending())return;o.current===!1?(o.current=!0,q(a.ctaDominantColor)):m(a.ctaDominantColor);return}n||(o.current=!1,q.isPending()?q.reset():m(null))},[n,q,e,f==null?void 0:f.ctaItems,b,p]);g=d("PolarisViewpointReact.react").useViewpoint({action:[d("PolarisAdCTAViewabilityAction").makeAdCTAViewabilityAction(n,g),d("PolarisAdImpressionAction").makeAdCTAImpressionAction(e)],id:a.id});return{ctaDominantColor:l,ctaFooterViewpointRef:g}}g["default"]=a}),98);
__d("PolarisGuideStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b){b===void 0&&(b="posts");switch(b){case"locations":return a===1?h._("__JHASH__iuyWm8fED0-__JHASH__"):h._("__JHASH__60VpJigGOHP__JHASH__",[h._param("number of places",a)]);case"accounts":return a===1?h._("__JHASH__47P-8Bl9NvD__JHASH__"):h._("__JHASH__5ElcPrjqvD9__JHASH__",[h._param("number of accounts",a)]);case"products":return a===1?h._("__JHASH__RDZQFR-cwtU__JHASH__"):h._("__JHASH__7rG6hfbEwsI__JHASH__",[h._param("number of products",a)]);default:return a===1?h._("__JHASH__lzN9hdw0td9__JHASH__"):h._("__JHASH__-cTeh_8LArx__JHASH__",[h._param("number of posts",a)])}}function b(a,b){return h._("__JHASH__B2gCXHxJMP6__JHASH__",[h._param("guide author full name",a),h._param("guide title",b)])}function c(a){return h._("__JHASH__I-Z0_vOmQGy__JHASH__",[h._param("guide item number",a)])}d=h._("__JHASH__FXeK1SQwnPE__JHASH__");e=h._("__JHASH__rSvh5jaYRHY__JHASH__");f=h._("__JHASH__Z82bBRL6vhx__JHASH__");var i=h._("__JHASH__n-WhMmnOzvD__JHASH__");g.getGuideNumberOfItemsText=a;g.getPageTitleForGuides=b;g.getGuideItemNumberLabel=c;g.GUIDE_ITEM_POST_UNAVAILABLE_HEADER=d;g.GUIDE_ITEM_POST_UNAVAILABLE_BODY=e;g.VIEW_GUIDE_STORY_CTA=f;g.OPTIONS_ALT_TEXT=i}),98);
__d("polarisCollectionsLoading",["PolarisSavedPostsTypes"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.length===1&&a[0].id===d("PolarisSavedPostsTypes").SAVED_COLLECTION_TYPE.ALL_MEDIA_AUTO_COLLECTION}function a(a){return h(a)&&a[0].media_count===0}function b(a,b){if(a.length===0&&b.isFetching)return!0;return h(a)&&b.isFetching?!0:!1}g.onlyAutoCollection=h;g.onlyEmptyAutoCollection=a;g.collectionsLoading=b}),98);
__d("PolarisClipsHelpers",["nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=null;a!=null&&a.forEach(function(a){var d;((d=a.media)==null?void 0:d.pk)===b&&(c=a)});return c}function b(a){var b;return{height:c("nullthrows")((b=a.media)==null?void 0:b.original_height),width:c("nullthrows")((b=a.media)==null?void 0:b.original_width)}}function d(a){var b=a.audioArtist,c=a.audioName;a=a.isMediaOwnerOriginalSound;return c!=null&&b!=null&&a!=null}function e(a,b,c){b={audio_asset_id:b,surface_requested_from:"audio_page"};switch(c){case"original_sound":b.original_audio_id=a;break;case"music":b.audio_cluster_id=a;break}return b}g.getClipItemFromPostID=a;g.getClipDimensionsFromItemDict=b;g.hasAudioAttributionText=d;g.generateAudioBookmarkBody=e}),98);
__d("PolarisSavedPostsLogger",["PolarisODS"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(b){case"saved":case"SavedCollectionPage":case"postPage":case"feed":case"profile":case"selfProfilePageModal":case"exploreLandingPageModal":c("PolarisODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.createCollection."+a+"."+b);break;default:c("PolarisODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.createCollection."+a+".undefined")}}function b(a,b){switch(b){case"saved":case"SavedCollectionPage":case"postPage":case"feed":case"profile":case"selfProfilePageModal":case"exploreLandingPageModal":c("PolarisODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.editCollection."+a+"."+b);break;default:c("PolarisODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.editCollection."+a+".undefined")}}function d(a,b){switch(b){case"SavedCollectionPage":c("PolarisODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.deleteCollection."+a+".SavedCollectionPage");break;default:c("PolarisODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.deleteCollection."+a+".undefined")}}g.logCreateCollection=a;g.logEditCollection=b;g.logDeleteCollection=d}),98);
__d("PolarisAPIListCollections",["PolarisInstapi","PolarisSavedPostsTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[d("PolarisSavedPostsTypes").SAVED_COLLECTION_TYPE.ALL_MEDIA_AUTO_COLLECTION,d("PolarisSavedPostsTypes").SAVED_COLLECTION_TYPE.MEDIA,d("PolarisSavedPostsTypes").SAVED_COLLECTION_TYPE.AUDIO_AUTO_COLLECTION];b=babelHelpers["extends"]({collection_types:JSON.stringify(b),get_cover_media_lists:String(!0),include_public_only:0},a!=null&&{max_id:a});return d("PolarisInstapi").apiGet("/api/v1/collections/list/",{query:b}).then(function(a){return a.data})}g.listCollections=a}),98);
__d("PolarisSavedPostsActionRequestNextSavedCollections",["PolarisAPIListCollections","polarisNormalizeCollections","polarisSavedPostsSelectors"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=function(){return h(a)};return j({retryHandler:b,userId:a})}function i(a){return function(b){var c=function(){return b(i(a))};return b(j({retryHandler:c,userId:a}))}}function j(a){a.retryHandler;var b=a.userId;return function(a,c){a({type:"SAVED_LIST_COLLECTIONS_LOADING",userId:b});c=d("polarisSavedPostsSelectors").getSavedCollectionsPaginationForUser(c(),b);return d("PolarisAPIListCollections").listCollections(c.cursor!=null?c.cursor:"").then(function(c){var e=c.items,f=c.more_available;c=c.next_max_id;e=d("polarisNormalizeCollections").normalizeCollections(e);a({byCollectionId:e,pagination:{cursor:c,isFetching:!1,moreAvailable:f},type:"SAVED_LIST_COLLECTIONS_UPDATED",userId:b})})["catch"](function(c){a({type:"SAVED_LIST_COLLECTIONS_ERRORED",userId:b})})}}g.requestInitialSavedCollections=h;g.requestNextSavedCollections=i}),98);
__d("PolarisTransparencyUtils",["CometPlaceholder.react","JSResourceForInteraction","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGWebBloksApp").__setRef("PolarisTransparencyUtils")),k="com.instagram.transparency.treatment_action";function a(a){var b=a.transparencyLabel;a=a.transparencyProduct;return a!=null&&b!=null}function b(a){var b=a.cacheKey,d=a.mediaId,e=a.onResumeStoryPlayback,f=a.screen,g=a.transparencyProduct,l=a.userId;a=i(function(){return{cache_key:b,media_id:d,product:g,surface:f,user_id:l}},[b,d,f,l,g]);return h.jsx("div",{children:h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx("div",{}),children:h.jsx(j,{appId:k,bridgeOverrides_DEPRECATED:{onResumeStoryPlayback:e},loadingFallback:h.jsx("div",{}),params:a},a.cache_key)})})}b.displayName=b.name+" [from "+f.id+"]";g.shouldShowTransparencyLabel=a;g.PolarisTransparencyTreatment=b}),98);
__d("PolarisPostCommentInputPicker.react",["cx","CometPlaceholder.react","PolarisPanavisionQEHelpers","deferredLoadComponent","react","requireDeferredForDisplay","usePolarisIsOnAdsActivityPage","usePolarisIsOnFeedPage"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("deferredLoadComponent")(c("requireDeferredForDisplay")("PolarisPostCommentInput.react").__setRef("PolarisPostCommentInputPicker.react"));a=i.forwardRef(function(a,b){var e=c("usePolarisIsOnFeedPage")(),f=c("usePolarisIsOnAdsActivityPage")();e=(e||f)&&a.inModal!==!0&&d("PolarisPanavisionQEHelpers").hasFamiliarFeed();return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx("div",{className:(e?"":"_aan1")+(e?" _ajpo":"")}),name:"PostCommentInputPicker",children:i.jsx(j,babelHelpers["extends"]({},a,{ref:b}))})});b=a;g["default"]=b}),98);
__d("PolarisPostFooterCTA.react",["cx","IGDSBox.react","IGDSChevronIcon","PolarisAdsGatingHelpers","PolarisExternalLink.react","PolarisGenericStrings","PolarisIGCoreButton","PolarisIGCoreText","PolarisIGTheme.react","PolarisPanavisionQEHelpers","PolarisPostUtils","PolarisUA","isStringNullOrEmpty","react","usePolarisOffsiteTrackingDataURLParams"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a,b){var e,f=a.ctaAdditionalAnimation;f=f===void 0?d("PolarisPostUtils").PostFooterCTAAnimationStyle.NONE:f;var g=a.ctaDominantColor,h=a["data-testid"];h=a.disableAnimation;var j=a.externalURL,k=a.forceBottomBorder,l=a.fullWidth,m=a.height,n=a.icon,o=a.isActive,p=a.isForAd,q=a.isForPersistentCta,r=a.isForSidecar,s=a.onClick,t=a.secondaryText,u=a.showChevron;u=u===void 0?!1:u;var v=a.showRoundedBorder;v=v===void 0?!1:v;var w=a.text,x=a.textAlign;x=x===void 0?"center":x;a=a.textThemedColor;var y=d("PolarisIGTheme.react").useTheme(),z=g!=null&&d("PolarisAdsGatingHelpers").allowWebAds();n=n!=null?i.jsxs(i.Fragment,{children:[i.jsx(c("IGDSBox.react"),{"data-testid":void 0,flex:"none",position:"relative",children:n}),i.jsx(c("IGDSBox.react"),{marginEnd:3,position:"relative"})]}):null;w=z?i.jsx("span",{className:"x9bdzbf",children:w}):i.jsx(i.Fragment,{children:w});e=z?"web-always-white":(e=a)!=null?e:"ig-primary-text";u=u?i.jsxs(i.Fragment,{children:[i.jsx(c("IGDSBox.react"),{flex:"grow",height:"100%",marginEnd:7,position:"relative",right:!0}),i.jsx(c("IGDSChevronIcon"),{alt:d("PolarisGenericStrings").RIGHT_CHEVRON,color:e,"data-testid":void 0,direction:"next",size:16})]}):null;e=y.getTheme()===d("PolarisIGTheme.react").IGTheme.Dark?a==null?void 0:a.dark:a==null?void 0:a.light;e!=null&&(w=i.jsx("span",{style:{color:e},children:w}));y=null;c("isStringNullOrEmpty")(t)||(y=i.jsx(c("IGDSBox.react"),{marginTop:2,position:"relative",children:i.jsx(c("PolarisIGCoreText").Body2,{color:"ig-secondary-text",textAlign:x,children:t})}));a=i.jsx("div",{className:"_aarz"+(o&&!q?" _aar-":"")+(q?" _alv8":"")+(h?"":" _aar_")+(z?" _aceq":""),"data-testid":void 0,style:z?{background:g}:null,children:i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"start",position:"relative",width:"100%",children:[n,i.jsxs(c("IGDSBox.react"),{flex:"shrink",position:"relative",children:[i.jsx(c("PolarisIGCoreText"),{size:"body",textAlign:x,weight:"semibold",children:w}),y]}),u]})});e=c("usePolarisOffsiteTrackingDataURLParams")(j);j!=null?a=i.jsx(c("PolarisExternalLink.react"),{className:"_ad63","data-testid":void 0,href:j,onClick:s,queryParams:e,children:a}):s!=null&&(a=i.jsx(c("PolarisIGCoreButton"),{borderless:!0,dangerouslySetClassName:{__className:"_ad63"},onClick:function(){return s()},children:a}));t=r!==!0&&p!==!0;h=d("PolarisPanavisionQEHelpers").hasFamiliarFeed();g=(k===!0||d("PolarisUA").isMobile())&&!h;return i.jsxs("div",{className:"_aart"+(o?" _aaru":"")+(q?" _alv9":"")+(r===!0?" _aarv":"")+(l===!0?" _aarw":"")+(l===!0&&k===!0?" _aarx":"")+(h&&!z?" _ai7q":"")+(v?" _alva":"")+(v&&!q?" _aikk":"")+(f===d("PolarisPostUtils").PostFooterCTAAnimationStyle.POP_IN?" _alwd":"")+(f===d("PolarisPostUtils").PostFooterCTAAnimationStyle.SLIDE_UP?" _al_y":""),"data-testid":void 0,ref:b,style:m!=null?{height:m+"px"}:{},children:[i.jsx("div",{className:o&&t?"_aary":""}),a,g&&i.jsx("div",{className:"_aas0"+(k===!0&&l===!0?" _aas1":""),children:i.jsx("div",{className:o?"_aary":""})})]})}a.displayName=a.name+" [from "+f.id+"]";b=i.forwardRef(a);g["default"]=b}),98);
__d("PolarisIgAuthenticityConsumerFalcoEvent",["PolarisFalcoLogger"],(function(a,b,c,d,e,f,g){"use strict";var h={falco:!0,pigeon:!1};a={log:function(a){d("PolarisFalcoLogger").FalcoLogger.log("ig_authenticity_consumer",a(),{},h)}};g.InstagramAuthenticityConsumerFalcoEvent=a}),98);
__d("PolarisTransparencyLabel.react",["PolarisIGCorePressable","PolarisIgAuthenticityConsumerFalcoEvent","PolarisStoriesContext","PolarisTransparencyUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useContext,k=b.useEffect,l=b.useState;function a(a){var b=a.className,e=a.mediaId,f=a.screen;a=a.user;var g=a.id,m=a.transparencyLabel,n=a.transparencyProduct;a=l(0);var o=a[0],p=a[1];a=l(!1);var q=a[0],r=a[1],s=i(function(){d("PolarisIgAuthenticityConsumerFalcoEvent").InstagramAuthenticityConsumerFalcoEvent.log(function(){return{action:"viewed",post_id:e,product:n,screen:f,target_user_id:g}})},[e,f,n,g]);k(function(){q||(s(),r(!0))},[q,s,r]);var t=function(){return d("PolarisIgAuthenticityConsumerFalcoEvent").InstagramAuthenticityConsumerFalcoEvent.log(function(){return{action:"tapped_label",post_id:e,product:n,screen:f,target_user_id:g}})};a=j(d("PolarisStoriesContext").StoriesContext);var u=a.updateStoriesContext;a=function(){t(),u({isPlaybackDisabled:!0}),p(o+1)};var v=function(){p(0),u({isPlaybackDisabled:!1})};if(n==null)return null;v=d("PolarisTransparencyUtils").PolarisTransparencyTreatment({cacheKey:o,mediaId:e,onResumeStoryPlayback:v,screen:f,transparencyProduct:n,userId:g});return h.jsxs(h.Fragment,{children:[h.jsx(c("PolarisIGCorePressable"),{onPress:a,children:h.jsx("div",{className:b,children:m})}),o>0&&v]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisEventListenerRef",["PolarisEventListener","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef;function a(a,b,d){d===void 0&&(d={capture:!1});var e=i(null),f=i();h(function(){f.current!=null&&(e.current=c("PolarisEventListener").add(f.current,a,b,d));return function(){e.current&&(e.current.remove(),e.current=null)}},[a,b,d]);return f}g["default"]=a}),98);
__d("PolarisIgGuideEntryFalcoEvent",["PolarisFalcoLogger"],(function(a,b,c,d,e,f,g){"use strict";var h={falco:!0,pigeon:!1};a={log:function(a){d("PolarisFalcoLogger").FalcoLogger.log("guide_entry",a(),{},h)}};b=a;g["default"]=b}),98);
__d("PolarisGuideLogger",["PolarisIgGuideEntryFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.entryPoint,d=a.guideID;c("PolarisIgGuideEntryFalcoEvent").log(function(){return{entry_point:b,guide_id:d,module:"guide_detail"}})}g.logGuideEntry=a}),98);
__d("PolarisInstagramMediaMetricsFalcoEvent",["cr:4082"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:4082")}),98);
__d("PolarisInstagramMediaMetricsFalcoEvent_DEPRECATED",["PolarisFalcoLogger"],(function(a,b,c,d,e,f,g){"use strict";var h={falco:!0,pigeon:!1};a={log:function(a){d("PolarisFalcoLogger").FalcoLogger.log("instagram_media_metrics",a(),{},h)}};b=a;g["default"]=b}),98);
__d("usePolarisGNVReporter",["PolarisContainerModuleUtils","PolarisGNVManagerContext.react","react","useMergeRefs","usePolarisALTrackingData","usePolarisAnalyticsContext","usePolarisEventListenerRef"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(a){var b=c("usePolarisAnalyticsContext")(),e=d("PolarisContainerModuleUtils").getContainerModule(b),f=h(c("PolarisGNVManagerContext.react")),g=c("usePolarisALTrackingData")();b=function(b){if(b instanceof MouseEvent&&b.type==="auxclick"&&b.button!==1)return;f==null?void 0:f.setGestureTrackingData(e,a,g)};var i=c("usePolarisEventListenerRef")("click",b,{capture:!0}),j=c("usePolarisEventListenerRef")("contextmenu",b,{capture:!0});b=c("usePolarisEventListenerRef")("auxclick",b,{capture:!0});return c("useMergeRefs")(i,j,b)}g["default"]=a}),98);
__d("InstagramMediaMetricsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2312");b=d("FalcoLoggerInternal").create("instagram_media_metrics",a);e=b;g["default"]=e}),98);
__d("PolarisClickEventLoggerProvider.react",["InstagramMediaMetricsFalcoEvent","PolarisClickEventLoggerContext.react","PolarisContainerModuleUtils","PolarisFalcoLoggingMode","PolarisInstagramMediaMetricsFalcoEvent","PolarisUA","polarisOnlyHandleSingleClick","qex","react","usePolarisAnalyticsContext","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback,j=d("polarisOnlyHandleSingleClick").onlyHandleSingleClick(function(a,b,c,d,e,f){k(a,b,c,d,e,f)});function k(a,b,e,f,g,h){var i={dest_uri:a,event_trace_id:(a=f)!=null?a:c("uuidv4")(),gesture_type:g,pigeon_reserved_keyword_module:h,tracking:e,tracking_nodes:b};f=c("PolarisFalcoLoggingMode").DISTILLERY;if(!d("PolarisUA").isWindowsPWA()){f=(a=c("qex")._("236"))!=null?a:c("PolarisFalcoLoggingMode").DISTILLERY}f===c("PolarisFalcoLoggingMode").IMMEDIATELY?c("InstagramMediaMetricsFalcoEvent").logImmediately(function(){return i}):f===c("PolarisFalcoLoggingMode").NORMAL?c("InstagramMediaMetricsFalcoEvent").log(function(){return i}):f===c("PolarisFalcoLoggingMode").CRITICAL?c("InstagramMediaMetricsFalcoEvent").logCritical(function(){return i}):c("PolarisInstagramMediaMetricsFalcoEvent").log(function(){return i})}function a(a){var b=a.children;a=a.ignoreDoubleClick;var e=a===void 0?!1:a;a=c("usePolarisAnalyticsContext")();var f=d("PolarisContainerModuleUtils").getContainerModule(a);a=i(function(a,b,c,d,g){e?j(a,b,c,d,g,f):k(a,b,c,d,g,f)},[e,f]);return h.jsx(c("PolarisClickEventLoggerContext.react").Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisTrackingCodeProvider.react",["PolarisTrackingCodeContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useMemo;function a(a){var b=a.children,d=a.isSponsored,e=a.m_pk,f=a.trackingToken,g=i(c("PolarisTrackingCodeContext"));a=j(function(){var a=f.length===0?null:{isSponsored:d,m_pk:e,trackingToken:f};return[a].concat(g)},[g,f,d,e]);return h.jsx(c("PolarisTrackingCodeContext").Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisTrackingNodeProvider.react",["PolarisTrackingNodesContext","cr:4877","react","useMergeRefs"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useContext,j=e.useMemo,k=(d=b("cr:4877"))!=null?d:function(a){return null};function a(a){var b=a.children,d=a.trackingNode,e=i(c("PolarisTrackingNodesContext"));a=j(function(){return[{type:d}].concat(e)},[e,d]);var f=k(a);f=c("useMergeRefs")(f,b.ref);return h.jsx(c("PolarisTrackingNodesContext").Provider,{value:a,children:h.cloneElement(b,{ref:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("DebugOwl",["cr:1801726"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){return void 0};c=(a=b("cr:1801726"))!=null?a:{burrow:h,flap:h,fly:h,hoot:h,listen:function(){return h},nest:h,peck:h,perch:h,swoop:h};d=c;g["default"]=d}),98);/*FB_PKG_DELIM*/
__d("CentralImpressionRecord",["getStyleProperty","intersectionObserverEntryIsIntersecting"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return{impressedAt:0,invisibleReason:null,status:null,target:a,visible:!1,visiblePercentage:0}}function b(a,b){var d=a.target,e=a.boundingClientRect,f=null,g=!1;!c("intersectionObserverEntryIsIntersecting")(a)?f="NOT_IN_VIEWPORT":e==null?f="UNDEFINED_BOUNDING_RECT":e.height===0||e.width===0?f="TARGET_SIZE_0":c("getStyleProperty")(d,"opacity")==="0"?f="TARGET_TRANSPARENT":c("getStyleProperty")(d,"visibility")==="hidden"?f="TARGET_HIDDEN":g=!0;e=g===!1?0:a.intersectionRatio;var h=b.visible,i=b.impressedAt,j=null;h&&!g?j="EXIT":!h&&g?(j="ENTER",i=Date.now()):b.visiblePercentage!==e&&(j="UPDATE");return{boundingClientRect:a.boundingClientRect,impressedAt:i,intersectionRect:a.intersectionRect,invisibleReason:f,rootBounds:a.rootBounds,status:j,target:d,visible:g,visiblePercentage:e}}function h(a,b){return!a.visible?null:babelHelpers["extends"]({},a,{invisibleReason:b,status:"EXIT",visible:!1,visiblePercentage:0})}function d(a){return h(a,"PUSH_VIEW_HIDDEN")}function e(a){return h(a,"COMPONENT_UNMOUNTED")}function f(a){return h(a,"PAGE_VISIBILITY_HIDDEN")}g.initImpressionRecord=a;g.calcNextObservedRecord=b;g.calcExitRecordOnPushViewHidden=d;g.calcExitRecordOnUnmount=e;g.calcExitRecordOnViewportHidden=f}),98);
__d("calculateImpressionViewablePercentage",[],(function(a,b,c,d,e,f){"use strict";var g={height:0,width:0,x:0,y:0};function h(a,b){var c=Math.max(a.y,b.y),d=Math.min(a.y+a.height,b.y+b.height);if(c>=d)return g;var e=Math.max(a.x,b.x);a=Math.min(a.x+a.width,b.x+b.width);return e>=a?g:{height:d-c,width:a-e,x:e,y:c}}function a(a,b,c){b={height:b.height-c.top-c.bottom,width:b.width-c.left-c.right,x:b.x+c.left,y:b.y+c.top};if(a.height===0||a.width===0)return{boundingClientRect:a,rootBounds:b,visiblePercentage:1};if(b.height<=0||b.width<=0)return{boundingClientRect:a,rootBounds:b,visiblePercentage:0};c=h(b,a);return{boundingClientRect:a,intersectionRect:c,rootBounds:b,visiblePercentage:c.height*c.width/(a.height*a.width)}}f["default"]=a}),66);
__d("isImpressionTargetOccluded",["containsNode","getViewportDimensions"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){d===void 0&&(d={bottom:0,left:0,right:0,top:0});try{if(!a||!b||!document.elementFromPoint)return!1;var e=c("getViewportDimensions")();if(e.height===0||e.width===0)return!1;var f=b.x,g=b.y,h=b.width;b=b.height;h=Math.min(f+h,e.width-1);b=Math.min(g+b,e.height-1);e=[{x:f,y:g},{x:f,y:b},{x:h,y:g},{x:h,y:b},{x:(f+h)/2,y:(g+b)/2}];d.top!==0&&d.top>g&&d.top<b&&e.push({x:(f+h)/2,y:(d.top+b)/2});return e.every(function(b){b=document.elementFromPoint(b.x,b.y);b=!!b&&!c("containsNode")(b,a)&&!c("containsNode")(a,b);return b})}catch(a){return!1}}g["default"]=a}),98);
__d("calcNextImpressionSnapshotRecord",["Visibility","calculateImpressionViewablePercentage","getElementPosition","getStyleProperty","getViewportDimensions","gkx","isImpressionTargetOccluded"],(function(a,b,c,d,e,f,g){"use strict";var h={bottom:0,left:0,right:0,top:0};function i(a){if(a==null||document.documentElement==null)return null;a=a.parentElement;while(a!=null){if(a===document.documentElement||a.nodeType!==1)return null;if(c("getStyleProperty")(a,"position")==="absolute"&&c("getStyleProperty")(a,"overflow")!=="visible")return a;a=a.parentElement}return null}function a(a,b,d){d===void 0&&(d={});if(c("gkx")("2637")&&d.isCometHiddenSubtree)return{impressedAt:b.impressedAt,invisibleReason:"PUSH_VIEW_HIDDEN",status:b.visible?"EXIT":null,target:a,visible:!1,visiblePercentage:0};var e=c("getElementPosition")(a),f=babelHelpers["extends"]({x:0,y:0},c("getViewportDimensions")()),g=c("calculateImpressionViewablePercentage")(e,f,h),j=!1;if(g.visiblePercentage>0){var k=i(a);k!=null&&g.intersectionRect!=null&&(j=!0,g=c("calculateImpressionViewablePercentage")(g.intersectionRect,c("getElementPosition")(k),h))}k=d;k=k.viewportMargin;j=k&&!j?c("calculateImpressionViewablePercentage")(e,f,k):g;j.visiblePercentage;f=babelHelpers.objectWithoutPropertiesLoose(j,["visiblePercentage"]);g=g;var l=g.intersectionRect;g=g.visiblePercentage;var m=null,n=!1;g<=0?m="NOT_IN_VIEWPORT":l&&c("isImpressionTargetOccluded")(a,l,k||h)?m=j.visiblePercentage===0?"OCCLUDED_BY_MARGIN":d.isCometHiddenSubtree===!0?"PUSH_VIEW_HIDDEN":"OCCLUSION_DETECTED":c("Visibility").isHidden()?m="PAGE_VISIBILITY_HIDDEN":e.height===0||e.width===0?m="TARGET_SIZE_0":c("getStyleProperty")(a,"opacity")==="0"?m="TARGET_TRANSPARENT":c("getStyleProperty")(a,"visibility")==="hidden"?m="TARGET_HIDDEN":n=!0;g=n===!1?0:j.visiblePercentage;l=b.visible;k=b.impressedAt;d=null;l&&!n?d="EXIT":!l&&n?(d="ENTER",k=Date.now()):b.visiblePercentage!==g&&(d="UPDATE");return babelHelpers["extends"]({impressedAt:k,invisibleReason:m,status:d,target:a,visible:n,visiblePercentage:g},f)}g["default"]=a}),98);
__d("CentralImpressionScrollBasedTracker",["CentralImpressionRecord","CometThrottle","ImpressionLoggingTimerThreshold","Visibility","calcNextImpressionSnapshotRecord","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e,f){var g=this;e===void 0&&(e=null);f===void 0&&(f={});this.THROTTLE_TIMEOUT=c("ImpressionLoggingTimerThreshold").THROTTLE_TIMEOUT;this.takeSnapshot=c("CometThrottle")(function(){if(g.$3==null||g.$8===!0)return;var a=c("calcNextImpressionSnapshotRecord")(g.$3,g.$2,g.$7);g.$9(a)},this.THROTTLE_TIMEOUT);this.takeSnapshotWithDoubleRaf=c("CometThrottle")(function(){if(g.$3==null||g.$8===!0)return;var a=c("calcNextImpressionSnapshotRecord")(g.$3,g.$2,g.$7);g.$9(a)},this.THROTTLE_TIMEOUT);this.$5=e;this.$2=d("CentralImpressionRecord").initImpressionRecord(a);this.$1=b;this.$3=a;this.$7=f;this.$8=!1;c("setTimeout")(this.takeSnapshotWithDoubleRaf,0);document.addEventListener("scroll",this.takeSnapshotWithDoubleRaf,{capture:!0,passive:!0});window.addEventListener("resize",this.takeSnapshotWithDoubleRaf,{capture:!0,passive:!0});"MutationObserver"in window&&(this.$6=new MutationObserver(this.takeSnapshotWithDoubleRaf),this.$6.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}));this.$4=[c("Visibility").addListener(c("Visibility").HIDDEN,this.takeSnapshot),c("Visibility").addListener(c("Visibility").VISIBLE,this.takeSnapshot)]}var b=a.prototype;b.getOptionalUniqueID=function(){return this.$5};b.peek=function(){return this.$2};b.setIsCometHiddenInSubtree=function(a){this.$7.isCometHiddenSubtree=a};b.remove=function(){document.removeEventListener("scroll",this.takeSnapshotWithDoubleRaf,{capture:!0,passive:!0}),window.removeEventListener("resize",this.takeSnapshotWithDoubleRaf,{capture:!0,passive:!0}),this.$6&&this.$6.disconnect(),this.$4.forEach(function(a){return a.remove()}),this.$8=!0};b.unmount=function(){var a=d("CentralImpressionRecord").calcExitRecordOnUnmount(this.$2);a!=null&&this.$9(a);this.remove()};b.update=function(a,b,c){c===void 0&&(c={}),this.$1=b,this.$3=a,this.$7=babelHelpers["extends"]({},this.$7,c)};b.$9=function(a){var b=this.$2;this.$2=a;a.status!=null&&this.$1(a,this,b,this.$7.isAdRefresh||!1)};return a}();g["default"]=a}),98);
__d("useScrollBasedImpressionTracker",["BaseViewportMarginsContext","CentralImpressionScrollBasedTracker","HiddenSubtreePassiveContext","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");b=d("react");var h=b.useCallback,i=b.useContext,j=b.useEffect,k=b.useRef;function a(a,b){var d=k(null),e=k(null),f=i(c("BaseViewportMarginsContext")),g=k(null),l=i(c("HiddenSubtreePassiveContext")),m=h(function(b){if(d.current==null)return;if(e.current==null||b!=null&&e.current.getOptionalUniqueID()!==b){var h=!1;e.current!=null&&(e.current.unmount(),e.current=null,h=!0);e.current=new(c("CentralImpressionScrollBasedTracker"))(d.current,a,b,{isAdRefresh:h,isCometHiddenSubtree:l.getCurrentState().hiddenOrBackgrounded_FIXME,viewportMargin:f});g.current!=null&&(g.current.remove(),g.current=null);g.current=l.subscribeToChanges(function(a){e.current!=null&&e.current.setIsCometHiddenInSubtree(a.hiddenOrBackgrounded_FIXME)})}else e.current.update(d.current,a,{isCometHiddenSubtree:l.getCurrentState().hiddenOrBackgrounded_FIXME,viewportMargin:f})},[l,a,f]),n=h(function(a){d.current!==a&&a!=null&&(d.current=a,m(b))},[m,b]);j(function(){return function(){e.current!=null&&(e.current.unmount(),e.current=null),g.current!=null&&(g.current.remove(),g.current=null)}},[]);j(function(){m(b)},[m,b]);return n}g["default"]=a}),98);
__d("PolarisSponsoredBlockedElStore",[],(function(a,b,c,d,e,f){"use strict";var g=new Set();function a(a){g.add(a)}function b(a){return g.has(a)}function c(a){return g["delete"](a)}function d(){return g.size>0}f.m=a;f.c=b;f.d=c;f.b=d}),66);
__d("PolarisSponsoredElDisplayMonitor",["clearTimeout","cometGHLContentDisplayCheck","setTimeoutCometLoggingPri"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set(),i=1e3,j=null;a=function(a){h.has(a)||h.add(a);j===null&&k();return{dispose:function(){h["delete"](a),h.size===0&&(c("clearTimeout")(j),j=null)}}};var k=function a(){h.forEach(function(a,b){a=b.onLogBlockCallback;var d=b.startTime;b=b.targetRef;b=b.current;if(b==null)return;b=c("cometGHLContentDisplayCheck")(b);if(!b){b=Date.now()-d;a(b)}}),j=c("setTimeoutCometLoggingPri")(a,i)};g.m=a}),98);
__d("usePolarisSponsoredElTracker",["IgWebSwankFalcoEvent","PolarisSponsoredBlockedElStore","PolarisSponsoredElDisplayMonitor","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useRef;function a(a){var b=a.mediaType,e=a.position,f=a.postId,g=a.trackingToken,k=j(null),l=j(!1),m=h(function(a){if(l.current)return;l.current=!0;c("IgWebSwankFalcoEvent").log(function(){return{en:String(0),hd:String(a),mt:String(b),sli:String(e),tt:g}});var f=k.current;f!==null&&d("PolarisSponsoredBlockedElStore").m(f)},[b,e,g]);i(function(){var a=k.current;return function(){a&&d("PolarisSponsoredBlockedElStore").d(a)}},[k,e,f]);i(function(){var a=null,b=Date.now();if(k===null)return;if(l.current===!0)return;a=d("PolarisSponsoredElDisplayMonitor").m({onLogBlockCallback:m,startTime:b,targetRef:k});return function(){a&&a.dispose()}},[k,f,l,m]);return k}g["default"]=a}),98);
__d("InstagramAdSubImpressionSecondChannelFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2965");b=d("FalcoLoggerInternal").create("instagram_ad_sub_impression_second_channel",a);e=b;g["default"]=e}),98);
__d("PolarisStoryMediaLayout.react",["cx","invariant","PolarisReactRedux","PolarisResponsiveBlock.react","PolarisStoriesContext","PolarisUA","polarisDisplayPropertiesSelectors","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=1.3,l=1;b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={height:0,width:0},c.$2=function(a,b){var d=c.props.intrinsicDimensions,e=c.$1()?l:k;a=a;b=b;var f=a/b;d=d.width/d.height;f/d>e||d/f>e?f>d?a=b*d:b=a/d:f>d?b=a/d:a=b*d;c.setState({height:b,width:a});c.context.updateStoriesContext({mediaDimensions:{height:b,width:a}})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.$1=function(){var a=this.props.isTallDevice;return a&&d("PolarisUA").isMobile()};e.render=function(){var a=this.props,b=a.children;a=a.style;typeof b==="function"||i(0,51418);var e=this.state,f=e.height;e=e.width;var g=null;if(e!==0&&f!==0){var h={className:"_aa63",layoutHeight:f,layoutWidth:e};g=j.jsx("div",{className:"_aa64",style:{height:f,width:e},children:b(h)})}return j.jsx(c("PolarisResponsiveBlock.react"),{className:"_aa65"+(d("PolarisUA").isDesktop()?" _aa66":""),onResize:this.$2,style:a,children:g})};return b}(j.Component);b.contextType=d("PolarisStoriesContext").StoriesContext;function a(a){return{isTallDevice:d("polarisDisplayPropertiesSelectors").getIsTallDevice(a)}}e=d("PolarisReactRedux").connect(a)(b);g["default"]=e}),98);
__d("PolarisMediaPrefetcher.react",["cx","PolarisLogger","PolarisResponsiveImage.react","PolarisResponsiveVideo.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j="PREFETCHED_IMAGE";b="PREFETCHED_VIDEO";var k=new Set(),l=new Set(),m=new Set(),n=[],o=10*1e3;e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var c,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(c=e=a.call.apply(a,[this].concat(g))||this,e.state={next:null},e.$4=function(a){return k.has(a)||l.has(a)},e.$1=function(){if(e.props.postIds==null)return!1;for(var a=e.props.resources,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(!e.$4(d.id))return!1}return!0},e.$3=function(){var a=e.state.next;if(a!=null&&!m.has(a.id)){var b=window.setTimeout(function(){k.has(a.id)||e.$5(a.id)},o);m.add(a.id);n.push(b)}},e.$2=function(){e.props.resources.length>0&&d("PolarisLogger").logAction("mediaPrefetchComplete",{eligibleResourceCount:e.props.resources.length,successCount:k.size,timeoutCount:l.size,viewKey:e.props.viewKey}),e.props.onLoadComplete!=null&&e.props.onLoadComplete()},e.$5=function(a){d("PolarisLogger").logAction("mediaPrefetchTimedOut",{resource:e.state.next}),l.add(a),m["delete"](a),e.setState(b.prefetchNext(e.props)),e.$1()&&e.$2()},e.$6=function(){var a=e.state.next;a!=null&&(d("PolarisLogger").logAction("mediaPrefetchSuccess",{resource:e.state.next}),k.add(a.id),e.setState(b.prefetchNext(e.props)));e.$1()&&e.$2()},c)||babelHelpers.assertThisInitialized(e)}b.getDerivedStateFromProps=function(a){return b.prefetchNext(a)};var e=b.prototype;e.componentDidMount=function(){this.$1()?this.$2():this.$3()};e.componentDidUpdate=function(){this.$3()};e.componentWillUnmount=function(){m.clear();l.clear();for(var a=0;a<n.length;a++){var b=n[a];window.clearTimeout(b)}n.length=0};e.shouldComponentUpdate=function(a,b){return this.props.enabled!==a.enabled||this.state.next!==b.next};b.prefetchNext=function(a){var b=a.enabled;a=a.resources;if(!b)return null;for(var b=a,a=Array.isArray(b),c=0,b=a?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(a){if(c>=b.length)break;d=b[c++]}else{c=b.next();if(c.done)break;d=c.value}d=d;if(k.has(d.id)||l.has(d.id))continue;return{next:d}}return{next:null}};e.render=function(){var a=this.props,b=a.currentPostId,d=a.enabled;a=a.layoutWrapper;var e=this.state.next;if(e==null||!d)return null;d=!this.$4(e.id)&&(b==null||b!=null&&b!==e.id);b=d&&(e.type===j?i.jsx(c("PolarisResponsiveImage.react"),{className:"_ac9q",onError:this.$6,onLoad:this.$6,src:e.src,srcSet:e.srcSet},e.src):i.jsx(c("PolarisResponsiveVideo.react"),{className:"_ac9q",onError:this.$6,onLoaded:this.$6,preloadOnly:!0,sources:e.srcSet},e.src));return i.jsx(a,{resource:e,children:b})};return b}(i.Component);e.defaultProps={enabled:!0,layoutWrapper:function(a){a=a.children;return a}};function a(){k.clear(),m.clear(),l.clear()}g.PREFETCHED_IMAGE=j;g.PREFETCHED_VIDEO=b;g.TIMEOUT_DURATION=o;g.MediaPrefetcher=e;g._resetState=a}),98);
__d("PolarisVideoPreloader.react",["react","useStable"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=d("react").useEffect;function i(a){var b=c("useStable")(function(){return new XMLHttpRequest()}),d=a.onError,e=a.onLoaded,f=a.onTimeout,g=a.src,i=a.timeout;h(function(){b.open("GET",g,!0);b.responseType="blob";b.onload=function(){b.status===200?e():d()};f!=null&&(b.ontimeout=f);b.timeout=i*1e3;b.send();return function(){b.abort()}},[d,e,f,g,i,b])}function a(a){i(a);return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisResponsiveVideo.react",["PolarisBatchDOM","PolarisMediaPrefetcher.react","PolarisVideoPreloader.react","PolarisVideoResource","UserAgent","nullthrows","polarisGetCrossOriginAttribute","polarisUnexpected","polarisWithForwardRef","polarisWithRemountOnChange","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.$5=function(a){c.$1=a,c.props.videoRef&&c.props.videoRef(a)};c.state={width:null};return c}var e=b.prototype;e.$3=function(){return c("nullthrows")(this.$1).getBoundingClientRect().width};e.$4=function(){var a=this.$3(),b=window.devicePixelRatio||1;return a*b};e.$6=function(a,b,c){if(a==null)return b;if(a.configWidth<c&&b.configWidth>a.configWidth)return b;return b.configWidth>c&&b.configWidth<=a.configWidth?b:a};e.$7=function(a){var b=null,e=null,f=[];for(var g=this.props.sources,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=g.length)break;j=g[i++]}else{i=g.next();if(i.done)break;j=i.value}j=j;switch(j.profile){case d("PolarisVideoResource").PROFILE_MAIN:b=this.$6(b,j,a);break;case d("PolarisVideoResource").PROFILE_BASELINE:e=this.$6(e,j,a);break;default:c("polarisUnexpected")("got video candidate without a supported profile: "+String(j.profile)),f.push(j)}}return[].concat(b!=null?[b]:[],e!=null?[e]:[],f)};e.componentDidMount=function(){var a=this;d("PolarisBatchDOM").measure(function(){if(a.$2)return;var b=a.$4();d("PolarisBatchDOM").mutate(function(){if(a.$2)return;a.setState({width:b})})})};e.componentWillUnmount=function(){this.$2=!0};e.render=function(){var a=this.state.width,b=this.props,e=b.autoPlay,f=b.className,g=b.forwardedRef,i=b.preloadOnly;b.sources;var j=b.style;b.videoRef;b=babelHelpers.objectWithoutPropertiesLoose(b,["autoPlay","className","forwardedRef","preloadOnly","sources","style","videoRef"]);b=Object.freeze(babelHelpers["extends"]({},b,e!=null?{autoPlay:e}:{}));if(a==null)return h.jsx("video",{className:f,crossOrigin:c("polarisGetCrossOriginAttribute")(),ref:this.$5,style:j});else if(i){i=this.props;var k=i.onError;i=i.onLoaded;var l=this.$7(a);return k!=null&&i!=null&&h.jsx(c("PolarisVideoPreloader.react"),{onError:k,onLoaded:i,src:l[0].src,timeout:d("PolarisMediaPrefetcher.react").TIMEOUT_DURATION})}else if(e===!0&&c("UserAgent").isBrowser("Safari >= 15"))return h.jsx("video",babelHelpers["extends"]({className:f,crossOrigin:c("polarisGetCrossOriginAttribute")(),ref:g||this.$5,style:j},b,{src:this.$7(a)[0].src}));return h.jsx("video",babelHelpers["extends"]({className:f,crossOrigin:c("polarisGetCrossOriginAttribute")(),ref:g||this.$5,style:j},b,{children:this.$7(a).map(function(a,b){return h.jsx("source",{src:a.src,type:a.mimeType},b)})}))};return b}(h.PureComponent);function a(a,b){a=a.sources;b=b.sources;if(a===b)return!1;if(a.length!==b.length)return!0;for(var c=0;c<a.length;++c)if(a[c].src!==b[c].src)return!0;return!1}e=c("polarisWithForwardRef")(c("polarisWithRemountOnChange")(a)(b));g["default"]=e}),98);
__d("PolarisMediaPrefetchContainer.react",["PolarisMediaPrefetcher.react","PolarisPostUtils","PolarisReactRedux","nullthrows","polarisPostSelectors","polarisStorySelectors","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=[];function i(a){if(a.isVideo===!0)return null;return a.src!=null&&a.src!==""&&a.displayResources?{type:d("PolarisMediaPrefetcher.react").PREFETCHED_IMAGE,id:a.id,src:a.src,srcSet:a.displayResources,intrinsicDimensions:c("nullthrows")(a.dimensions)}:null}function j(a){var b=a.sidecarChildren;if(b!=null&&b.length){var c=d("PolarisPostUtils").getInitialSidecarIndexFromPost(a);return i(b[c])}return i(a)}function a(a,b){var c=b.getResourceFromPost||j,e=d("polarisStorySelectors").getCurrentReel(a),f=a.stories.currentReelItemIndex;e=e!=null&&e.itemIds!=null?e.itemIds[f]:null;return{currentPostId:e,enabled:b.viewKey==null||!!a.mediaPrefetches.isEnabledForView[b.viewKey],resources:(b.postIds||h).map(function(b){b=d("polarisPostSelectors").getPostOrNullById(a,b);return b?c(b):null}).filter(Boolean)}}b=d("PolarisReactRedux").connect(a)(d("PolarisMediaPrefetcher.react").MediaPrefetcher);g["default"]=b}),98);
__d("PolarisStoryMediaPrefetcher.react",["cx","PolarisMediaPrefetchContainer.react","PolarisMediaPrefetcher.react","PolarisReactRedux","PolarisStoryMediaLayout.react","nullthrows","polarisStorySelectors","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback,k="storyMedia";function l(){return function(a,b){if(d("polarisStorySelectors").isReelItemExpired(a.expiringAt,b))return null;b=Boolean(a.src!=null&&a.dimensions!=null);return b&&a.isVideo===!1&&a.displayResources?{id:a.id,intrinsicDimensions:c("nullthrows")(a.dimensions),src:c("nullthrows")(a.src),srcSet:c("nullthrows")(a.displayResources),type:d("PolarisMediaPrefetcher.react").PREFETCHED_IMAGE}:null}}function m(a){var b=a.children;a=a.resource;return i.jsx(c("PolarisStoryMediaLayout.react"),{intrinsicDimensions:a.intrinsicDimensions,children:function(a){a=a.className;return i.jsx("div",{className:a,children:b})}})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.prefetchContext;a=d("PolarisReactRedux").useSelector(function(a){return d("polarisStorySelectors").getPrefetchablePostIds(a,b)});var e=d("PolarisReactRedux").useDispatch(),f=j(function(){b==="feed"&&e({type:"FEED_PAGE_STORY_PREFETCH_COMPLETE"})},[e,b]);return i.jsx("div",{className:"_aag2",children:i.jsx(c("PolarisMediaPrefetchContainer.react"),{getResourceFromPost:l(),layoutWrapper:m,onLoadComplete:f,postIds:a.toArray(),viewKey:k})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/9cisb7Fe7ih/
 */
__d("hyphenate-style-name-1.0.4",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a=/[A-Z]/g,b=/^ms-/,c={};function d(a){return"-"+a.toLowerCase()}function e(e){if(c.hasOwnProperty(e))return c[e];var f=e.replace(a,d);return c[e]=b.test(f)?"-"+f:f}g.exports=e}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("isobject-3.0.1",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){g.exports=function(a){return a!=null&&typeof a==="object"&&Array.isArray(a)===!1}}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("css-in-js-utils-2.0.1",["isobject-3.0.1","hyphenate-style-name-1.0.4"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("isobject-3.0.1")),h=a(b("hyphenate-style-name-1.0.4")),i={},j={exports:i};function k(){Object.defineProperty(i,"__esModule",{value:!0});i["default"]=d;var a=g(),b=c(a);function c(a){return a&&a.__esModule?a:{"default":a}}function d(a){for(var c=arguments.length,e=Array(c>1?c-1:0),f=1;f<c;f++)e[f-1]=arguments[f];for(var g=0,h=e.length;g<h;++g){var i=e[g];for(var j in i){var k=i[j],l=a[j];if(b["default"](k)){a[j]=d({},l,k);continue}a[j]=k}}return a}j.exports=i["default"]}var l=!1;function aa(){l||(l=!0,k());return j.exports}var m={},n={exports:m};function ba(){Object.defineProperty(m,"__esModule",{value:!0});m["default"]=c;var a=/-([a-z])/g,b=/^Ms/g;function c(c){return c.replace(a,function(a){return a[1].toUpperCase()}).replace(b,"ms")}n.exports=m["default"]}var o=!1;function p(){o||(o=!0,ba());return n.exports}var q={},r={exports:q};function ca(){Object.defineProperty(q,"__esModule",{value:!0});q["default"]=a;a=h();var b=c(a);function c(a){return a&&a.__esModule?a:{"default":a}}function a(a){return b["default"](a)}r.exports=q["default"]}var s=!1;function t(){s||(s=!0,ca());return r.exports}var u={},v={exports:u};function da(){Object.defineProperty(u,"__esModule",{value:!0});u["default"]=c;c=t();var a=b(c);function b(a){return a&&a.__esModule?a:{"default":a}}function c(b,c){return a["default"](b)+":"+c}v.exports=u["default"]}var w=!1;function x(){w||(w=!0,da());return v.exports}var y={},z={exports:y};function ea(){Object.defineProperty(y,"__esModule",{value:!0});y["default"]=c;c=x();var a=b(c);function b(a){return a&&a.__esModule?a:{"default":a}}function c(b){var c="";for(var d in b){var e=b[d];if(typeof e!=="string"&&typeof e!=="number")continue;c&&(c+=";");c+=a["default"](d,e)}return c}z.exports=y["default"]}var A=!1;function fa(){A||(A=!0,ea());return z.exports}var B={},C={exports:B};function ga(){Object.defineProperty(B,"__esModule",{value:!0});B["default"]=b;var a=/^(Webkit|Moz|O|ms)/;function b(b){return a.test(b)}C.exports=B["default"]}var D=!1;function ha(){D||(D=!0,ga());return C.exports}var E={},F={exports:E};function ia(){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=b;var a=/-webkit-|-moz-|-ms-/;function b(b){return typeof b==="string"&&a.test(b)}F.exports=E["default"]}var G=!1;function H(){G||(G=!0,ia());return F.exports}var I={},J={exports:I};function ja(){Object.defineProperty(I,"__esModule",{value:!0});I["default"]=j;j=t();a=a(j);function a(a){return a&&a.__esModule?a:{"default":a}}var b={borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};j=["animationIterationCount","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridRow","gridColumn","order","lineClamp"];var c=["Webkit","ms","Moz","O"];function d(b,a){return b+a.charAt(0).toUpperCase()+a.slice(1)}for(var e=0,f=j.length;e<f;++e){var g=j[e];b[g]=!0;for(var h=0,i=c.length;h<i;++h)b[d(c[h],g)]=!0}for(h in b)b[a["default"](h)]=!0;function j(a){return b.hasOwnProperty(a)}J.exports=I["default"]}var K=!1;function ka(){K||(K=!0,ja());return J.exports}var L={},M={exports:L};function la(){Object.defineProperty(L,"__esModule",{value:!0});L["default"]=b;var a=/^(ms|Webkit|Moz|O)/;function b(b){b=b.replace(a,"");return b.charAt(0).toLowerCase()+b.slice(1)}M.exports=L["default"]}var N=!1;function O(){N||(N=!0,la());return M.exports}var P={},Q={exports:P};function ma(){Object.defineProperty(P,"__esModule",{value:!0});P["default"]=d;d=p();var a=c(d);d=O();var b=c(d);function c(a){return a&&a.__esModule?a:{"default":a}}function d(c){return b["default"](a["default"](c))}Q.exports=P["default"]}var R=!1;function na(){R||(R=!0,ma());return Q.exports}var S={},T={exports:S};function oa(){Object.defineProperty(S,"__esModule",{value:!0});S["default"]=a;a=t();var b=c(a);function c(a){return a&&a.__esModule?a:{"default":a}}function a(a,c){a=b["default"](a);return c.join(";"+a+":")}T.exports=S["default"]}var U=!1;function pa(){U||(U=!0,oa());return T.exports}var V={},W={exports:V};function qa(){Object.defineProperty(V,"__esModule",{value:!0});V["default"]=b;var a=/(-ms-|-webkit-|-moz-|-o-)/g;function b(b){return typeof b==="string"?b.replace(a,""):b}W.exports=V["default"]}var X=!1;function ra(){X||(X=!0,qa());return W.exports}var Y={},Z={exports:Y};function sa(){Object.defineProperty(Y,"__esModule",{value:!0});var a=aa();a=m(a);var b=p();b=m(b);var c=x();c=m(c);var d=fa();d=m(d);var e=t();e=m(e);var f=ha();f=m(f);var g=H();g=m(g);var h=ka();h=m(h);var i=na();i=m(i);var j=pa();j=m(j);var k=O();k=m(k);var l=ra();m=m(l);function m(a){return a&&a.__esModule?a:{"default":a}}Y["default"]={assignStyle:a["default"],camelCaseProperty:b["default"],cssifyDeclaration:c["default"],cssifyObject:d["default"],hyphenateProperty:e["default"],isPrefixedProperty:f["default"],isPrefixedValue:g["default"],isUnitlessProperty:h["default"],normalizeProperty:i["default"],resolveArrayValue:j["default"],unprefixProperty:k["default"],unprefixValue:m["default"]};Z.exports=Y["default"]}var $=!1;function ta(){$||($=!0,sa());return Z.exports}d={};var ua={exports:d};function va(){var b=/[A-Z]/g,c=/^ms-/,d={};function e(a){return"-"+a.toLowerCase()}function a(a){if(d.hasOwnProperty(a))return d[a];var f=a.replace(b,e);return d[a]=c.test(f)?"-"+f:f}ua.exports=a}var wa=!1;function xa(){wa||(wa=!0,va());return ua.exports}function ya(a){return xa(a)}function za(a,b){return b.join(";"+ya(a)+":")}function c(a){switch(a){case void 0:return ta();case"/lib/hyphenateProperty":return t();case"/lib/isPrefixedValue":return H();case"/es/resolveArrayValue":return za()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("inline-style-prefixer-5.1.0",["css-in-js-utils-2.0.1"],(function(a,b,c,d,e,f){"use strict";var g=b("css-in-js-utils-2.0.1"),h={},i={exports:h};function j(){Object.defineProperty(h,"__esModule",{value:!0});h["default"]=a;function a(a){return a.charAt(0).toUpperCase()+a.slice(1)}}var k=!1;function l(){k||(k=!0,j());return i.exports}var m={},n={exports:m};function o(){Object.defineProperty(m,"__esModule",{value:!0});m["default"]=c;c=l();var a=b(c);function b(a){return a&&a.__esModule?a:{"default":a}}function c(b,c,d){if(b.hasOwnProperty(c)){var e={};b=b[c];var f=a["default"](c),g=Object.keys(d);for(var h=0;h<g.length;h++){var i=g[h];if(i===c)for(var j=0;j<b.length;j++)e[b[j]+f]=d[c];e[i]=d[i]}return e}return d}}var p=!1;function aa(){p||(p=!0,o());return n.exports}var q={},ba={exports:q};function ca(){Object.defineProperty(q,"__esModule",{value:!0});q["default"]=a;function a(a,b,c,d,e){for(var f=0,g=a.length;f<g;++f){var h=a[f](b,c,d,e);if(h)return h}}}var r=!1;function da(){r||(r=!0,ca());return ba.exports}var s={},ea={exports:s};function fa(){Object.defineProperty(s,"__esModule",{value:!0});s["default"]=b;function a(a,b){a.indexOf(b)===-1&&a.push(b)}function b(b,c){if(Array.isArray(c))for(var d=0,e=c.length;d<e;++d)a(b,c[d]);else a(b,c)}}var t=!1;function ga(){t||(t=!0,fa());return ea.exports}var u={},ha={exports:u};function ia(){Object.defineProperty(u,"__esModule",{value:!0});u["default"]=a;function a(a){return a instanceof Object&&!Array.isArray(a)}}var v=!1;function ja(){v||(v=!0,ia());return ha.exports}var w={},ka={exports:w};function la(){Object.defineProperty(w,"__esModule",{value:!0});w["default"]=f;f=aa();var a=e(f);f=da();var b=e(f);f=ga();var c=e(f);f=ja();var d=e(f);function e(a){return a&&a.__esModule?a:{"default":a}}function f(e){var f=e.prefixMap,g=e.plugins;return function e(h){for(var i in h){var j=h[i];if(d["default"](j))h[i]=e(j);else if(Array.isArray(j)){var k=[];for(var l=0,m=j.length;l<m;++l){var n=b["default"](g,i,j[l],h,f);c["default"](k,n||j[l])}k.length>0&&(h[i]=k)}else{n=b["default"](g,i,j,h,f);n&&(h[i]=n);h=a["default"](f,i,h)}}return h}}}var x=!1;function ma(){x||(x=!0,la());return ka.exports}var y={},na={exports:y};function oa(){Object.defineProperty(y,"__esModule",{value:!0});var a=["Webkit"],b=["Moz"],c=["ms"],d=["Webkit","Moz"],e=["Webkit","ms"],f=["Webkit","Moz","ms"];y["default"]={plugins:[],prefixMap:{appearance:d,textEmphasisPosition:a,textEmphasis:a,textEmphasisStyle:a,textEmphasisColor:a,boxDecorationBreak:a,maskImage:a,maskMode:a,maskRepeat:a,maskPosition:a,maskClip:a,maskOrigin:a,maskSize:a,maskComposite:a,mask:a,maskBorderSource:a,maskBorderMode:a,maskBorderSlice:a,maskBorderWidth:a,maskBorderOutset:a,maskBorderRepeat:a,maskBorder:a,maskType:a,textDecorationStyle:a,textDecorationSkip:a,textDecorationLine:a,textDecorationColor:a,userSelect:f,backdropFilter:a,fontKerning:a,scrollSnapType:e,scrollSnapPointsX:e,scrollSnapPointsY:e,scrollSnapDestination:e,scrollSnapCoordinate:e,clipPath:a,shapeImageThreshold:a,shapeImageMargin:a,shapeImageOutside:a,filter:a,hyphens:e,flowInto:e,flowFrom:e,breakBefore:e,breakAfter:e,breakInside:e,regionFragment:e,writingMode:e,textOrientation:a,tabSize:b,fontFeatureSettings:a,columnCount:a,columnFill:a,columnGap:a,columnRule:a,columnRuleColor:a,columnRuleStyle:a,columnRuleWidth:a,columns:a,columnSpan:a,columnWidth:a,wrapFlow:c,wrapThrough:c,wrapMargin:c,textSizeAdjust:e}}}var z=!1;function pa(){z||(z=!0,oa());return na.exports}var A={},qa={exports:A};function ra(){Object.defineProperty(A,"__esModule",{value:!0});A["default"]=a;function a(a,b){if(typeof b==="string"&&b==="text")return["-webkit-text","text"]}}var B=!1;function C(){B||(B=!0,ra());return qa.exports}var D={},sa={exports:D};function ta(){Object.defineProperty(D,"__esModule",{value:!0});D["default"]=c;var a=["-webkit-","-moz-",""],b={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};function c(c,d){if(c==="cursor"&&b.hasOwnProperty(d))return a.map(function(a){return a+d})}}var E=!1;function F(){E||(E=!0,ta());return sa.exports}var G={},ua={exports:G};function va(){Object.defineProperty(G,"__esModule",{value:!0});G["default"]=d;d=g("/lib/isPrefixedValue");var a=b(d);function b(a){return a&&a.__esModule?a:{"default":a}}var c=["-webkit-",""];function d(b,d){if(typeof d==="string"&&!a["default"](d)&&d.indexOf("cross-fade(")>-1)return c.map(function(a){return d.replace(/cross-fade\(/g,a+"cross-fade(")})}}var H=!1;function I(){H||(H=!0,va());return ua.exports}var J={},wa={exports:J};function xa(){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=d;d=g("/lib/isPrefixedValue");var a=b(d);function b(a){return a&&a.__esModule?a:{"default":a}}var c=["-webkit-",""];function d(b,d){if(typeof d==="string"&&!a["default"](d)&&d.indexOf("filter(")>-1)return c.map(function(a){return d.replace(/filter\(/g,a+"filter(")})}}var K=!1;function L(){K||(K=!0,xa());return wa.exports}var M={},ya={exports:M};function za(){Object.defineProperty(M,"__esModule",{value:!0});M["default"]=b;var a={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]};function b(b,c){if(b==="display"&&a.hasOwnProperty(c))return a[c]}}var N=!1;function O(){N||(N=!0,za());return ya.exports}var P={},Aa={exports:P};function Ba(){Object.defineProperty(P,"__esModule",{value:!0});P["default"]=c;var a={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},b={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines",flexGrow:"WebkitBoxFlex"};function c(c,d,e){c==="flexDirection"&&typeof d==="string"&&(d.indexOf("column")>-1?e.WebkitBoxOrient="vertical":e.WebkitBoxOrient="horizontal",d.indexOf("reverse")>-1?e.WebkitBoxDirection="reverse":e.WebkitBoxDirection="normal"),b.hasOwnProperty(c)&&(e[b[c]]=a[d]||d)}}var Q=!1;function R(){Q||(Q=!0,Ba());return Aa.exports}var S={},Ca={exports:S};function Da(){Object.defineProperty(S,"__esModule",{value:!0});S["default"]=e;e=g("/lib/isPrefixedValue");var a=b(e);function b(a){return a&&a.__esModule?a:{"default":a}}var c=["-webkit-","-moz-",""],d=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/gi;function e(b,e){if(typeof e==="string"&&!a["default"](e)&&d.test(e))return c.map(function(a){return e.replace(d,function(b){return a+b})})}}var Ea=!1;function Fa(){Ea||(Ea=!0,Da());return Ca.exports}var T={},Ga={exports:T};function Ha(){Object.defineProperty(T,"__esModule",{value:!0});var a=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g=a[Symbol.iterator](),a;!(d=(a=g.next()).done);d=!0){c.push(a.value);if(b&&c.length===b)break}}catch(a){e=!0,f=a}finally{try{!d&&g["return"]&&g["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;else if(Symbol.iterator in Object(b))return a(b,c);else throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();T["default"]=f;function b(a){return typeof a==="number"&&!isNaN(a)}var c=["center","end","start","stretch"],d={"inline-grid":["-ms-inline-grid","inline-grid"],grid:["-ms-grid","grid"]},e={alignSelf:function(a,b){c.indexOf(a)>-1&&(b.msGridRowAlign=a)},gridColumn:function(c,d){if(b(c))d.msGridColumn=c;else{c=c.split("/").map(function(a){return+a});c=a(c,2);var f=c[0];c=c[1];e.gridColumnStart(f,d);e.gridColumnEnd(c,d)}},gridColumnEnd:function(a,c){var d=c.msGridColumn;b(a)&&b(d)&&(c.msGridColumnSpan=a-d)},gridColumnStart:function(a,c){b(a)&&(c.msGridColumn=a)},gridRow:function(c,d){if(b(c))d.msGridRow=c;else{c=c.split("/").map(function(a){return+a});c=a(c,2);var f=c[0];c=c[1];e.gridRowStart(f,d);e.gridRowEnd(c,d)}},gridRowEnd:function(a,c){var d=c.msGridRow;b(a)&&b(d)&&(c.msGridRowSpan=a-d)},gridRowStart:function(a,c){b(a)&&(c.msGridRow=a)},gridTemplateColumns:function(a,b){b.msGridColumns=a},gridTemplateRows:function(a,b){b.msGridRows=a},justifySelf:function(a,b){c.indexOf(a)>-1&&(b.msGridColumnAlign=a)}};function f(a,b,c){if(a==="display"&&b in d)return d[b];if(a in e){a=e[a];a(b,c)}}}var Ia=!1;function Ja(){Ia||(Ia=!0,Ha());return Ga.exports}var U={},Ka={exports:U};function La(){Object.defineProperty(U,"__esModule",{value:!0});U["default"]=d;d=g("/lib/isPrefixedValue");var a=b(d);function b(a){return a&&a.__esModule?a:{"default":a}}var c=["-webkit-",""];function d(b,d){if(typeof d==="string"&&!a["default"](d)&&d.indexOf("image-set(")>-1)return c.map(function(a){return d.replace(/image-set\(/g,a+"image-set(")})}}var Ma=!1;function Na(){Ma||(Ma=!0,La());return Ka.exports}var V={},Oa={exports:V};function Pa(){Object.defineProperty(V,"__esModule",{value:!0});V["default"]=b;var a={marginBlockStart:["WebkitMarginBefore"],marginBlockEnd:["WebkitMarginAfter"],marginInlineStart:["WebkitMarginStart","MozMarginStart"],marginInlineEnd:["WebkitMarginEnd","MozMarginEnd"],paddingBlockStart:["WebkitPaddingBefore"],paddingBlockEnd:["WebkitPaddingAfter"],paddingInlineStart:["WebkitPaddingStart","MozPaddingStart"],paddingInlineEnd:["WebkitPaddingEnd","MozPaddingEnd"],borderBlockStart:["WebkitBorderBefore"],borderBlockStartColor:["WebkitBorderBeforeColor"],borderBlockStartStyle:["WebkitBorderBeforeStyle"],borderBlockStartWidth:["WebkitBorderBeforeWidth"],borderBlockEnd:["WebkitBorderAfter"],borderBlockEndColor:["WebkitBorderAfterColor"],borderBlockEndStyle:["WebkitBorderAfterStyle"],borderBlockEndWidth:["WebkitBorderAfterWidth"],borderInlineStart:["WebkitBorderStart","MozBorderStart"],borderInlineStartColor:["WebkitBorderStartColor","MozBorderStartColor"],borderInlineStartStyle:["WebkitBorderStartStyle","MozBorderStartStyle"],borderInlineStartWidth:["WebkitBorderStartWidth","MozBorderStartWidth"],borderInlineEnd:["WebkitBorderEnd","MozBorderEnd"],borderInlineEndColor:["WebkitBorderEndColor","MozBorderEndColor"],borderInlineEndStyle:["WebkitBorderEndStyle","MozBorderEndStyle"],borderInlineEndWidth:["WebkitBorderEndWidth","MozBorderEndWidth"]};function b(b,c,d){if(Object.prototype.hasOwnProperty.call(a,b)){b=a[b];for(var e=0,f=b.length;e<f;++e)d[b[e]]=c}}}var Qa=!1;function Ra(){Qa||(Qa=!0,Pa());return Oa.exports}var W={},Sa={exports:W};function Ta(){Object.defineProperty(W,"__esModule",{value:!0});W["default"]=a;function a(a,b){if(a==="position"&&b==="sticky")return["-webkit-sticky","sticky"]}}var Ua=!1;function Va(){Ua||(Ua=!0,Ta());return Sa.exports}var X={},Wa={exports:X};function Xa(){Object.defineProperty(X,"__esModule",{value:!0});X["default"]=d;var a=["-webkit-","-moz-",""],b={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},c={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};function d(d,e){if(b.hasOwnProperty(d)&&c.hasOwnProperty(e))return a.map(function(a){return a+e})}}var Ya=!1;function Za(){Ya||(Ya=!0,Xa());return Wa.exports}var Y={},$a={exports:Y};function ab(){Object.defineProperty(Y,"__esModule",{value:!0});Y["default"]=i;i=g("/lib/hyphenateProperty");var a=d(i);i=g("/lib/isPrefixedValue");var b=d(i);i=l();var c=d(i);function d(a){return a&&a.__esModule?a:{"default":a}}var e={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},f={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};function h(c,d){if(b["default"](c))return c;c=c.split(/,(?![^()]*(?:\([^()]*\))?\))/g);for(var e=0,g=c.length;e<g;++e){var h=c[e],i=[h];for(var j in d){var k=a["default"](j);if(h.indexOf(k)>-1&&k!=="order"){var l=d[j];for(var m=0,n=l.length;m<n;++m)i.unshift(h.replace(k,f[l[m]]+k))}}c[e]=i.join(",")}return c.join(",")}function i(a,b,d,f){if(typeof b==="string"&&e.hasOwnProperty(a)){b=h(b,f);f=b.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(a){return!/-moz-|-ms-/.test(a)}).join(",");if(a.indexOf("Webkit")>-1)return f;var g=b.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(a){return!/-webkit-|-ms-/.test(a)}).join(",");if(a.indexOf("Moz")>-1)return g;d["Webkit"+c["default"](a)]=f;d["Moz"+c["default"](a)]=g;return b}}}var bb=!1;function cb(){bb||(bb=!0,ab());return $a.exports}var Z={},db={exports:Z};function eb(){Object.defineProperty(Z,"__esModule",{value:!0});Z.prefix=Z.createPrefixer=void 0;var a=ma();a=p(a);var b=pa();b=p(b);var c=C();c=p(c);var d=F();d=p(d);var e=I();e=p(e);var f=L();f=p(f);var g=O();g=p(g);var h=R();h=p(h);var i=Fa();i=p(i);var j=Ja();j=p(j);var k=Na();k=p(k);var l=Ra();l=p(l);var m=Va();m=p(m);var n=Za();n=p(n);var o=cb();p=p(o);function p(a){return a&&a.__esModule?a:{"default":a}}o=[c["default"],e["default"],d["default"],f["default"],h["default"],i["default"],j["default"],k["default"],l["default"],m["default"],n["default"],p["default"],g["default"]];c=a["default"]({prefixMap:b["default"].prefixMap,plugins:o});Z.createPrefixer=a["default"];Z.prefix=c}var fb=!1;function gb(){fb||(fb=!0,eb());return db.exports}var $={},hb={exports:$};function ib(){Object.defineProperty($,"__esModule",{value:!0});$["default"]=e;var a={"space-around":"distribute","space-between":"justify","flex-start":"start","flex-end":"end"},b={alignContent:"msFlexLinePack",alignSelf:"msFlexItemAlign",alignItems:"msFlexAlign",justifyContent:"msFlexPack",order:"msFlexOrder",flexGrow:"msFlexPositive",flexShrink:"msFlexNegative",flexBasis:"msFlexPreferredSize"},c={auto:"1 1 auto",inherit:"inherit",initial:"0 1 auto",none:"0 0 auto",unset:"unset"},d=/^\d+(\.\d+)?$/;function e(e,f,g){Object.prototype.hasOwnProperty.call(b,e)&&(g[b[e]]=a[f]||f);if(e==="flex"){if(Object.prototype.hasOwnProperty.call(c,f)){g.msFlex=c[f];return}if(d.test(f)){g.msFlex=f+" 1 0%";return}e=f.split(/\s/);switch(e.length){case 1:g.msFlex="1 1 "+f;return;case 2:d.test(e[1])?g.msFlex=e[0]+" "+e[1]+" 0%":g.msFlex=e[0]+" 1 "+e[1];return;default:g.msFlex=f}}}}var jb=!1;function kb(){jb||(jb=!0,ib());return hb.exports}function a(a){switch(a){case void 0:return gb();case"/lib/plugins/backgroundClip":return C();case"/lib/plugins/crossFade":return I();case"/lib/plugins/cursor":return F();case"/lib/plugins/filter":return L();case"/lib/plugins/flex":return O();case"/lib/plugins/flexboxIE":return kb();case"/lib/plugins/flexboxOld":return R();case"/lib/plugins/gradient":return Fa();case"/lib/plugins/grid":return Ja();case"/lib/plugins/imageSet":return Na();case"/lib/plugins/logical":return Ra();case"/lib/plugins/position":return Va();case"/lib/plugins/sizing":return Za();case"/lib/plugins/transition":return cb()}}e.exports=a}),null);
__d("inline-style-prefixer-backgroundClip",["inline-style-prefixer-5.1.0"],(function(a,b,c,d,e,f){e.exports=b("inline-style-prefixer-5.1.0")("/lib/plugins/backgroundClip")}),null);
__d("inline-style-prefixer-crossFade",["inline-style-prefixer-5.1.0"],(function(a,b,c,d,e,f){e.exports=b("inline-style-prefixer-5.1.0")("/lib/plugins/crossFade")}),null);
__d("inline-style-prefixer-cursor",["inline-style-prefixer-5.1.0"],(function(a,b,c,d,e,f){e.exports=b("inline-style-prefixer-5.1.0")("/lib/plugins/cursor")}),null);
__d("inline-style-prefixer-filter",["inline-style-prefixer-5.1.0"],(function(a,b,c,d,e,f){e.exports=b("inline-style-prefixer-5.1.0")("/lib/plugins/filter")}),null);
__d("inline-style-prefixer-flex",["inline-style-prefixer-5.1.0"],(function(a,b,c,d,e,f){e.exports=b("inline-style-prefixer-5.1.0")("/lib/plugins/flex")}),null);
__d("inline-style-prefixer-flexboxIE",["inline-style-prefixer-5.1.0"],(function(a,b,c,d,e,f){e.exports=b("inline-style-prefixer-5.1.0")("/lib/plugins/flexboxIE")}),null);
__d("inline-style-prefixer-flexboxOld",["inline-style-prefixer-5.1.0"],(function(a,b,c,d,e,f){e.exports=b("inline-style-prefixer-5.1.0")("/lib/plugins/flexboxOld")}),null);
__d("inline-style-prefixer-gradient",["inline-style-prefixer-5.1.0"],(function(a,b,c,d,e,f){e.exports=b("inline-style-prefixer-5.1.0")("/lib/plugins/gradient")}),null);
__d("inline-style-prefixer-grid",["inline-style-prefixer-5.1.0"],(function(a,b,c,d,e,f){e.exports=b("inline-style-prefixer-5.1.0")("/lib/plugins/grid")}),null);
__d("inline-style-prefixer-imageSet",["inline-style-prefixer-5.1.0"],(function(a,b,c,d,e,f){e.exports=b("inline-style-prefixer-5.1.0")("/lib/plugins/imageSet")}),null);
__d("inline-style-prefixer-logical",["inline-style-prefixer-5.1.0"],(function(a,b,c,d,e,f){e.exports=b("inline-style-prefixer-5.1.0")("/lib/plugins/logical")}),null);
__d("inline-style-prefixer-position",["inline-style-prefixer-5.1.0"],(function(a,b,c,d,e,f){e.exports=b("inline-style-prefixer-5.1.0")("/lib/plugins/position")}),null);
__d("inline-style-prefixer-sizing",["inline-style-prefixer-5.1.0"],(function(a,b,c,d,e,f){e.exports=b("inline-style-prefixer-5.1.0")("/lib/plugins/sizing")}),null);
__d("inline-style-prefixer-transition",["inline-style-prefixer-5.1.0"],(function(a,b,c,d,e,f){e.exports=b("inline-style-prefixer-5.1.0")("/lib/plugins/transition")}),null);
__d("inline-style-prefixer",["inline-style-prefixer-5.1.0"],(function(a,b,c,d,e,f){e.exports=b("inline-style-prefixer-5.1.0")()}),null);/*FB_PKG_DELIM*/
__d("PolarisFullscreenShell.react",["PolarisBaseShell.react","PolarisHideNativeAppBanner","PolarisToastWrapper.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={shell:{height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xh8yej3",$$css:!0}};a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.componentDidMount=function(){d("PolarisHideNativeAppBanner").hideNativeAppBanner_HACK()};e.componentDidUpdate=function(a){a.deviceOrientation!=null&&a.deviceOrientation!==this.props.deviceOrientation&&d("PolarisHideNativeAppBanner").hideNativeAppBanner_HACK()};e.render=function(){var a=this.props,b=a.children;a=a.xstyle;return h.jsxs(c("PolarisBaseShell.react"),{xstyle:[i.shell,a],children:[b,h.jsx(c("PolarisToastWrapper.react"),{})]})};return b}(h.Component);g["default"]=a}),98);
__d("PolarisDirectActionShareStory",["PolarisDirectAPI","PolarisDirectActionConstants","PolarisDirectActionSendText","PolarisDirectActionThreadLoaded","PolarisDirectActionsLogger","PolarisDirectConstants","PolarisDirectStrings","PolarisODS","PolarisToastActions","Promise","isStringNullOrEmpty","nullthrows","polarisDirectSelectors","polarisGenerateOfflineThreadingId"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e,f,g,h,i,j){return function(k,l){e.forEach(function(e,m){var n;e.type==="user"?n=d("polarisDirectSelectors").getThreadIdForUserId(l(),m):e.type==="thread"&&(n=m);d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_attempt",{existingThreadId:n,recipientType:e.type,type:d("PolarisDirectConstants").ThreadItemType.STORY_SHARE});return n!=null?d("PolarisDirectAPI").storyShare(f,g,n).then(function(){i==null?void 0:i(m),d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{recipientType:e.type,type:d("PolarisDirectConstants").ThreadItemType.STORY_SHARE}),c("PolarisODS").incr("web.share_sheet.send_story")}).then(function(){var f=c("polarisGenerateOfflineThreadingId")();n!=null&&!c("isStringNullOrEmpty")(h)&&new(b("Promise"))(function(a){window.setTimeout(a,d("PolarisDirectActionConstants").NUM_SEC_DELAY_FOR_SEND_TEXT*1e3)}).then(function(){return d("PolarisDirectActionSendText").sendText(a,c("nullthrows")(n),h,f)}).then(function(){d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{recipientType:e.type,type:d("PolarisDirectConstants").ThreadItemType.TEXT}),c("PolarisODS").incr("web.share_sheet.send_story_with_comment")})["catch"](function(a){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_send_message_to_users_failed",a),k(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))})})["catch"](function(a){j==null?void 0:j(a,m),d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_share_story_failed",a,{recipientType:e.type,type:d("PolarisDirectConstants").ThreadItemType.STORY_SHARE}),k(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))}):d("PolarisDirectAPI").createGroupThread([m]).then(function(l){var n=l.thread_id;k(d("PolarisDirectActionThreadLoaded").threadLoaded(l));d("PolarisDirectAPI").storyShare(f,g,n).then(function(){i==null?void 0:i(m),d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{type:d("PolarisDirectConstants").ThreadItemType.STORY_SHARE})}).then(function(){var f=c("polarisGenerateOfflineThreadingId")();n!=null&&!c("isStringNullOrEmpty")(h)&&new(b("Promise"))(function(a){window.setTimeout(a,d("PolarisDirectActionConstants").NUM_SEC_DELAY_FOR_SEND_TEXT*1e3)}).then(function(){return d("PolarisDirectActionSendText").sendText(a,c("nullthrows")(n),h,f)}).then(function(){d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{recipientType:e.type,type:d("PolarisDirectConstants").ThreadItemType.TEXT})})["catch"](function(a){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_send_message_to_users_failed",a),k(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))})})["catch"](function(a){j==null?void 0:j(a,m),d("PolarisDirectActionsLogger").directActionsLogger.logError("share_story_failed_existing_thread",a,{type:d("PolarisDirectConstants").ThreadItemType.STORY_SHARE}),k(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))})},function(a){j==null?void 0:j(a,m),d("PolarisDirectActionsLogger").directActionsLogger.logError("share_story_failed_new_thread",a,{type:d("PolarisDirectConstants").ThreadItemType.STORY_SHARE}),k(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))})})}}g.shareStory=a}),98);
__d("PolarisNetworkInfo",[],(function(a,b,c,d,e,f){"use strict";function a(){var a=navigator;return a.connection||a.mozConnection||a.webkitConnection}f.getNavigatorConnection=a}),66);
__d("PolarisLocationAvatar.react",["cx","fbt","IGDSLocationPanoOutlineIcon","PolarisFastLink.react","PolarisLinkBuilder","PolarisUA","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.backgroundColor;b=b===void 0?"ig-secondary-background":b;var e=a.isLink;e=e===void 0?!0:e;var f=a.locationId,g=a.profilePictureUrl;a=a.size;a=a===void 0?30:a;a={height:a,width:a};var h=g!=null;h=h?j.jsx("img",{alt:"",className:"_abwx",src:g}):j.jsx("div",{className:"_abwy",children:j.jsx(c("IGDSLocationPanoOutlineIcon"),{alt:i._("__JHASH__cmMYPzRMRbE__JHASH__"),color:"ig-secondary-text",size:d("PolarisUA").isMobile()?32:44})});return j.jsx("div",{className:"_abwv"+(b==="ig-primary-background"?" _adbd":""),style:a,children:e?j.jsx(c("PolarisFastLink.react"),{className:"_aa8k",href:d("PolarisLinkBuilder").buildLocationLink({id:f,slug:""}),style_DEPRECATED:a,children:h}):j.jsx(j.Fragment,{children:h})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FocusGroup.react",["FocusManager","Locale","ReactFocusEvent.react","ReactKeyboardEvent.react","focusKeyboardEventPropagation","gkx","react","setElementCanTab"],(function(a,b,c,d,e,f,g){var h=d("react");b=d("react");var i=b.useContext,j=b.useMemo,k=b.useRef,l=5;function m(a){return a.length===1}function n(a,b,c,e){d("focusKeyboardEventPropagation").stopFocusKeyboardEventPropagation(c);b=b.DO_NOT_USE_queryFirstNode(a);b!==null&&(document.activeElement!=null&&d("setElementCanTab").setElementCanTab(document.activeElement,!1),d("setElementCanTab").setElementCanTab(b,!0),d("FocusManager").focusElement(b,{preventScroll:e}),c.preventDefault())}function o(a,b,c,d,e,f){b=b.onNavigate;if(b&&d){var g=!1,h=p(d,e);e={currentIndex:h,event:c,focusItem:function(a,b){a=a.scopeRef.current;a&&n(b||f,a,c)},getItem:function(a){return t(d,a)},getItemByTag:function(a){var b=d.length,c=h+1;while(!0){if(c===h)return null;if(c>b-1){c=0;continue}var e=d[c];if(e){var f=e.disabled,g=e.scopeRef,i=e.tag;g=g.current;if(g&&f!==!0&&i===a)return e}c++}return null},preventDefault:function(){g=!0},type:a};b(e);if(g)return!0}return!1}function p(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(d&&d.scopeRef.current===b)return c}return-1}function q(a,b,c){var d=a.scopeRef.current;if(d===null)return null;if(c!==null){d=p(c,b);b=a.wrap;a=u(c,d-1);return!a&&b===!0?u(c,c.length-1):a}return null}function r(a,b,c){var d=a.scopeRef.current;if(d===null)return null;if(c.length>0){d=p(c,b);b=a.wrap;a=s(c,d+1);return!a&&b===!0?s(c,0):a}return null}function s(a,b){var d=a.length;if(b>d)return null;b=b;while(b<d){var e=a[b];if(c("gkx")("5403")){if(e!==null)return e.scopeRef.current}else if(e!==null&&e.disabled!==!0)return e.scopeRef.current;b++}return null}function t(a,b){b=b;while(b>=0){var d=a[b];if(c("gkx")("5403")){if(d!==null)return d}else if(d!==null&&d.disabled!==!0)return d;b--}return null}function u(a,b){a=t(a,b);return a?a.scopeRef.current:null}function v(a){var b=a.altKey,c=a.ctrlKey,d=a.metaKey;a=a.shiftKey;return b===!0||c===!0||d===!0||a===!0}function a(a){var b=h.unstable_Scope,c=h.createContext(null),e=h.createContext(null);function g(e){var f=e.children,g=e.orientation,i=e.wrap,m=e.tabScopeQuery,n=e.allowModifiers,o=e.preventScrollOnFocus,p=o===void 0?!1:o;o=e.pageJumpSize;var q=o===void 0?l:o,r=e.onNavigate,s=k(null);o=j(function(){return{scopeRef:s,orientation:g,wrap:i,tabScopeQuery:m,allowModifiers:n,pageJumpSize:q,preventScrollOnFocus:p,onNavigate:r}},[g,i,m,n,q,p,r]);var u=k(!1);e=d("ReactFocusEvent.react").useFocusWithin(s,j(function(){return{onFocusWithin:function(b){u.current||(u.current=!0,s.current&&a&&(t(s.current,a),d("setElementCanTab").setElementCanTab(b.target,!0)))}}},[u]));return h.jsx(c.Provider,{value:o,children:h.jsx(b,{ref:e,children:f})})}g.displayName=g.name+" [from "+f.id+"]";function t(a,b){var c=document.activeElement;a=a.DO_NOT_USE_queryAllNodes(b);if(a!==null)for(b=0;b<a.length;b++){var e=a[b];e!==c?d("setElementCanTab").setElementCanTab(e,!1):d("setElementCanTab").setElementCanTab(e,!0)}}function w(f){var g=f.children,l=f.disabled;f=f.tag;var w=k(null),x=i(c);d("ReactKeyboardEvent.react").useKeyboard(w,j(function(){return{onKeyDown:function(b){if(d("focusKeyboardEventPropagation").hasFocusKeyboardEventPropagationStopped(b))return;var c=w.current;if(c!==null&&x!==null){var f=x.orientation==="vertical"||x.orientation==="both",g=x.orientation==="horizontal"||x.orientation==="both",h=x.scopeRef.current,i=b.key,j=x.preventScrollOnFocus;if(i==="Tab"&&h!==null){var k=x.tabScopeQuery;if(k){if(x.onNavigate){var l=h.getChildContextValues(e);if(o("TAB",x,b,l,c,k))return}t(h,k)}return}if(v(b)){l=x.allowModifiers;if(l!==!0)return}if(h===null)return;k=i;d("Locale").isRTL()&&(i==="ArrowRight"?k="ArrowLeft":i==="ArrowLeft"&&(k="ArrowRight"));switch(k){case"Home":l=h.getChildContextValues(e);if(o("HOME",x,b,l,c,a))return;k=s(l,0);if(k){n(a,k,b,j);return}break;case"End":l=h.getChildContextValues(e);if(o("END",x,b,l,c,a))return;k=u(l,l.length-1);if(k){n(a,k,b,j);return}break;case"PageUp":l=h.getChildContextValues(e);if(o("PAGE_UP",x,b,l,c,a))return;k=x.pageJumpSize;var y=p(l,c);l=s(l,Math.max(0,y-k));if(l){n(a,l,b,j);return}break;case"PageDown":y=h.getChildContextValues(e);if(o("PAGE_DOWN",x,b,y,c,a))return;k=x.pageJumpSize;l=p(y,c);y=u(y,Math.min(y.length-1,l+k));if(y){n(a,y,b,j);return}break;case"ArrowUp":if(f){l=h.getChildContextValues(e);if(o("PREV_ITEM",x,b,l,c,a))return;k=b.metaKey||b.ctrlKey?s(l,0):q(x,c,l);if(k){n(a,k,b,j);return}}break;case"ArrowDown":if(f){y=h.getChildContextValues(e);if(o("NEXT_ITEM",x,b,y,c,a))return;l=b.metaKey||b.ctrlKey?u(y,y.length-1):r(x,c,y);if(l){n(a,l,b,j);return}}break;case"ArrowLeft":if(g){k=h.getChildContextValues(e);if(o("PREV_ITEM",x,b,k,c,a))return;f=b.metaKey||b.ctrlKey?s(k,0):q(x,c,k);if(f){n(a,f,b,j);return}}break;case"ArrowRight":if(g){y=h.getChildContextValues(e);if(o("NEXT_ITEM",x,b,y,c,a))return;l=b.metaKey||b.ctrlKey?u(y,y.length-1):r(x,c,y);l&&n(a,l,b,j)}break;default:if(m(i)&&x.onNavigate){k=h.getChildContextValues(e);o("PRINT_CHAR",x,b,k,c,a)}}}}}},[x]));var y=d("ReactFocusEvent.react").useFocusWithin(w,j(function(){return{onFocusWithin:function(b){if(a!=null){var c;c=(c=w.current)==null?void 0:c.DO_NOT_USE_queryFirstNode(a);b=b.target===c;if(b&&(c&&!d("setElementCanTab").canElementTab(c))){b=x==null?void 0:x.scopeRef.current;b&&t(b,a)}}}}},[x==null?void 0:x.scopeRef]));l={scopeRef:w,disabled:l,tag:f};return h.jsx(e.Provider,{value:l,children:h.jsx(b,{ref:y,children:g})})}w.displayName=w.name+" [from "+f.id+"]";return[g,w]}g.createFocusGroup=a}),98);/*FB_PKG_DELIM*/
__d("IGDSWebPauseFilledIcon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 48 48",children:h.jsx("path",{d:"M15 1c-3.3 0-6 1.3-6 3v40c0 1.7 2.7 3 6 3s6-1.3 6-3V4c0-1.7-2.7-3-6-3zm18 0c-3.3 0-6 1.3-6 3v40c0 1.7 2.7 3 6 3s6-1.3 6-3V4c0-1.7-2.7-3-6-3z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("useWWWIGStoriesLogging",["PolarisLogPageView","PolarisReactRedux","polarisStorySelectors","react","useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef;function a(){var a=d("PolarisReactRedux").useSelector(d("polarisStorySelectors").getCurrentPostId),b=c("useCometRouterState")(),e=i(null);h(function(){b!=null&&a!=null&&(e==null?void 0:e.current)!=null&&e.current!==a&&c("PolarisLogPageView")(b),e.current=a},[a,b])}g["default"]=a}),98);
__d("usePolarisStoriesProviderDisableNewPlayback",["PolarisConfig","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a,b,c,e){var f=a.hasFocus,g=a.isBugNubActive,i=a.isCaptionModalActive,j=a.isCloseFriendsDialogActive,k=a.isExclusiveStoryDialogActive,l=a.isHidden,m=a.isHighlightsTrayActive,n=a.isKeyboardActive,o=a.isModalActive,p=a.isPaused,q=a.isStoryShareSheetActive,r=a.isStoryViewerListActive,s=a.isTransitioning,t=a.isUnfollowModalActive;h(function(){var a=g||k||j||n||o||p||q||r||m||s||t||i||l||d("PolarisConfig").isIOS()&&!f||b!=null||c;e({isPlaybackDisabled:a})},[f,g,j,k,l,n,o,p,q,r,m,s,t,i,c,e,b])}g["default"]=a}),98);
__d("PolarisStoriesProvider.react",["PolarisReactRedux","PolarisRelationshipTypes","PolarisStoriesContext","nullthrows","polarisRelationshipSelectors","polarisStorySelectors","react","usePolarisStoriesProviderDisableNewPlayback","useWWWIGStoriesLogging"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useContext,k=e.useEffect,l=e.useMemo,m=e.useState;function a(){return j(d("PolarisStoriesContext").StoriesContext)}function b(a){var b=a.children,e=a.initialState,f=c("nullthrows")(d("PolarisReactRedux").useSelector(d("polarisStorySelectors").getCurrentPostAuthor));a=d("PolarisReactRedux").useSelector(function(a){return d("polarisRelationshipSelectors").getRelationship(a.relationships,f.id)});var g=a.followedByViewer.state===d("PolarisRelationshipTypes").FOLLOW_STATUS_FOLLOWING,j=d("PolarisReactRedux").useSelector(function(a){return a.displayProperties.viewportHeight});a=l(function(){return babelHelpers["extends"]({},d("PolarisStoriesContext").defaultContext,e,{isInitiallyFollowedByViewer:g,viewerHeight:j})},[g,e,j]);a=m(a);var n=a[0],o=a[1];a=d("PolarisReactRedux").useSelector(d("polarisStorySelectors").isFromPreviousFullscreenSession);var p=d("PolarisReactRedux").useSelector(function(a){return a.stories.isAppAttributionOpen}),q=d("PolarisReactRedux").useSelector(function(a){return a.stories.tappedObjectId}),r=i(function(a){return o(function(b){return babelHelpers["extends"]({},b,a)})},[]),s=l(function(){return babelHelpers["extends"]({},n,{updateStoriesContext:r})},[n,r]);c("useWWWIGStoriesLogging")();var t=a||p;c("usePolarisStoriesProviderDisableNewPlayback")(n,q,t,r);k(function(){r({isResumeOverlayActive:t})},[t,r]);k(function(){r({hasFocus:document.hasFocus(),isHidden:document.hidden!=null?document.hidden:!1})},[r]);return h.jsx(d("PolarisStoriesContext").StoriesContext.Provider,{value:s,children:b})}b.displayName=b.name+" [from "+f.id+"]";e=h.memo(b);g.useStoriesContext=a;g.StoriesContextProvider=e}),98);
__d("PolarisDirectActionSendText",["Promise"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g){return a!=null?a.sendTextMessage(c,d,e,f,g):b("Promise").reject(new Error("MQTT is not instantiated"))}f.sendText=a}),66);
__d("PolarisHideNativeAppBanner",["PolarisBatchDOM","PolarisConfig","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a===void 0&&(a=c("emptyFunction")),d("PolarisConfig").isIOS()&&d("PolarisBatchDOM").mutate(function(){window.setTimeout(function(){window&&document.body&&(window.scrollTo(0,document.body.scrollHeight),a())},0)})}g.hideNativeAppBanner_HACK=a}),98);/*FB_PKG_DELIM*/
__d("IGDSInfoPanoOutlineIcon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[h.jsx("circle",{cx:"12.001",cy:"12.005",fill:"none",r:"10.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),h.jsx("circle",{cx:"11.819",cy:"7.709",r:"1.25"}),h.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"10.569",x2:"13.432",y1:"16.777",y2:"16.777"}),h.jsx("polyline",{fill:"none",points:"10.569 11.05 12 11.05 12 16.777",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("PolarisTagAvatar.react",["cx","PolarisFastLink.react","PolarisLinkBuilder","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.className,e=a.isLink;e=e===void 0?!0:e;var f=a.profilePictureUrl,g=a.size;g=g===void 0?30:g;a=a.tagName;g={height:g,width:g};return i.jsx("div",{className:c("joinClasses")("_acf-",b),"data-testid":void 0,style:g,children:e?i.jsx(c("PolarisFastLink.react"),{className:"_aa8k",href:d("PolarisLinkBuilder").buildTagLink(a),style_DEPRECATED:g,children:i.jsx("img",{alt:"",className:"_acf_",src:f})}):i.jsx("img",{alt:"",className:"_acf_",src:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);